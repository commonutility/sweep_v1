{"version":3,"file":"LogView-vxTOOHuE.js","sources":["../../src/components/ftbot/LogViewer.vue","../../src/views/LogView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nconst botStore = useBotStore();\nconst scrollContainer = ref<HTMLElement | null>(null);\n\nonMounted(async () => {\n  refreshLogs();\n});\n\nasync function refreshLogs() {\n  await botStore.activeBot.getLogs();\n  scrollToBottom();\n}\n\nfunction getLogColor(logLevel: string) {\n  switch (logLevel) {\n    case 'WARNING':\n      return 'text-yellow-500';\n    case 'ERROR':\n      return 'text-red-500';\n    default:\n      return 'text-surface-500';\n  }\n}\n\nfunction scrollToBottom() {\n  if (scrollContainer.value) {\n    scrollContainer.value.scrollTop = scrollContainer.value.scrollHeight;\n  }\n}\n</script>\n\n<template>\n  <div class=\"flex h-full p-0 align-items-start\">\n    <div\n      ref=\"scrollContainer\"\n      class=\"border border-surface-500 p-1 text-start text-sm pb-5 w-full h-full overflow-auto\"\n    >\n      <pre\n        v-for=\"(log, index) in botStore.activeBot.lastLogs\"\n        :key=\"index\"\n        class=\"m-0 overflow-visible\"\n        style=\"line-height: unset\"\n      ><span class=\"text-surface-600 dark:text-surface-400\">{{ log[0] }} <span :class=\"getLogColor(log[3])\">{{ log[3].padEnd(7, ' ') }}</span> {{ log[2] }} - </span\n      ><span class=\"dark:text-surface-200\">{{ log[4] }}</span\n        ></pre>\n    </div>\n    <div class=\"flex flex-col gap-1 ms-1\">\n      <Button\n        id=\"refresh-logs\"\n        severity=\"secondary\"\n        size=\"small\"\n        title=\"Reload Logs\"\n        @click=\"refreshLogs\"\n      >\n        <template #icon>\n          <i-mdi-refresh />\n        </template>\n      </Button>\n      <Button size=\"small\" title=\"Scroll to bottom\" severity=\"secondary\" @click=\"scrollToBottom\">\n        <template #icon>\n          <i-mdi-arrow-down-thick />\n        </template>\n      </Button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"css\" scoped>\ntextarea {\n  width: 100%;\n  min-height: 6em;\n  resize: none;\n}\n</style>\n","<script setup lang=\"ts\"></script>\n\n<template>\n  <div class=\"p-1 md:p-4 md:pe-2 h-full\">\n    <LogViewer />\n  </div>\n</template>\n"],"names":["botStore","useBotStore","scrollContainer","ref","onMounted","refreshLogs","scrollToBottom","getLogColor","logLevel","_openBlock","_createElementBlock","_hoisted_1"],"mappings":"unBAGA,MAAMA,EAAWC,EAAY,EACvBC,EAAkBC,EAAwB,IAAI,EAEpDC,EAAU,SAAY,CACRC,EAAA,CAAA,CACb,EAED,eAAeA,GAAc,CACrB,MAAAL,EAAS,UAAU,QAAQ,EAClBM,EAAA,CAAA,CAGjB,SAASC,EAAYC,EAAkB,CACrC,OAAQA,EAAU,CAChB,IAAK,UACI,MAAA,kBACT,IAAK,QACI,MAAA,eACT,QACS,MAAA,kBAAA,CACX,CAGF,SAASF,GAAiB,CACpBJ,EAAgB,QACFA,EAAA,MAAM,UAAYA,EAAgB,MAAM,aAC1D,8yBCzBeO,EAAA,EAAAC,EAAA,MAAAC,EAAA"}