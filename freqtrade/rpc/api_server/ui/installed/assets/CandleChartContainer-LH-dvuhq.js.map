{"version":3,"file":"CandleChartContainer-LH-dvuhq.js","sources":["../../node_modules/.pnpm/@primeuix+styles@1.0.0/node_modules/@primeuix/styles/textarea/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/textarea/style/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/textarea/index.mjs","../../src/components/charts/PlotIndicatorSelect.vue","../../node_modules/.pnpm/@primeuix+styles@1.0.0/node_modules/@primeuix/styles/colorpicker/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/colorpicker/style/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/colorpicker/index.mjs","../../src/utils/randomColor.ts","../../src/components/charts/PlotIndicator.vue","../../node_modules/.pnpm/@primeuix+styles@1.0.0/node_modules/@primeuix/styles/listbox/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/listbox/style/index.mjs","../../node_modules/.pnpm/primevue@4.3.3_vue@3.5.13_typescript@5.8.3_/node_modules/primevue/listbox/index.mjs","../../node_modules/.pnpm/deepmerge@4.3.1/node_modules/deepmerge/dist/cjs.js","../../src/composables/plotTemplates.ts","../../src/components/charts/PlotFromTemplate.vue","../../src/components/charts/PlotConfigSelect.vue","../../src/components/charts/PlotConfigurator.vue","../../src/utils/charts/areaPlotDataset.ts","../../src/utils/roundTimeframe.ts","../../src/composables/percentageTool.ts","../../src/utils/charts/heikinAshiDataset.ts","../../src/utils/formatters/pairFormat.ts","../../src/utils/charts/tradeChartData.ts","../../src/utils/charts/candleChartSeries.ts","../../src/components/charts/CandleChart.vue","../../src/components/charts/CandleChartContainer.vue"],"sourcesContent":["var style=({dt:e})=>`\\n.p-textarea {\\n    font-family: inherit;\\n    font-feature-settings: inherit;\\n    font-size: 1rem;\\n    color: ${e(\"textarea.color\")};\\n    background: ${e(\"textarea.background\")};\\n    padding-block: ${e(\"textarea.padding.y\")};\\n    padding-inline: ${e(\"textarea.padding.x\")};\\n    border: 1px solid ${e(\"textarea.border.color\")};\\n    transition: background ${e(\"textarea.transition.duration\")}, color ${e(\"textarea.transition.duration\")}, border-color ${e(\"textarea.transition.duration\")}, outline-color ${e(\"textarea.transition.duration\")}, box-shadow ${e(\"textarea.transition.duration\")};\\n    appearance: none;\\n    border-radius: ${e(\"textarea.border.radius\")};\\n    outline-color: transparent;\\n    box-shadow: ${e(\"textarea.shadow\")};\\n}\\n\\n.p-textarea:enabled:hover {\\n    border-color: ${e(\"textarea.hover.border.color\")};\\n}\\n\\n.p-textarea:enabled:focus {\\n    border-color: ${e(\"textarea.focus.border.color\")};\\n    box-shadow: ${e(\"textarea.focus.ring.shadow\")};\\n    outline: ${e(\"textarea.focus.ring.width\")} ${e(\"textarea.focus.ring.style\")} ${e(\"textarea.focus.ring.color\")};\\n    outline-offset: ${e(\"textarea.focus.ring.offset\")};\\n}\\n\\n.p-textarea.p-invalid {\\n    border-color: ${e(\"textarea.invalid.border.color\")};\\n}\\n\\n.p-textarea.p-variant-filled {\\n    background: ${e(\"textarea.filled.background\")};\\n}\\n\\n.p-textarea.p-variant-filled:enabled:hover {\\n    background: ${e(\"textarea.filled.hover.background\")};\\n}\\n\\n.p-textarea.p-variant-filled:enabled:focus {\\n    background: ${e(\"textarea.filled.focus.background\")};\\n}\\n\\n.p-textarea:disabled {\\n    opacity: 1;\\n    background: ${e(\"textarea.disabled.background\")};\\n    color: ${e(\"textarea.disabled.color\")};\\n}\\n\\n.p-textarea::placeholder {\\n    color: ${e(\"textarea.placeholder.color\")};\\n}\\n\\n.p-textarea.p-invalid::placeholder {\\n    color: ${e(\"textarea.invalid.placeholder.color\")};\\n}\\n\\n.p-textarea-fluid {\\n    width: 100%;\\n}\\n\\n.p-textarea-resizable {\\n    overflow: hidden;\\n    resize: none;\\n}\\n\\n.p-textarea-sm {\\n    font-size: ${e(\"textarea.sm.font.size\")};\\n    padding-block: ${e(\"textarea.sm.padding.y\")};\\n    padding-inline: ${e(\"textarea.sm.padding.x\")};\\n}\\n\\n.p-textarea-lg {\\n    font-size: ${e(\"textarea.lg.font.size\")};\\n    padding-block: ${e(\"textarea.lg.padding.y\")};\\n    padding-inline: ${e(\"textarea.lg.padding.x\")};\\n}\\n`;export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/textarea';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: function root(_ref) {\n    var instance = _ref.instance,\n      props = _ref.props;\n    return ['p-textarea p-component', {\n      'p-filled': instance.$filled,\n      'p-textarea-resizable ': props.autoResize,\n      'p-textarea-sm p-inputfield-sm': props.size === 'small',\n      'p-textarea-lg p-inputfield-lg': props.size === 'large',\n      'p-invalid': instance.$invalid,\n      'p-variant-filled': instance.$variant === 'filled',\n      'p-textarea-fluid': instance.$fluid\n    }];\n  }\n};\nvar TextareaStyle = BaseStyle.extend({\n  name: 'textarea',\n  style: style,\n  classes: classes\n});\n\nexport { TextareaStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { cn } from '@primeuix/utils';\nimport { mergeProps, createElementBlock, openBlock } from 'vue';\nimport BaseInput from '@primevue/core/baseinput';\nimport TextareaStyle from 'primevue/textarea/style';\n\nvar script$1 = {\n  name: 'BaseTextarea',\n  \"extends\": BaseInput,\n  props: {\n    autoResize: Boolean\n  },\n  style: TextareaStyle,\n  provide: function provide() {\n    return {\n      $pcTextarea: this,\n      $parentInstance: this\n    };\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: true, configurable: true, writable: true }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar script = {\n  name: 'Textarea',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  observer: null,\n  mounted: function mounted() {\n    var _this = this;\n    if (this.autoResize) {\n      this.observer = new ResizeObserver(function () {\n        // Firefox has issues without the requestAnimationFrame - ResizeObserver loop completed with undelivered notifications.\n        requestAnimationFrame(function () {\n          _this.resize();\n        });\n      });\n      this.observer.observe(this.$el);\n    }\n  },\n  updated: function updated() {\n    if (this.autoResize) {\n      this.resize();\n    }\n  },\n  beforeUnmount: function beforeUnmount() {\n    if (this.observer) {\n      this.observer.disconnect();\n    }\n  },\n  methods: {\n    resize: function resize() {\n      if (!this.$el.offsetParent) return;\n      this.$el.style.height = 'auto';\n      this.$el.style.height = this.$el.scrollHeight + 'px';\n      if (parseFloat(this.$el.style.height) >= parseFloat(this.$el.style.maxHeight)) {\n        this.$el.style.overflowY = 'scroll';\n        this.$el.style.height = this.$el.style.maxHeight;\n      } else {\n        this.$el.style.overflow = 'hidden';\n      }\n    },\n    onInput: function onInput(event) {\n      if (this.autoResize) {\n        this.resize();\n      }\n      this.writeValue(event.target.value, event);\n    }\n  },\n  computed: {\n    attrs: function attrs() {\n      return mergeProps(this.ptmi('root', {\n        context: {\n          filled: this.$filled,\n          disabled: this.disabled\n        }\n      }), this.formField);\n    },\n    dataP: function dataP() {\n      return cn(_defineProperty({\n        invalid: this.$invalid,\n        fluid: this.$fluid,\n        filled: this.$variant === 'filled'\n      }, this.size, this.size));\n    }\n  }\n};\n\nvar _hoisted_1 = [\"value\", \"name\", \"disabled\", \"aria-invalid\", \"data-p\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"textarea\", mergeProps({\n    \"class\": _ctx.cx('root'),\n    value: _ctx.d_value,\n    name: _ctx.name,\n    disabled: _ctx.disabled,\n    \"aria-invalid\": _ctx.invalid || undefined,\n    \"data-p\": $options.dataP,\n    onInput: _cache[0] || (_cache[0] = function () {\n      return $options.onInput && $options.onInput.apply($options, arguments);\n    })\n  }, $options.attrs), null, 16, _hoisted_1);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","<script setup lang=\"ts\">\nconst props = defineProps({\n  modelValue: { required: false, default: '', type: String },\n  columns: { required: true, type: Array as () => string[] },\n  label: { required: true, type: String },\n});\nconst emit = defineEmits<{\n  'update:modelValue': [value: string];\n  indicatorSelected: [value: string];\n}>();\n\nconst selAvailableIndicator = ref('');\n\nfunction emitIndicator() {\n  emit('indicatorSelected', selAvailableIndicator.value);\n  emit('update:modelValue', selAvailableIndicator.value);\n}\nfunction abort() {\n  selAvailableIndicator.value = '';\n  emitIndicator();\n}\n\nonMounted(() => {\n  selAvailableIndicator.value = props.modelValue;\n});\n\nwatch(selAvailableIndicator, () => {\n  emitIndicator();\n});\n\nwatch(\n  () => props.modelValue,\n  (newValue) => {\n    selAvailableIndicator.value = newValue;\n  },\n);\n</script>\n\n<template>\n  <div class=\"flex flex-row\">\n    <div class=\"flex flex-col grow\">\n      <label for=\"selAvailableIndicator\" class=\"form-label\">{{ label }}</label>\n      <Select v-model=\"selAvailableIndicator\" :options=\"columns\" size=\"small\" :clearable=\"false\">\n      </Select>\n    </div>\n    <Button size=\"small\" title=\"Abort\" class=\"ms-1 mt-auto\" severity=\"secondary\" @click=\"abort\">\n      <template #icon>\n        <i-mdi-close />\n      </template>\n    </Button>\n  </div>\n</template>\n","var style=({dt:n})=>`\\n.p-colorpicker {\\n    display: inline-block;\\n    position: relative;\\n}\\n\\n.p-colorpicker-dragging {\\n    cursor: pointer;\\n}\\n\\n.p-colorpicker-preview {\\n    width: ${n(\"colorpicker.preview.width\")};\\n    height: ${n(\"colorpicker.preview.height\")};\\n    padding: 0;\\n    border: 0 none;\\n    border-radius: ${n(\"colorpicker.preview.border.radius\")};\\n    transition: background ${n(\"colorpicker.transition.duration\")}, color ${n(\"colorpicker.transition.duration\")}, border-color ${n(\"colorpicker.transition.duration\")}, outline-color ${n(\"colorpicker.transition.duration\")}, box-shadow ${n(\"colorpicker.transition.duration\")};\\n    outline-color: transparent;\\n    cursor: pointer;\\n}\\n\\n.p-colorpicker-preview:enabled:focus-visible {\\n    border-color: ${n(\"colorpicker.preview.focus.border.color\")};\\n    box-shadow: ${n(\"colorpicker.preview.focus.ring.shadow\")};\\n    outline: ${n(\"colorpicker.preview.focus.ring.width\")} ${n(\"colorpicker.preview.focus.ring.style\")} ${n(\"colorpicker.preview.focus.ring.color\")};\\n    outline-offset: ${n(\"colorpicker.preview.focus.ring.offset\")};\\n}\\n\\n.p-colorpicker-panel {\\n    background: ${n(\"colorpicker.panel.background\")};\\n    border: 1px solid ${n(\"colorpicker.panel.border.color\")};\\n    border-radius: ${n(\"colorpicker.panel.border.radius\")};\\n    box-shadow: ${n(\"colorpicker.panel.shadow\")};\\n    width: 193px;\\n    height: 166px;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n\\n.p-colorpicker-panel-inline {\\n    box-shadow: none;\\n    position: static;\\n}\\n\\n.p-colorpicker-content {\\n    position: relative;\\n}\\n\\n.p-colorpicker-color-selector {\\n    width: 150px;\\n    height: 150px;\\n    inset-block-start: 8px;\\n    inset-inline-start: 8px;\\n    position: absolute;\\n}\\n\\n.p-colorpicker-color-background {\\n    width: 100%;\\n    height: 100%;\\n    background: linear-gradient(to top, #000 0%, rgba(0, 0, 0, 0) 100%), linear-gradient(to right, #fff 0%, rgba(255, 255, 255, 0) 100%);\\n}\\n\\n.p-colorpicker-color-handle {\\n    position: absolute;\\n    inset-block-start: 0px;\\n    inset-inline-start: 150px;\\n    border-radius: 100%;\\n    width: 10px;\\n    height: 10px;\\n    border-width: 1px;\\n    border-style: solid;\\n    margin: -5px 0 0 -5px;\\n    cursor: pointer;\\n    opacity: 0.85;\\n    border-color: ${n(\"colorpicker.handle.color\")};\\n}\\n\\n.p-colorpicker-hue {\\n    width: 17px;\\n    height: 150px;\\n    inset-block-start: 8px;\\n    inset-inline-start: 167px;\\n    position: absolute;\\n    opacity: 0.85;\\n    background: linear-gradient(0deg,\\n        red 0,\\n        #ff0 17%,\\n        #0f0 33%,\\n        #0ff 50%,\\n        #00f 67%,\\n        #f0f 83%,\\n        red);\\n}\\n\\n.p-colorpicker-hue-handle {\\n    position: absolute;\\n    inset-block-start: 150px;\\n    inset-inline-start: 0px;\\n    width: 21px;\\n    margin-inline-start: -2px;\\n    margin-block-start: -5px;\\n    height: 10px;\\n    border-width: 2px;\\n    border-style: solid;\\n    opacity: 0.85;\\n    cursor: pointer;\\n    border-color: ${n(\"colorpicker.handle.color\")};\\n}\\n`;export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/colorpicker';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: 'p-colorpicker p-component',\n  preview: function preview(_ref) {\n    var props = _ref.props;\n    return ['p-colorpicker-preview', {\n      'p-disabled': props.disabled\n    }];\n  },\n  panel: function panel(_ref2) {\n    var instance = _ref2.instance,\n      props = _ref2.props;\n    return ['p-colorpicker-panel', {\n      'p-colorpicker-panel-inline': props.inline,\n      'p-disabled': props.disabled,\n      'p-invalid': instance.$invalid\n    }];\n  },\n  colorSelector: 'p-colorpicker-color-selector',\n  colorBackground: 'p-colorpicker-color-background',\n  colorHandle: 'p-colorpicker-color-handle',\n  hue: 'p-colorpicker-hue',\n  hueHandle: 'p-colorpicker-hue-handle'\n};\nvar ColorPickerStyle = BaseStyle.extend({\n  name: 'colorpicker',\n  style: style,\n  classes: classes\n});\n\nexport { ColorPickerStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { isTouchDevice, addClass, removeClass, relativePosition, absolutePosition } from '@primeuix/utils/dom';\nimport { ZIndex } from '@primeuix/utils/zindex';\nimport { ConnectedOverlayScrollHandler } from '@primevue/core/utils';\nimport OverlayEventBus from 'primevue/overlayeventbus';\nimport Portal from 'primevue/portal';\nimport BaseEditableHolder from '@primevue/core/baseeditableholder';\nimport ColorPickerStyle from 'primevue/colorpicker/style';\nimport { resolveComponent, createElementBlock, openBlock, mergeProps, createCommentVNode, createVNode, withCtx, Transition, createElementVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseColorPicker',\n  \"extends\": BaseEditableHolder,\n  props: {\n    defaultColor: {\n      type: null,\n      \"default\": 'ff0000'\n    },\n    inline: {\n      type: Boolean,\n      \"default\": false\n    },\n    format: {\n      type: String,\n      \"default\": 'hex'\n    },\n    tabindex: {\n      type: String,\n      \"default\": null\n    },\n    autoZIndex: {\n      type: Boolean,\n      \"default\": true\n    },\n    baseZIndex: {\n      type: Number,\n      \"default\": 0\n    },\n    appendTo: {\n      type: [String, Object],\n      \"default\": 'body'\n    },\n    inputId: {\n      type: String,\n      \"default\": null\n    },\n    panelClass: null,\n    overlayClass: null\n  },\n  style: ColorPickerStyle,\n  provide: function provide() {\n    return {\n      $pcColorPicker: this,\n      $parentInstance: this\n    };\n  }\n};\n\nvar script = {\n  name: 'ColorPicker',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['change', 'show', 'hide'],\n  data: function data() {\n    return {\n      overlayVisible: false\n    };\n  },\n  hsbValue: null,\n  localHue: null,\n  outsideClickListener: null,\n  documentMouseMoveListener: null,\n  documentMouseUpListener: null,\n  scrollHandler: null,\n  resizeListener: null,\n  hueDragging: null,\n  colorDragging: null,\n  selfUpdate: null,\n  picker: null,\n  colorSelector: null,\n  colorHandle: null,\n  hueView: null,\n  hueHandle: null,\n  watch: {\n    modelValue: {\n      immediate: true,\n      handler: function handler(newValue) {\n        this.hsbValue = this.toHSB(newValue);\n        if (this.selfUpdate) this.selfUpdate = false;else this.updateUI();\n      }\n    }\n  },\n  beforeUnmount: function beforeUnmount() {\n    this.unbindOutsideClickListener();\n    this.unbindDragListeners();\n    this.unbindResizeListener();\n    if (this.scrollHandler) {\n      this.scrollHandler.destroy();\n      this.scrollHandler = null;\n    }\n    if (this.picker && this.autoZIndex) {\n      ZIndex.clear(this.picker);\n    }\n    this.clearRefs();\n  },\n  mounted: function mounted() {\n    this.updateUI();\n  },\n  methods: {\n    pickColor: function pickColor(event) {\n      var rect = this.colorSelector.getBoundingClientRect();\n      var top = rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      var left = rect.left + document.body.scrollLeft;\n      var saturation = Math.floor(100 * Math.max(0, Math.min(150, (event.pageX || event.changedTouches[0].pageX) - left)) / 150);\n      var brightness = Math.floor(100 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150);\n      this.hsbValue = this.validateHSB({\n        h: this.localHue,\n        s: saturation,\n        b: brightness\n      });\n      this.selfUpdate = true;\n      this.updateColorHandle();\n      this.updateInput();\n      this.updateModel(event);\n    },\n    pickHue: function pickHue(event) {\n      var top = this.hueView.getBoundingClientRect().top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0);\n      this.localHue = Math.floor(360 * (150 - Math.max(0, Math.min(150, (event.pageY || event.changedTouches[0].pageY) - top))) / 150);\n      this.hsbValue = this.validateHSB({\n        h: this.localHue,\n        s: 100,\n        b: 100\n      });\n      this.selfUpdate = true;\n      this.updateColorSelector();\n      this.updateHue();\n      this.updateModel(event);\n      this.updateInput();\n    },\n    updateModel: function updateModel(event) {\n      var value = this.d_value;\n      switch (this.format) {\n        case 'hex':\n          value = this.HSBtoHEX(this.hsbValue);\n          break;\n        case 'rgb':\n          value = this.HSBtoRGB(this.hsbValue);\n          break;\n        case 'hsb':\n          value = this.hsbValue;\n          break;\n      }\n      this.writeValue(value, event);\n      this.$emit('change', {\n        event: event,\n        value: value\n      });\n    },\n    updateColorSelector: function updateColorSelector() {\n      if (this.colorSelector) {\n        var hsbValue = this.validateHSB({\n          h: this.hsbValue.h,\n          s: 100,\n          b: 100\n        });\n        this.colorSelector.style.backgroundColor = '#' + this.HSBtoHEX(hsbValue);\n      }\n    },\n    updateColorHandle: function updateColorHandle() {\n      if (this.colorHandle) {\n        this.colorHandle.style.left = Math.floor(150 * this.hsbValue.s / 100) + 'px';\n        this.colorHandle.style.top = Math.floor(150 * (100 - this.hsbValue.b) / 100) + 'px';\n      }\n    },\n    updateHue: function updateHue() {\n      if (this.hueHandle) {\n        this.hueHandle.style.top = Math.floor(150 - 150 * this.hsbValue.h / 360) + 'px';\n      }\n    },\n    updateInput: function updateInput() {\n      if (this.$refs.input) {\n        this.$refs.input.style.backgroundColor = '#' + this.HSBtoHEX(this.hsbValue);\n      }\n    },\n    updateUI: function updateUI() {\n      this.updateHue();\n      this.updateColorHandle();\n      this.updateInput();\n      this.updateColorSelector();\n    },\n    validateHSB: function validateHSB(hsb) {\n      return {\n        h: Math.min(360, Math.max(0, hsb.h)),\n        s: Math.min(100, Math.max(0, hsb.s)),\n        b: Math.min(100, Math.max(0, hsb.b))\n      };\n    },\n    validateRGB: function validateRGB(rgb) {\n      return {\n        r: Math.min(255, Math.max(0, rgb.r)),\n        g: Math.min(255, Math.max(0, rgb.g)),\n        b: Math.min(255, Math.max(0, rgb.b))\n      };\n    },\n    validateHEX: function validateHEX(hex) {\n      var len = 6 - hex.length;\n      if (len > 0) {\n        var o = [];\n        for (var i = 0; i < len; i++) {\n          o.push('0');\n        }\n        o.push(hex);\n        hex = o.join('');\n      }\n      return hex;\n    },\n    HEXtoRGB: function HEXtoRGB(hex) {\n      var hexValue = parseInt(hex.indexOf('#') > -1 ? hex.substring(1) : hex, 16);\n      return {\n        r: hexValue >> 16,\n        g: (hexValue & 0x00ff00) >> 8,\n        b: hexValue & 0x0000ff\n      };\n    },\n    HEXtoHSB: function HEXtoHSB(hex) {\n      return this.RGBtoHSB(this.HEXtoRGB(hex));\n    },\n    RGBtoHSB: function RGBtoHSB(rgb) {\n      var hsb = {\n        h: 0,\n        s: 0,\n        b: 0\n      };\n      var min = Math.min(rgb.r, rgb.g, rgb.b);\n      var max = Math.max(rgb.r, rgb.g, rgb.b);\n      var delta = max - min;\n      hsb.b = max;\n      hsb.s = max !== 0 ? 255 * delta / max : 0;\n      if (hsb.s !== 0) {\n        if (rgb.r === max) {\n          hsb.h = (rgb.g - rgb.b) / delta;\n        } else if (rgb.g === max) {\n          hsb.h = 2 + (rgb.b - rgb.r) / delta;\n        } else {\n          hsb.h = 4 + (rgb.r - rgb.g) / delta;\n        }\n      } else {\n        hsb.h = -1;\n      }\n      hsb.h *= 60;\n      if (hsb.h < 0) {\n        hsb.h += 360;\n      }\n      hsb.s *= 100 / 255;\n      hsb.b *= 100 / 255;\n      return hsb;\n    },\n    HSBtoRGB: function HSBtoRGB(hsb) {\n      var rgb = {\n        r: null,\n        g: null,\n        b: null\n      };\n      var h = Math.round(hsb.h);\n      var s = Math.round(hsb.s * 255 / 100);\n      var v = Math.round(hsb.b * 255 / 100);\n      if (s === 0) {\n        rgb = {\n          r: v,\n          g: v,\n          b: v\n        };\n      } else {\n        var t1 = v;\n        var t2 = (255 - s) * v / 255;\n        var t3 = (t1 - t2) * (h % 60) / 60;\n        if (h === 360) h = 0;\n        if (h < 60) {\n          rgb.r = t1;\n          rgb.b = t2;\n          rgb.g = t2 + t3;\n        } else if (h < 120) {\n          rgb.g = t1;\n          rgb.b = t2;\n          rgb.r = t1 - t3;\n        } else if (h < 180) {\n          rgb.g = t1;\n          rgb.r = t2;\n          rgb.b = t2 + t3;\n        } else if (h < 240) {\n          rgb.b = t1;\n          rgb.r = t2;\n          rgb.g = t1 - t3;\n        } else if (h < 300) {\n          rgb.b = t1;\n          rgb.g = t2;\n          rgb.r = t2 + t3;\n        } else if (h < 360) {\n          rgb.r = t1;\n          rgb.g = t2;\n          rgb.b = t1 - t3;\n        } else {\n          rgb.r = 0;\n          rgb.g = 0;\n          rgb.b = 0;\n        }\n      }\n      return {\n        r: Math.round(rgb.r),\n        g: Math.round(rgb.g),\n        b: Math.round(rgb.b)\n      };\n    },\n    RGBtoHEX: function RGBtoHEX(rgb) {\n      var hex = [rgb.r.toString(16), rgb.g.toString(16), rgb.b.toString(16)];\n      for (var key in hex) {\n        if (hex[key].length === 1) {\n          hex[key] = '0' + hex[key];\n        }\n      }\n      return hex.join('');\n    },\n    HSBtoHEX: function HSBtoHEX(hsb) {\n      return this.RGBtoHEX(this.HSBtoRGB(hsb));\n    },\n    toHSB: function toHSB(value) {\n      var hsb;\n      if (value) {\n        switch (this.format) {\n          case 'hex':\n            hsb = this.HEXtoHSB(value);\n            break;\n          case 'rgb':\n            hsb = this.RGBtoHSB(value);\n            break;\n          case 'hsb':\n            hsb = value;\n            break;\n        }\n      } else {\n        hsb = this.HEXtoHSB(this.defaultColor);\n      }\n      if (this.localHue == null || !this.overlayVisible) {\n        this.localHue = hsb.h;\n      } else {\n        hsb.h = this.localHue;\n      }\n      return hsb;\n    },\n    onOverlayEnter: function onOverlayEnter(el) {\n      this.updateUI();\n      this.alignOverlay();\n      this.bindOutsideClickListener();\n      this.bindScrollListener();\n      this.bindResizeListener();\n      if (this.autoZIndex) {\n        ZIndex.set('overlay', el, this.baseZIndex, this.$primevue.config.zIndex.overlay);\n      }\n      this.$emit('show');\n    },\n    onOverlayLeave: function onOverlayLeave() {\n      this.unbindOutsideClickListener();\n      this.unbindScrollListener();\n      this.unbindResizeListener();\n      this.clearRefs();\n      this.$emit('hide');\n    },\n    onOverlayAfterLeave: function onOverlayAfterLeave(el) {\n      if (this.autoZIndex) {\n        ZIndex.clear(el);\n      }\n    },\n    alignOverlay: function alignOverlay() {\n      if (this.appendTo === 'self') relativePosition(this.picker, this.$refs.input);else absolutePosition(this.picker, this.$refs.input);\n    },\n    onInputClick: function onInputClick() {\n      if (this.disabled) {\n        return;\n      }\n      this.overlayVisible = !this.overlayVisible;\n    },\n    onInputKeydown: function onInputKeydown(event) {\n      switch (event.code) {\n        case 'Space':\n          this.overlayVisible = !this.overlayVisible;\n          event.preventDefault();\n          break;\n        case 'Escape':\n        case 'Tab':\n          this.overlayVisible = false;\n          break;\n      }\n    },\n    onInputBlur: function onInputBlur(event) {\n      var _this$formField$onBlu, _this$formField;\n      (_this$formField$onBlu = (_this$formField = this.formField).onBlur) === null || _this$formField$onBlu === void 0 || _this$formField$onBlu.call(_this$formField);\n    },\n    onColorMousedown: function onColorMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.bindDragListeners();\n      this.onColorDragStart(event);\n    },\n    onColorDragStart: function onColorDragStart(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.colorDragging = true;\n      this.pickColor(event);\n      this.$el.setAttribute('p-colorpicker-dragging', 'true');\n      !this.isUnstyled && addClass(this.$el, 'p-colorpicker-dragging');\n      event.preventDefault();\n    },\n    onDrag: function onDrag(event) {\n      if (this.colorDragging) {\n        this.pickColor(event);\n        event.preventDefault();\n      }\n      if (this.hueDragging) {\n        this.pickHue(event);\n        event.preventDefault();\n      }\n    },\n    onDragEnd: function onDragEnd() {\n      this.colorDragging = false;\n      this.hueDragging = false;\n      this.$el.setAttribute('p-colorpicker-dragging', 'false');\n      !this.isUnstyled && removeClass(this.$el, 'p-colorpicker-dragging');\n      this.unbindDragListeners();\n    },\n    onHueMousedown: function onHueMousedown(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.bindDragListeners();\n      this.onHueDragStart(event);\n    },\n    onHueDragStart: function onHueDragStart(event) {\n      if (this.disabled) {\n        return;\n      }\n      this.hueDragging = true;\n      this.pickHue(event);\n      !this.isUnstyled && addClass(this.$el, 'p-colorpicker-dragging');\n    },\n    isInputClicked: function isInputClicked(event) {\n      return this.$refs.input && this.$refs.input.isSameNode(event.target);\n    },\n    bindDragListeners: function bindDragListeners() {\n      this.bindDocumentMouseMoveListener();\n      this.bindDocumentMouseUpListener();\n    },\n    unbindDragListeners: function unbindDragListeners() {\n      this.unbindDocumentMouseMoveListener();\n      this.unbindDocumentMouseUpListener();\n    },\n    bindOutsideClickListener: function bindOutsideClickListener() {\n      var _this = this;\n      if (!this.outsideClickListener) {\n        this.outsideClickListener = function (event) {\n          if (_this.overlayVisible && _this.picker && !_this.picker.contains(event.target) && !_this.isInputClicked(event)) {\n            _this.overlayVisible = false;\n          }\n        };\n        document.addEventListener('click', this.outsideClickListener, true);\n      }\n    },\n    unbindOutsideClickListener: function unbindOutsideClickListener() {\n      if (this.outsideClickListener) {\n        document.removeEventListener('click', this.outsideClickListener, true);\n        this.outsideClickListener = null;\n      }\n    },\n    bindScrollListener: function bindScrollListener() {\n      var _this2 = this;\n      if (!this.scrollHandler) {\n        this.scrollHandler = new ConnectedOverlayScrollHandler(this.$refs.container, function () {\n          if (_this2.overlayVisible) {\n            _this2.overlayVisible = false;\n          }\n        });\n      }\n      this.scrollHandler.bindScrollListener();\n    },\n    unbindScrollListener: function unbindScrollListener() {\n      if (this.scrollHandler) {\n        this.scrollHandler.unbindScrollListener();\n      }\n    },\n    bindResizeListener: function bindResizeListener() {\n      var _this3 = this;\n      if (!this.resizeListener) {\n        this.resizeListener = function () {\n          if (_this3.overlayVisible && !isTouchDevice()) {\n            _this3.overlayVisible = false;\n          }\n        };\n        window.addEventListener('resize', this.resizeListener);\n      }\n    },\n    unbindResizeListener: function unbindResizeListener() {\n      if (this.resizeListener) {\n        window.removeEventListener('resize', this.resizeListener);\n        this.resizeListener = null;\n      }\n    },\n    bindDocumentMouseMoveListener: function bindDocumentMouseMoveListener() {\n      if (!this.documentMouseMoveListener) {\n        this.documentMouseMoveListener = this.onDrag.bind(this);\n        document.addEventListener('mousemove', this.documentMouseMoveListener);\n      }\n    },\n    unbindDocumentMouseMoveListener: function unbindDocumentMouseMoveListener() {\n      if (this.documentMouseMoveListener) {\n        document.removeEventListener('mousemove', this.documentMouseMoveListener);\n        this.documentMouseMoveListener = null;\n      }\n    },\n    bindDocumentMouseUpListener: function bindDocumentMouseUpListener() {\n      if (!this.documentMouseUpListener) {\n        this.documentMouseUpListener = this.onDragEnd.bind(this);\n        document.addEventListener('mouseup', this.documentMouseUpListener);\n      }\n    },\n    unbindDocumentMouseUpListener: function unbindDocumentMouseUpListener() {\n      if (this.documentMouseUpListener) {\n        document.removeEventListener('mouseup', this.documentMouseUpListener);\n        this.documentMouseUpListener = null;\n      }\n    },\n    pickerRef: function pickerRef(el) {\n      this.picker = el;\n    },\n    colorSelectorRef: function colorSelectorRef(el) {\n      this.colorSelector = el;\n    },\n    colorHandleRef: function colorHandleRef(el) {\n      this.colorHandle = el;\n    },\n    hueViewRef: function hueViewRef(el) {\n      this.hueView = el;\n    },\n    hueHandleRef: function hueHandleRef(el) {\n      this.hueHandle = el;\n    },\n    clearRefs: function clearRefs() {\n      this.picker = null;\n      this.colorSelector = null;\n      this.colorHandle = null;\n      this.hueView = null;\n      this.hueHandle = null;\n    },\n    onOverlayClick: function onOverlayClick(event) {\n      OverlayEventBus.emit('overlay-click', {\n        originalEvent: event,\n        target: this.$el\n      });\n    }\n  },\n  components: {\n    Portal: Portal\n  }\n};\n\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), true).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: true, configurable: true, writable: true }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nvar _hoisted_1 = [\"id\", \"tabindex\", \"disabled\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_Portal = resolveComponent(\"Portal\");\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    ref: \"container\",\n    \"class\": _ctx.cx('root')\n  }, _ctx.ptmi('root')), [!_ctx.inline ? (openBlock(), createElementBlock(\"input\", mergeProps({\n    key: 0,\n    ref: \"input\",\n    id: _ctx.inputId,\n    type: \"text\",\n    \"class\": _ctx.cx('preview'),\n    readonly: \"\",\n    tabindex: _ctx.tabindex,\n    disabled: _ctx.disabled,\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.onInputClick && $options.onInputClick.apply($options, arguments);\n    }),\n    onKeydown: _cache[1] || (_cache[1] = function () {\n      return $options.onInputKeydown && $options.onInputKeydown.apply($options, arguments);\n    }),\n    onBlur: _cache[2] || (_cache[2] = function () {\n      return $options.onInputBlur && $options.onInputBlur.apply($options, arguments);\n    })\n  }, _ctx.ptm('preview')), null, 16, _hoisted_1)) : createCommentVNode(\"\", true), createVNode(_component_Portal, {\n    appendTo: _ctx.appendTo,\n    disabled: _ctx.inline\n  }, {\n    \"default\": withCtx(function () {\n      return [createVNode(Transition, mergeProps({\n        name: \"p-connected-overlay\",\n        onEnter: $options.onOverlayEnter,\n        onLeave: $options.onOverlayLeave,\n        onAfterLeave: $options.onOverlayAfterLeave\n      }, _ctx.ptm('transition')), {\n        \"default\": withCtx(function () {\n          return [(_ctx.inline ? true : $data.overlayVisible) ? (openBlock(), createElementBlock(\"div\", mergeProps({\n            key: 0,\n            ref: $options.pickerRef,\n            \"class\": [_ctx.cx('panel'), _ctx.panelClass, _ctx.overlayClass],\n            onClick: _cache[11] || (_cache[11] = function () {\n              return $options.onOverlayClick && $options.onOverlayClick.apply($options, arguments);\n            })\n          }, _objectSpread(_objectSpread({}, _ctx.ptm('panel')), _ctx.ptm('overlay'))), [createElementVNode(\"div\", mergeProps({\n            \"class\": _ctx.cx('content')\n          }, _ctx.ptm('content')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.colorSelectorRef,\n            \"class\": _ctx.cx('colorSelector'),\n            onMousedown: _cache[3] || (_cache[3] = function ($event) {\n              return $options.onColorMousedown($event);\n            }),\n            onTouchstart: _cache[4] || (_cache[4] = function ($event) {\n              return $options.onColorDragStart($event);\n            }),\n            onTouchmove: _cache[5] || (_cache[5] = function ($event) {\n              return $options.onDrag($event);\n            }),\n            onTouchend: _cache[6] || (_cache[6] = function ($event) {\n              return $options.onDragEnd();\n            })\n          }, _ctx.ptm('colorSelector')), [createElementVNode(\"div\", mergeProps({\n            \"class\": _ctx.cx('colorBackground')\n          }, _ctx.ptm('colorBackground')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.colorHandleRef,\n            \"class\": _ctx.cx('colorHandle')\n          }, _ctx.ptm('colorHandle')), null, 16)], 16)], 16), createElementVNode(\"div\", mergeProps({\n            ref: $options.hueViewRef,\n            \"class\": _ctx.cx('hue'),\n            onMousedown: _cache[7] || (_cache[7] = function ($event) {\n              return $options.onHueMousedown($event);\n            }),\n            onTouchstart: _cache[8] || (_cache[8] = function ($event) {\n              return $options.onHueDragStart($event);\n            }),\n            onTouchmove: _cache[9] || (_cache[9] = function ($event) {\n              return $options.onDrag($event);\n            }),\n            onTouchend: _cache[10] || (_cache[10] = function ($event) {\n              return $options.onDragEnd();\n            })\n          }, _ctx.ptm('hue')), [createElementVNode(\"div\", mergeProps({\n            ref: $options.hueHandleRef,\n            \"class\": _ctx.cx('hueHandle')\n          }, _ctx.ptm('hueHandle')), null, 16)], 16)], 16)], 16)) : createCommentVNode(\"\", true)];\n        }),\n        _: 1\n      }, 16, [\"onEnter\", \"onLeave\", \"onAfterLeave\"])];\n    }),\n    _: 1\n  }, 8, [\"appendTo\", \"disabled\"])], 16);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","export function randomColor() {\n  return `#${Math.floor(Math.random() * 0xffffff)\n    .toString(16)\n    .padStart(6, '0')}`;\n}\n","<script setup lang=\"ts\">\nimport type { ChartTypeString, IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\n\nconst props = defineProps({\n  modelValue: { required: true, type: Object as () => Record<string, IndicatorConfig> },\n  columns: { required: true, type: Array as () => string[] },\n});\n\nconst emit = defineEmits<{ 'update:modelValue': [value: IndicatorConfig] }>();\n\nconst selColor_ = ref(randomColor());\nconst selColor = computed({\n  get: () => selColor_.value,\n  set: (val) => {\n    if (\n      !val.startsWith('#') &&\n      (val.length === 3 || val.length === 6) &&\n      /^[0-9a-fA-F]+$/.test(val)\n    ) {\n      val = `#${val}`;\n    }\n    selColor_.value = val;\n  },\n});\nconst graphType = ref<ChartTypeString>(ChartType.line);\nconst availableGraphTypes = ref<ChartTypeString[]>(Object.keys(ChartType) as ChartTypeString[]);\nconst selAvailableIndicator = ref('');\nconst cancelled = ref(false);\nconst fillTo = ref('');\nconst scatterSymbolSize = ref(3);\n\nfunction newColor() {\n  selColor.value = randomColor();\n}\n\nconst combinedIndicator = computed<IndicatorConfig>(() => {\n  if (cancelled.value || !selAvailableIndicator.value) {\n    return {};\n  }\n  const val: IndicatorConfig = {\n    color: selColor.value,\n    type: graphType.value,\n  };\n  if (fillTo.value && graphType.value === ChartType.line) {\n    val.fill_to = fillTo.value;\n  }\n  if (graphType.value == ChartType.scatter) {\n    val.scatterSymbolSize = scatterSymbolSize.value;\n  }\n  return {\n    [selAvailableIndicator.value]: val,\n  };\n});\n\nfunction emitIndicator() {\n  emit('update:modelValue', combinedIndicator.value);\n}\n\nwatch(\n  () => props.modelValue,\n  () => {\n    [selAvailableIndicator.value] = Object.keys(props.modelValue);\n    cancelled.value = false;\n    if (selAvailableIndicator.value && props.modelValue) {\n      const xx = props.modelValue[selAvailableIndicator.value];\n      selColor.value = xx.color || randomColor();\n      graphType.value = xx.type || ChartType.line;\n      fillTo.value = xx.fill_to || '';\n    }\n  },\n  {\n    immediate: true,\n  },\n);\n\nwatchDebounced(\n  [selColor, graphType, fillTo, scatterSymbolSize],\n  () => {\n    emitIndicator();\n  },\n  {\n    debounce: 200,\n  },\n);\n</script>\n\n<template>\n  <div>\n    <div class=\"flex flex-col lg:flex-row justify-between mt-1\">\n      <div class=\"flex flex-col w-full\">\n        <label for=\"plotTypeSelector\" class=\"form-label\">Type</label>\n        <Select\n          id=\"plotTypeSelector\"\n          v-model=\"graphType\"\n          class=\"text-left\"\n          size=\"small\"\n          :options=\"availableGraphTypes\"\n        >\n        </Select>\n      </div>\n      <div class=\"flex flex-col w-full\">\n        <label for=\"selAvailableIndicator\" class=\"colsel\">Color</label>\n        <InputGroup>\n          <InputGroupAddon class=\"p-0!\">\n            <ColorPicker v-model=\"selColor\" type=\"color\" class=\"m-auto\"></ColorPicker>\n          </InputGroupAddon>\n          <InputText id=\"colsel\" v-model=\"selColor\" size=\"small\" class=\"grow\"> </InputText>\n          <InputGroupAddon>\n            <Button severity=\"primary\" size=\"small\" @click=\"newColor\">\n              <template #icon>\n                <i-mdi-dice-multiple />\n              </template>\n            </Button>\n          </InputGroupAddon>\n        </InputGroup>\n      </div>\n    </div>\n    <PlotIndicatorSelect\n      v-if=\"graphType === ChartType.line\"\n      v-model=\"fillTo\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Area chart - Fill to (leave empty for line chart)\"\n    />\n    <div v-if=\"graphType === ChartType.scatter\" class=\"flex flex-col mt-2 gap-1 items-center\">\n      <label for=\"scatterSymbolSize\" class=\"text-nowrap\">Scatter symbol size</label>\n      <InputNumber\n        id=\"scatterSymbolSize\"\n        v-model=\"scatterSymbolSize\"\n        :min=\"0\"\n        show-buttons\n        size=\"small\"\n        button-layout=\"horizontal\"\n        class=\"text-center w-full\"\n      />\n    </div>\n  </div>\n</template>\n","var style=({dt:o})=>`\\n.p-listbox {\\n    background: ${o(\"listbox.background\")};\\n    color: ${o(\"listbox.color\")};\\n    border: 1px solid ${o(\"listbox.border.color\")};\\n    border-radius: ${o(\"listbox.border.radius\")};\\n    transition: background ${o(\"listbox.transition.duration\")}, color ${o(\"listbox.transition.duration\")}, border-color ${o(\"listbox.transition.duration\")},\\n            box-shadow ${o(\"listbox.transition.duration\")}, outline-color ${o(\"listbox.transition.duration\")};\\n    outline-color: transparent;\\n    box-shadow: ${o(\"listbox.shadow\")};\\n}\\n\\n.p-listbox.p-disabled {\\n    opacity: 1;\\n    background: ${o(\"listbox.disabled.background\")};\\n    color: ${o(\"listbox.disabled.color\")};\\n}\\n\\n.p-listbox.p-disabled .p-listbox-option {\\n    color: ${o(\"listbox.disabled.color\")};\\n}\\n\\n.p-listbox.p-invalid {\\n    border-color: ${o(\"listbox.invalid.border.color\")};\\n}\\n\\n.p-listbox-header {\\n    padding: ${o(\"listbox.list.header.padding\")};\\n}\\n\\n.p-listbox-filter {\\n    width: 100%;\\n}\\n\\n.p-listbox-list-container {\\n    overflow: auto;\\n}\\n\\n.p-listbox-list {\\n    list-style-type: none;\\n    margin: 0;\\n    padding: ${o(\"listbox.list.padding\")};\\n    outline: 0 none;\\n    display: flex;\\n    flex-direction: column;\\n    gap: ${o(\"listbox.list.gap\")};\\n}\\n\\n.p-listbox-option {\\n    display: flex;\\n    align-items: center;\\n    cursor: pointer;\\n    position: relative;\\n    overflow: hidden;\\n    padding: ${o(\"listbox.option.padding\")};\\n    border: 0 none;\\n    border-radius: ${o(\"listbox.option.border.radius\")};\\n    color: ${o(\"listbox.option.color\")};\\n    transition: background ${o(\"listbox.transition.duration\")}, color ${o(\"listbox.transition.duration\")}, border-color ${o(\"listbox.transition.duration\")},\\n            box-shadow ${o(\"listbox.transition.duration\")}, outline-color ${o(\"listbox.transition.duration\")};\\n}\\n\\n.p-listbox-striped li:nth-child(even of .p-listbox-option) {\\n    background: ${o(\"listbox.option.striped.background\")};\\n}\\n\\n.p-listbox .p-listbox-list .p-listbox-option.p-listbox-option-selected {\\n    background: ${o(\"listbox.option.selected.background\")};\\n    color: ${o(\"listbox.option.selected.color\")};\\n}\\n\\n.p-listbox:not(.p-disabled) .p-listbox-option.p-listbox-option-selected.p-focus {\\n    background: ${o(\"listbox.option.selected.focus.background\")};\\n    color: ${o(\"listbox.option.selected.focus.color\")};\\n}\\n\\n.p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled).p-focus {\\n    background: ${o(\"listbox.option.focus.background\")};\\n    color: ${o(\"listbox.option.focus.color\")};\\n}\\n\\n.p-listbox:not(.p-disabled) .p-listbox-option:not(.p-listbox-option-selected):not(.p-disabled):hover {\\n    background: ${o(\"listbox.option.focus.background\")};\\n    color: ${o(\"listbox.option.focus.color\")};\\n}\\n\\n.p-listbox-option-blank-icon {\\n    flex-shrink: 0;\\n}\\n\\n.p-listbox-option-check-icon {\\n    position: relative;\\n    flex-shrink: 0;\\n    margin-inline-start: ${o(\"listbox.checkmark.gutter.start\")};\\n    margin-inline-end: ${o(\"listbox.checkmark.gutter.end\")};\\n    color: ${o(\"listbox.checkmark.color\")};\\n}\\n\\n.p-listbox-option-group {\\n    margin: 0;\\n    padding: ${o(\"listbox.option.group.padding\")};\\n    color: ${o(\"listbox.option.group.color\")};\\n    background: ${o(\"listbox.option.group.background\")};\\n    font-weight: ${o(\"listbox.option.group.font.weight\")};\\n}\\n\\n.p-listbox-empty-message {\\n    padding: ${o(\"listbox.empty.message.padding\")};\\n}\\n`;export{style};//# sourceMappingURL=index.mjs.map","import { style } from '@primeuix/styles/listbox';\nimport BaseStyle from '@primevue/core/base/style';\n\nvar classes = {\n  root: function root(_ref) {\n    var instance = _ref.instance,\n      props = _ref.props;\n    return ['p-listbox p-component', {\n      'p-listbox-striped': props.striped,\n      'p-disabled': props.disabled,\n      'p-invalid': instance.$invalid\n    }];\n  },\n  header: 'p-listbox-header',\n  pcFilter: 'p-listbox-filter',\n  listContainer: 'p-listbox-list-container',\n  list: 'p-listbox-list',\n  optionGroup: 'p-listbox-option-group',\n  option: function option(_ref2) {\n    var instance = _ref2.instance,\n      props = _ref2.props,\n      _option = _ref2.option,\n      index = _ref2.index,\n      getItemOptions = _ref2.getItemOptions;\n    return ['p-listbox-option', {\n      'p-listbox-option-selected': instance.isSelected(_option) && props.highlightOnSelect,\n      'p-focus': instance.focusedOptionIndex === instance.getOptionIndex(index, getItemOptions),\n      'p-disabled': instance.isOptionDisabled(_option)\n    }];\n  },\n  optionCheckIcon: 'p-listbox-option-check-icon',\n  optionBlankIcon: 'p-listbox-option-blank-icon',\n  emptyMessage: 'p-listbox-empty-message'\n};\nvar ListboxStyle = BaseStyle.extend({\n  name: 'listbox',\n  style: style,\n  classes: classes\n});\n\nexport { ListboxStyle as default };\n//# sourceMappingURL=index.mjs.map\n","import { cn } from '@primeuix/utils';\nimport { findSingle, getFirstFocusableElement, focus, isElement } from '@primeuix/utils/dom';\nimport { isNotEmpty, equals, findLastIndex, isPrintableCharacter, resolveFieldData } from '@primeuix/utils/object';\nimport { FilterService } from '@primevue/core/api';\nimport BlankIcon from '@primevue/icons/blank';\nimport CheckIcon from '@primevue/icons/check';\nimport SearchIcon from '@primevue/icons/search';\nimport IconField from 'primevue/iconfield';\nimport InputIcon from 'primevue/inputicon';\nimport InputText from 'primevue/inputtext';\nimport Ripple from 'primevue/ripple';\nimport VirtualScroller from 'primevue/virtualscroller';\nimport BaseEditableHolder from '@primevue/core/baseeditableholder';\nimport ListboxStyle from 'primevue/listbox/style';\nimport { resolveComponent, resolveDirective, createElementBlock, openBlock, mergeProps, createElementVNode, createCommentVNode, renderSlot, normalizeClass, createVNode, withCtx, createBlock, normalizeProps, toDisplayString, createSlots, Fragment, renderList, withDirectives, createTextVNode } from 'vue';\n\nvar script$1 = {\n  name: 'BaseListbox',\n  \"extends\": BaseEditableHolder,\n  props: {\n    options: Array,\n    optionLabel: null,\n    optionValue: null,\n    optionDisabled: null,\n    optionGroupLabel: null,\n    optionGroupChildren: null,\n    listStyle: null,\n    scrollHeight: {\n      type: String,\n      \"default\": '14rem'\n    },\n    dataKey: null,\n    multiple: {\n      type: Boolean,\n      \"default\": false\n    },\n    metaKeySelection: {\n      type: Boolean,\n      \"default\": false\n    },\n    filter: Boolean,\n    filterPlaceholder: String,\n    filterLocale: String,\n    filterMatchMode: {\n      type: String,\n      \"default\": 'contains'\n    },\n    filterFields: {\n      type: Array,\n      \"default\": null\n    },\n    virtualScrollerOptions: {\n      type: Object,\n      \"default\": null\n    },\n    autoOptionFocus: {\n      type: Boolean,\n      \"default\": true\n    },\n    selectOnFocus: {\n      type: Boolean,\n      \"default\": false\n    },\n    focusOnHover: {\n      type: Boolean,\n      \"default\": true\n    },\n    highlightOnSelect: {\n      type: Boolean,\n      \"default\": true\n    },\n    checkmark: {\n      type: Boolean,\n      \"default\": false\n    },\n    filterMessage: {\n      type: String,\n      \"default\": null\n    },\n    selectionMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptySelectionMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptyFilterMessage: {\n      type: String,\n      \"default\": null\n    },\n    emptyMessage: {\n      type: String,\n      \"default\": null\n    },\n    filterIcon: {\n      type: String,\n      \"default\": undefined\n    },\n    striped: {\n      type: Boolean,\n      \"default\": false\n    },\n    tabindex: {\n      type: Number,\n      \"default\": 0\n    },\n    ariaLabel: {\n      type: String,\n      \"default\": null\n    },\n    ariaLabelledby: {\n      type: String,\n      \"default\": null\n    }\n  },\n  style: ListboxStyle,\n  provide: function provide() {\n    return {\n      $pcListbox: this,\n      $parentInstance: this\n    };\n  }\n};\n\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nvar script = {\n  name: 'Listbox',\n  \"extends\": script$1,\n  inheritAttrs: false,\n  emits: ['change', 'focus', 'blur', 'filter', 'item-dblclick', 'option-dblclick'],\n  list: null,\n  virtualScroller: null,\n  optionTouched: false,\n  startRangeIndex: -1,\n  searchTimeout: null,\n  searchValue: '',\n  data: function data() {\n    return {\n      filterValue: null,\n      focused: false,\n      focusedOptionIndex: -1\n    };\n  },\n  watch: {\n    options: function options() {\n      this.autoUpdateModel();\n    }\n  },\n  mounted: function mounted() {\n    this.autoUpdateModel();\n  },\n  methods: {\n    getOptionIndex: function getOptionIndex(index, fn) {\n      return this.virtualScrollerDisabled ? index : fn && fn(index)['index'];\n    },\n    getOptionLabel: function getOptionLabel(option) {\n      return this.optionLabel ? resolveFieldData(option, this.optionLabel) : typeof option === 'string' ? option : null;\n    },\n    getOptionValue: function getOptionValue(option) {\n      return this.optionValue ? resolveFieldData(option, this.optionValue) : option;\n    },\n    getOptionRenderKey: function getOptionRenderKey(option, index) {\n      return (this.dataKey ? resolveFieldData(option, this.dataKey) : this.getOptionLabel(option)) + '_' + index;\n    },\n    getPTOptions: function getPTOptions(option, itemOptions, index, key) {\n      return this.ptm(key, {\n        context: {\n          selected: this.isSelected(option),\n          focused: this.focusedOptionIndex === this.getOptionIndex(index, itemOptions),\n          disabled: this.isOptionDisabled(option)\n        }\n      });\n    },\n    isOptionDisabled: function isOptionDisabled(option) {\n      return this.optionDisabled ? resolveFieldData(option, this.optionDisabled) : false;\n    },\n    isOptionGroup: function isOptionGroup(option) {\n      return this.optionGroupLabel && option.optionGroup && option.group;\n    },\n    getOptionGroupLabel: function getOptionGroupLabel(optionGroup) {\n      return resolveFieldData(optionGroup, this.optionGroupLabel);\n    },\n    getOptionGroupChildren: function getOptionGroupChildren(optionGroup) {\n      return resolveFieldData(optionGroup, this.optionGroupChildren);\n    },\n    getAriaPosInset: function getAriaPosInset(index) {\n      var _this = this;\n      return (this.optionGroupLabel ? index - this.visibleOptions.slice(0, index).filter(function (option) {\n        return _this.isOptionGroup(option);\n      }).length : index) + 1;\n    },\n    onFirstHiddenFocus: function onFirstHiddenFocus() {\n      focus(this.list);\n      var firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n      this.$refs.lastHiddenFocusableElement.tabIndex = isElement(firstFocusableEl) ? undefined : -1;\n      this.$refs.firstHiddenFocusableElement.tabIndex = -1;\n    },\n    onLastHiddenFocus: function onLastHiddenFocus(event) {\n      var relatedTarget = event.relatedTarget;\n      if (relatedTarget === this.list) {\n        var firstFocusableEl = getFirstFocusableElement(this.$el, ':not([data-p-hidden-focusable=\"true\"])');\n        focus(firstFocusableEl);\n        this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n      } else {\n        focus(this.$refs.firstHiddenFocusableElement);\n      }\n      this.$refs.lastHiddenFocusableElement.tabIndex = -1;\n    },\n    onFocusout: function onFocusout(event) {\n      if (!this.$el.contains(event.relatedTarget) && this.$refs.lastHiddenFocusableElement && this.$refs.firstHiddenFocusableElement) {\n        this.$refs.lastHiddenFocusableElement.tabIndex = this.$refs.firstHiddenFocusableElement.tabIndex = undefined;\n      }\n    },\n    onListFocus: function onListFocus(event) {\n      this.focused = true;\n      this.focusedOptionIndex = this.focusedOptionIndex !== -1 ? this.focusedOptionIndex : this.autoOptionFocus ? this.findFirstFocusedOptionIndex() : this.findSelectedOptionIndex();\n      this.autoUpdateModel();\n      this.$emit('focus', event);\n    },\n    onListBlur: function onListBlur(event) {\n      this.focused = false;\n      this.focusedOptionIndex = this.startRangeIndex = -1;\n      this.searchValue = '';\n      this.$emit('blur', event);\n    },\n    onListKeyDown: function onListKeyDown(event) {\n      var _this2 = this;\n      var metaKey = event.metaKey || event.ctrlKey;\n      switch (event.code) {\n        case 'ArrowDown':\n          this.onArrowDownKey(event);\n          break;\n        case 'ArrowUp':\n          this.onArrowUpKey(event);\n          break;\n        case 'Home':\n          this.onHomeKey(event);\n          break;\n        case 'End':\n          this.onEndKey(event);\n          break;\n        case 'PageDown':\n          this.onPageDownKey(event);\n          break;\n        case 'PageUp':\n          this.onPageUpKey(event);\n          break;\n        case 'Enter':\n        case 'NumpadEnter':\n        case 'Space':\n          this.onSpaceKey(event);\n          break;\n        case 'Tab':\n          //NOOP\n          break;\n        case 'ShiftLeft':\n        case 'ShiftRight':\n          this.onShiftKey(event);\n          break;\n        default:\n          if (this.multiple && event.code === 'KeyA' && metaKey) {\n            var value = this.visibleOptions.filter(function (option) {\n              return _this2.isValidOption(option);\n            }).map(function (option) {\n              return _this2.getOptionValue(option);\n            });\n            this.updateModel(event, value);\n            event.preventDefault();\n            break;\n          }\n          if (!metaKey && isPrintableCharacter(event.key)) {\n            this.searchOptions(event, event.key);\n            event.preventDefault();\n          }\n          break;\n      }\n    },\n    onOptionSelect: function onOptionSelect(event, option) {\n      var index = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      if (this.disabled || this.isOptionDisabled(option)) {\n        return;\n      }\n      this.multiple ? this.onOptionSelectMultiple(event, option) : this.onOptionSelectSingle(event, option);\n      this.optionTouched = false;\n      index !== -1 && (this.focusedOptionIndex = index);\n    },\n    onOptionMouseDown: function onOptionMouseDown(event, index) {\n      this.changeFocusedOptionIndex(event, index);\n    },\n    onOptionMouseMove: function onOptionMouseMove(event, index) {\n      if (this.focusOnHover && this.focused) {\n        this.changeFocusedOptionIndex(event, index);\n      }\n    },\n    onOptionTouchEnd: function onOptionTouchEnd() {\n      if (this.disabled) {\n        return;\n      }\n      this.optionTouched = true;\n    },\n    onOptionDblClick: function onOptionDblClick(event, item) {\n      this.$emit('item-dblclick', {\n        originalEvent: event,\n        value: item\n      });\n      this.$emit('option-dblclick', {\n        originalEvent: event,\n        value: item\n      });\n    },\n    onOptionSelectSingle: function onOptionSelectSingle(event, option) {\n      var selected = this.isSelected(option);\n      var valueChanged = false;\n      var value = null;\n      var metaSelection = this.optionTouched ? false : this.metaKeySelection;\n      if (metaSelection) {\n        var metaKey = event && (event.metaKey || event.ctrlKey);\n        if (selected) {\n          if (metaKey) {\n            value = null;\n            valueChanged = true;\n          }\n        } else {\n          value = this.getOptionValue(option);\n          valueChanged = true;\n        }\n      } else {\n        value = selected ? null : this.getOptionValue(option);\n        valueChanged = true;\n      }\n      if (valueChanged) {\n        this.updateModel(event, value);\n      }\n    },\n    onOptionSelectMultiple: function onOptionSelectMultiple(event, option) {\n      var selected = this.isSelected(option);\n      var value = null;\n      var metaSelection = this.optionTouched ? false : this.metaKeySelection;\n      if (metaSelection) {\n        var metaKey = event.metaKey || event.ctrlKey;\n        if (selected) {\n          value = metaKey ? this.removeOption(option) : [this.getOptionValue(option)];\n        } else {\n          value = metaKey ? this.d_value || [] : [];\n          value = [].concat(_toConsumableArray(value), [this.getOptionValue(option)]);\n        }\n      } else {\n        value = selected ? this.removeOption(option) : [].concat(_toConsumableArray(this.d_value || []), [this.getOptionValue(option)]);\n      }\n      this.updateModel(event, value);\n    },\n    onOptionSelectRange: function onOptionSelectRange(event) {\n      var _this3 = this;\n      var start = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : -1;\n      var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : -1;\n      start === -1 && (start = this.findNearestSelectedOptionIndex(end, true));\n      end === -1 && (end = this.findNearestSelectedOptionIndex(start));\n      if (start !== -1 && end !== -1) {\n        var rangeStart = Math.min(start, end);\n        var rangeEnd = Math.max(start, end);\n        var value = this.visibleOptions.slice(rangeStart, rangeEnd + 1).filter(function (option) {\n          return _this3.isValidOption(option);\n        }).map(function (option) {\n          return _this3.getOptionValue(option);\n        });\n        this.updateModel(event, value);\n      }\n    },\n    onFilterChange: function onFilterChange(event) {\n      this.$emit('filter', {\n        originalEvent: event,\n        value: event.target.value,\n        filterValue: this.visibleOptions\n      });\n      this.focusedOptionIndex = this.startRangeIndex = -1;\n    },\n    onFilterBlur: function onFilterBlur() {\n      this.focusedOptionIndex = this.startRangeIndex = -1;\n    },\n    onFilterKeyDown: function onFilterKeyDown(event) {\n      switch (event.code) {\n        case 'ArrowDown':\n          this.onArrowDownKey(event);\n          break;\n        case 'ArrowUp':\n          this.onArrowUpKey(event);\n          break;\n        case 'ArrowLeft':\n        case 'ArrowRight':\n          this.onArrowLeftKey(event, true);\n          break;\n        case 'Home':\n          this.onHomeKey(event, true);\n          break;\n        case 'End':\n          this.onEndKey(event, true);\n          break;\n        case 'Enter':\n        case 'NumpadEnter':\n          this.onEnterKey(event);\n          break;\n        case 'ShiftLeft':\n        case 'ShiftRight':\n          this.onShiftKey(event);\n          break;\n      }\n    },\n    onArrowDownKey: function onArrowDownKey(event) {\n      var optionIndex = this.focusedOptionIndex !== -1 ? this.findNextOptionIndex(this.focusedOptionIndex) : this.findFirstFocusedOptionIndex();\n      if (this.multiple && event.shiftKey) {\n        this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n      }\n      this.changeFocusedOptionIndex(event, optionIndex);\n      event.preventDefault();\n    },\n    onArrowUpKey: function onArrowUpKey(event) {\n      var optionIndex = this.focusedOptionIndex !== -1 ? this.findPrevOptionIndex(this.focusedOptionIndex) : this.findLastFocusedOptionIndex();\n      if (this.multiple && event.shiftKey) {\n        this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n      }\n      this.changeFocusedOptionIndex(event, optionIndex);\n      event.preventDefault();\n    },\n    onArrowLeftKey: function onArrowLeftKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      pressedInInputText && (this.focusedOptionIndex = -1);\n    },\n    onHomeKey: function onHomeKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (pressedInInputText) {\n        var target = event.currentTarget;\n        if (event.shiftKey) {\n          target.setSelectionRange(0, event.target.selectionStart);\n        } else {\n          target.setSelectionRange(0, 0);\n          this.focusedOptionIndex = -1;\n        }\n      } else {\n        var metaKey = event.metaKey || event.ctrlKey;\n        var optionIndex = this.findFirstOptionIndex();\n        if (this.multiple && event.shiftKey && metaKey) {\n          this.onOptionSelectRange(event, optionIndex, this.startRangeIndex);\n        }\n        this.changeFocusedOptionIndex(event, optionIndex);\n      }\n      event.preventDefault();\n    },\n    onEndKey: function onEndKey(event) {\n      var pressedInInputText = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      if (pressedInInputText) {\n        var target = event.currentTarget;\n        if (event.shiftKey) {\n          target.setSelectionRange(event.target.selectionStart, target.value.length);\n        } else {\n          var len = target.value.length;\n          target.setSelectionRange(len, len);\n          this.focusedOptionIndex = -1;\n        }\n      } else {\n        var metaKey = event.metaKey || event.ctrlKey;\n        var optionIndex = this.findLastOptionIndex();\n        if (this.multiple && event.shiftKey && metaKey) {\n          this.onOptionSelectRange(event, this.startRangeIndex, optionIndex);\n        }\n        this.changeFocusedOptionIndex(event, optionIndex);\n      }\n      event.preventDefault();\n    },\n    onPageUpKey: function onPageUpKey(event) {\n      this.scrollInView(0);\n      event.preventDefault();\n    },\n    onPageDownKey: function onPageDownKey(event) {\n      this.scrollInView(this.visibleOptions.length - 1);\n      event.preventDefault();\n    },\n    onEnterKey: function onEnterKey(event) {\n      if (this.focusedOptionIndex !== -1) {\n        if (this.multiple && event.shiftKey) this.onOptionSelectRange(event, this.focusedOptionIndex);else this.onOptionSelect(event, this.visibleOptions[this.focusedOptionIndex]);\n      }\n    },\n    onSpaceKey: function onSpaceKey(event) {\n      event.preventDefault();\n      this.onEnterKey(event);\n    },\n    onShiftKey: function onShiftKey() {\n      this.startRangeIndex = this.focusedOptionIndex;\n    },\n    isOptionMatched: function isOptionMatched(option) {\n      var _this$getOptionLabel;\n      return this.isValidOption(option) && typeof this.getOptionLabel(option) === 'string' && ((_this$getOptionLabel = this.getOptionLabel(option)) === null || _this$getOptionLabel === void 0 ? void 0 : _this$getOptionLabel.toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale)));\n    },\n    isValidOption: function isValidOption(option) {\n      return isNotEmpty(option) && !(this.isOptionDisabled(option) || this.isOptionGroup(option));\n    },\n    isValidSelectedOption: function isValidSelectedOption(option) {\n      return this.isValidOption(option) && this.isSelected(option);\n    },\n    isEquals: function isEquals(value1, value2) {\n      return equals(value1, value2, this.equalityKey);\n    },\n    isSelected: function isSelected(option) {\n      var _this4 = this;\n      var optionValue = this.getOptionValue(option);\n      if (this.multiple) return (this.d_value || []).some(function (value) {\n        return _this4.isEquals(value, optionValue);\n      });else return this.isEquals(this.d_value, optionValue);\n    },\n    findFirstOptionIndex: function findFirstOptionIndex() {\n      var _this5 = this;\n      return this.visibleOptions.findIndex(function (option) {\n        return _this5.isValidOption(option);\n      });\n    },\n    findLastOptionIndex: function findLastOptionIndex() {\n      var _this6 = this;\n      return findLastIndex(this.visibleOptions, function (option) {\n        return _this6.isValidOption(option);\n      });\n    },\n    findNextOptionIndex: function findNextOptionIndex(index) {\n      var _this7 = this;\n      var matchedOptionIndex = index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex(function (option) {\n        return _this7.isValidOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : index;\n    },\n    findPrevOptionIndex: function findPrevOptionIndex(index) {\n      var _this8 = this;\n      var matchedOptionIndex = index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), function (option) {\n        return _this8.isValidOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n    },\n    findSelectedOptionIndex: function findSelectedOptionIndex() {\n      var _this9 = this;\n      if (this.$filled) {\n        if (this.multiple) {\n          var _loop = function _loop() {\n              var value = _this9.d_value[index];\n              var matchedOptionIndex = _this9.visibleOptions.findIndex(function (option) {\n                return _this9.isValidSelectedOption(option) && _this9.isEquals(value, _this9.getOptionValue(option));\n              });\n              if (matchedOptionIndex > -1) return {\n                v: matchedOptionIndex\n              };\n            },\n            _ret;\n          for (var index = this.d_value.length - 1; index >= 0; index--) {\n            _ret = _loop();\n            if (_ret) return _ret.v;\n          }\n        } else {\n          return this.visibleOptions.findIndex(function (option) {\n            return _this9.isValidSelectedOption(option);\n          });\n        }\n      }\n      return -1;\n    },\n    findFirstSelectedOptionIndex: function findFirstSelectedOptionIndex() {\n      var _this10 = this;\n      return this.$filled ? this.visibleOptions.findIndex(function (option) {\n        return _this10.isValidSelectedOption(option);\n      }) : -1;\n    },\n    findLastSelectedOptionIndex: function findLastSelectedOptionIndex() {\n      var _this11 = this;\n      return this.$filled ? findLastIndex(this.visibleOptions, function (option) {\n        return _this11.isValidSelectedOption(option);\n      }) : -1;\n    },\n    findNextSelectedOptionIndex: function findNextSelectedOptionIndex(index) {\n      var _this12 = this;\n      var matchedOptionIndex = this.$filled && index < this.visibleOptions.length - 1 ? this.visibleOptions.slice(index + 1).findIndex(function (option) {\n        return _this12.isValidSelectedOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex + index + 1 : -1;\n    },\n    findPrevSelectedOptionIndex: function findPrevSelectedOptionIndex(index) {\n      var _this13 = this;\n      var matchedOptionIndex = this.$filled && index > 0 ? findLastIndex(this.visibleOptions.slice(0, index), function (option) {\n        return _this13.isValidSelectedOption(option);\n      }) : -1;\n      return matchedOptionIndex > -1 ? matchedOptionIndex : -1;\n    },\n    findNearestSelectedOptionIndex: function findNearestSelectedOptionIndex(index) {\n      var firstCheckUp = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var matchedOptionIndex = -1;\n      if (this.$filled) {\n        if (firstCheckUp) {\n          matchedOptionIndex = this.findPrevSelectedOptionIndex(index);\n          matchedOptionIndex = matchedOptionIndex === -1 ? this.findNextSelectedOptionIndex(index) : matchedOptionIndex;\n        } else {\n          matchedOptionIndex = this.findNextSelectedOptionIndex(index);\n          matchedOptionIndex = matchedOptionIndex === -1 ? this.findPrevSelectedOptionIndex(index) : matchedOptionIndex;\n        }\n      }\n      return matchedOptionIndex > -1 ? matchedOptionIndex : index;\n    },\n    findFirstFocusedOptionIndex: function findFirstFocusedOptionIndex() {\n      var selectedIndex = this.findFirstSelectedOptionIndex();\n      return selectedIndex < 0 ? this.findFirstOptionIndex() : selectedIndex;\n    },\n    findLastFocusedOptionIndex: function findLastFocusedOptionIndex() {\n      var selectedIndex = this.findLastSelectedOptionIndex();\n      return selectedIndex < 0 ? this.findLastOptionIndex() : selectedIndex;\n    },\n    searchOptions: function searchOptions(event, _char) {\n      var _this14 = this;\n      this.searchValue = (this.searchValue || '') + _char;\n      var optionIndex = -1;\n      if (isNotEmpty(this.searchValue)) {\n        if (this.focusedOptionIndex !== -1) {\n          optionIndex = this.visibleOptions.slice(this.focusedOptionIndex).findIndex(function (option) {\n            return _this14.isOptionMatched(option);\n          });\n          optionIndex = optionIndex === -1 ? this.visibleOptions.slice(0, this.focusedOptionIndex).findIndex(function (option) {\n            return _this14.isOptionMatched(option);\n          }) : optionIndex + this.focusedOptionIndex;\n        } else {\n          optionIndex = this.visibleOptions.findIndex(function (option) {\n            return _this14.isOptionMatched(option);\n          });\n        }\n        if (optionIndex === -1 && this.focusedOptionIndex === -1) {\n          optionIndex = this.findFirstFocusedOptionIndex();\n        }\n        if (optionIndex !== -1) {\n          this.changeFocusedOptionIndex(event, optionIndex);\n        }\n      }\n      if (this.searchTimeout) {\n        clearTimeout(this.searchTimeout);\n      }\n      this.searchTimeout = setTimeout(function () {\n        _this14.searchValue = '';\n        _this14.searchTimeout = null;\n      }, 500);\n    },\n    removeOption: function removeOption(option) {\n      var _this15 = this;\n      return this.d_value.filter(function (val) {\n        return !equals(val, _this15.getOptionValue(option), _this15.equalityKey);\n      });\n    },\n    changeFocusedOptionIndex: function changeFocusedOptionIndex(event, index) {\n      if (this.focusedOptionIndex !== index) {\n        this.focusedOptionIndex = index;\n        this.scrollInView();\n        if (this.selectOnFocus && !this.multiple) {\n          this.onOptionSelect(event, this.visibleOptions[index]);\n        }\n      }\n    },\n    scrollInView: function scrollInView() {\n      var _this16 = this;\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;\n      this.$nextTick(function () {\n        var id = index !== -1 ? \"\".concat(_this16.$id, \"_\").concat(index) : _this16.focusedOptionId;\n        var element = findSingle(_this16.list, \"li[id=\\\"\".concat(id, \"\\\"]\"));\n        if (element) {\n          element.scrollIntoView && element.scrollIntoView({\n            block: 'nearest',\n            inline: 'nearest',\n            behavior: 'smooth'\n          });\n        } else if (!_this16.virtualScrollerDisabled) {\n          _this16.virtualScroller && _this16.virtualScroller.scrollToIndex(index !== -1 ? index : _this16.focusedOptionIndex);\n        }\n      });\n    },\n    autoUpdateModel: function autoUpdateModel() {\n      if (this.selectOnFocus && this.autoOptionFocus && !this.$filled && !this.multiple && this.focused) {\n        this.focusedOptionIndex = this.findFirstFocusedOptionIndex();\n        this.onOptionSelect(null, this.visibleOptions[this.focusedOptionIndex]);\n      }\n    },\n    updateModel: function updateModel(event, value) {\n      this.writeValue(value, event);\n      this.$emit('change', {\n        originalEvent: event,\n        value: value\n      });\n    },\n    listRef: function listRef(el, contentRef) {\n      this.list = el;\n      contentRef && contentRef(el); // For VirtualScroller\n    },\n    virtualScrollerRef: function virtualScrollerRef(el) {\n      this.virtualScroller = el;\n    }\n  },\n  computed: {\n    optionsListFlat: function optionsListFlat() {\n      return this.filterValue ? FilterService.filter(this.options, this.searchFields, this.filterValue, this.filterMatchMode, this.filterLocale) : this.options;\n    },\n    optionsListGroup: function optionsListGroup() {\n      var _this17 = this;\n      var filteredOptions = [];\n      (this.options || []).forEach(function (optionGroup) {\n        var optionGroupChildren = _this17.getOptionGroupChildren(optionGroup) || [];\n        var filteredChildren = _this17.filterValue ? FilterService.filter(optionGroupChildren, _this17.searchFields, _this17.filterValue, _this17.filterMatchMode, _this17.filterLocale) : optionGroupChildren;\n        if (filteredChildren !== null && filteredChildren !== void 0 && filteredChildren.length) {\n          filteredOptions.push.apply(filteredOptions, [{\n            optionGroup: optionGroup,\n            group: true\n          }].concat(_toConsumableArray(filteredChildren)));\n        }\n      });\n      return filteredOptions;\n    },\n    visibleOptions: function visibleOptions() {\n      return this.optionGroupLabel ? this.optionsListGroup : this.optionsListFlat;\n    },\n    // @deprecated use $filled instead\n    hasSelectedOption: function hasSelectedOption() {\n      return isNotEmpty(this.d_value);\n    },\n    equalityKey: function equalityKey() {\n      return this.optionValue ? null : this.dataKey;\n    },\n    searchFields: function searchFields() {\n      return this.filterFields || [this.optionLabel];\n    },\n    filterResultMessageText: function filterResultMessageText() {\n      return isNotEmpty(this.visibleOptions) ? this.filterMessageText.replaceAll('{0}', this.visibleOptions.length) : this.emptyFilterMessageText;\n    },\n    filterMessageText: function filterMessageText() {\n      return this.filterMessage || this.$primevue.config.locale.searchMessage || '';\n    },\n    emptyFilterMessageText: function emptyFilterMessageText() {\n      return this.emptyFilterMessage || this.$primevue.config.locale.emptySearchMessage || this.$primevue.config.locale.emptyFilterMessage || '';\n    },\n    emptyMessageText: function emptyMessageText() {\n      return this.emptyMessage || this.$primevue.config.locale.emptyMessage || '';\n    },\n    selectionMessageText: function selectionMessageText() {\n      return this.selectionMessage || this.$primevue.config.locale.selectionMessage || '';\n    },\n    emptySelectionMessageText: function emptySelectionMessageText() {\n      return this.emptySelectionMessage || this.$primevue.config.locale.emptySelectionMessage || '';\n    },\n    selectedMessageText: function selectedMessageText() {\n      return this.$filled ? this.selectionMessageText.replaceAll('{0}', this.multiple ? this.d_value.length : '1') : this.emptySelectionMessageText;\n    },\n    focusedOptionId: function focusedOptionId() {\n      return this.focusedOptionIndex !== -1 ? \"\".concat(this.$id, \"_\").concat(this.focusedOptionIndex) : null;\n    },\n    ariaSetSize: function ariaSetSize() {\n      var _this18 = this;\n      return this.visibleOptions.filter(function (option) {\n        return !_this18.isOptionGroup(option);\n      }).length;\n    },\n    virtualScrollerDisabled: function virtualScrollerDisabled() {\n      return !this.virtualScrollerOptions;\n    },\n    containerDataP: function containerDataP() {\n      return cn({\n        invalid: this.$invalid,\n        disabled: this.disabled\n      });\n    }\n  },\n  directives: {\n    ripple: Ripple\n  },\n  components: {\n    InputText: InputText,\n    VirtualScroller: VirtualScroller,\n    InputIcon: InputIcon,\n    IconField: IconField,\n    SearchIcon: SearchIcon,\n    CheckIcon: CheckIcon,\n    BlankIcon: BlankIcon\n  }\n};\n\nvar _hoisted_1 = [\"id\", \"data-p\"];\nvar _hoisted_2 = [\"tabindex\"];\nvar _hoisted_3 = [\"id\", \"aria-multiselectable\", \"aria-label\", \"aria-labelledby\", \"aria-activedescendant\", \"aria-disabled\"];\nvar _hoisted_4 = [\"id\"];\nvar _hoisted_5 = [\"id\", \"aria-label\", \"aria-selected\", \"aria-disabled\", \"aria-setsize\", \"aria-posinset\", \"onClick\", \"onMousedown\", \"onMousemove\", \"onDblclick\", \"data-p-selected\", \"data-p-focused\", \"data-p-disabled\"];\nvar _hoisted_6 = [\"tabindex\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_InputText = resolveComponent(\"InputText\");\n  var _component_SearchIcon = resolveComponent(\"SearchIcon\");\n  var _component_InputIcon = resolveComponent(\"InputIcon\");\n  var _component_IconField = resolveComponent(\"IconField\");\n  var _component_CheckIcon = resolveComponent(\"CheckIcon\");\n  var _component_BlankIcon = resolveComponent(\"BlankIcon\");\n  var _component_VirtualScroller = resolveComponent(\"VirtualScroller\");\n  var _directive_ripple = resolveDirective(\"ripple\");\n  return openBlock(), createElementBlock(\"div\", mergeProps({\n    id: _ctx.$id,\n    \"class\": _ctx.cx('root'),\n    onFocusout: _cache[7] || (_cache[7] = function () {\n      return $options.onFocusout && $options.onFocusout.apply($options, arguments);\n    }),\n    \"data-p\": $options.containerDataP\n  }, _ctx.ptmi('root')), [createElementVNode(\"span\", mergeProps({\n    ref: \"firstHiddenFocusableElement\",\n    role: \"presentation\",\n    \"aria-hidden\": \"true\",\n    \"class\": \"p-hidden-accessible p-hidden-focusable\",\n    tabindex: !_ctx.disabled ? _ctx.tabindex : -1,\n    onFocus: _cache[0] || (_cache[0] = function () {\n      return $options.onFirstHiddenFocus && $options.onFirstHiddenFocus.apply($options, arguments);\n    })\n  }, _ctx.ptm('hiddenFirstFocusableEl'), {\n    \"data-p-hidden-accessible\": true,\n    \"data-p-hidden-focusable\": true\n  }), null, 16, _hoisted_2), _ctx.$slots.header ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    \"class\": normalizeClass(_ctx.cx('header'))\n  }, [renderSlot(_ctx.$slots, \"header\", {\n    value: _ctx.d_value,\n    options: $options.visibleOptions\n  })], 2)) : createCommentVNode(\"\", true), _ctx.filter ? (openBlock(), createElementBlock(\"div\", mergeProps({\n    key: 1,\n    \"class\": _ctx.cx('header')\n  }, _ctx.ptm('header')), [createVNode(_component_IconField, {\n    unstyled: _ctx.unstyled,\n    pt: _ctx.ptm('pcFilterContainer')\n  }, {\n    \"default\": withCtx(function () {\n      return [createVNode(_component_InputText, {\n        modelValue: $data.filterValue,\n        \"onUpdate:modelValue\": _cache[1] || (_cache[1] = function ($event) {\n          return $data.filterValue = $event;\n        }),\n        type: \"text\",\n        \"class\": normalizeClass(_ctx.cx('pcFilter')),\n        placeholder: _ctx.filterPlaceholder,\n        role: \"searchbox\",\n        autocomplete: \"off\",\n        disabled: _ctx.disabled,\n        unstyled: _ctx.unstyled,\n        \"aria-owns\": _ctx.$id + '_list',\n        \"aria-activedescendant\": $options.focusedOptionId,\n        tabindex: !_ctx.disabled && !$data.focused ? _ctx.tabindex : -1,\n        onInput: $options.onFilterChange,\n        onBlur: $options.onFilterBlur,\n        onKeydown: $options.onFilterKeyDown,\n        pt: _ctx.ptm('pcFilter')\n      }, null, 8, [\"modelValue\", \"class\", \"placeholder\", \"disabled\", \"unstyled\", \"aria-owns\", \"aria-activedescendant\", \"tabindex\", \"onInput\", \"onBlur\", \"onKeydown\", \"pt\"]), createVNode(_component_InputIcon, {\n        unstyled: _ctx.unstyled,\n        pt: _ctx.ptm('pcFilterIconContainer')\n      }, {\n        \"default\": withCtx(function () {\n          return [renderSlot(_ctx.$slots, \"filtericon\", {}, function () {\n            return [_ctx.filterIcon ? (openBlock(), createElementBlock(\"span\", mergeProps({\n              key: 0,\n              \"class\": _ctx.filterIcon\n            }, _ctx.ptm('filterIcon')), null, 16)) : (openBlock(), createBlock(_component_SearchIcon, normalizeProps(mergeProps({\n              key: 1\n            }, _ctx.ptm('filterIcon'))), null, 16))];\n          })];\n        }),\n        _: 3\n      }, 8, [\"unstyled\", \"pt\"])];\n    }),\n    _: 3\n  }, 8, [\"unstyled\", \"pt\"]), createElementVNode(\"span\", mergeProps({\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenFilterResult'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.filterResultMessageText), 17)], 16)) : createCommentVNode(\"\", true), createElementVNode(\"div\", mergeProps({\n    \"class\": _ctx.cx('listContainer'),\n    style: [{\n      'max-height': $options.virtualScrollerDisabled ? _ctx.scrollHeight : ''\n    }, _ctx.listStyle]\n  }, _ctx.ptm('listContainer')), [createVNode(_component_VirtualScroller, mergeProps({\n    ref: $options.virtualScrollerRef\n  }, _ctx.virtualScrollerOptions, {\n    items: $options.visibleOptions,\n    style: [{\n      height: _ctx.scrollHeight\n    }, _ctx.listStyle],\n    tabindex: -1,\n    disabled: $options.virtualScrollerDisabled,\n    pt: _ctx.ptm('virtualScroller')\n  }), createSlots({\n    content: withCtx(function (_ref) {\n      var styleClass = _ref.styleClass,\n        contentRef = _ref.contentRef,\n        items = _ref.items,\n        getItemOptions = _ref.getItemOptions,\n        contentStyle = _ref.contentStyle,\n        itemSize = _ref.itemSize;\n      return [createElementVNode(\"ul\", mergeProps({\n        ref: function ref(el) {\n          return $options.listRef(el, contentRef);\n        },\n        id: _ctx.$id + '_list',\n        \"class\": [_ctx.cx('list'), styleClass],\n        style: contentStyle,\n        tabindex: -1,\n        role: \"listbox\",\n        \"aria-multiselectable\": _ctx.multiple,\n        \"aria-label\": _ctx.ariaLabel,\n        \"aria-labelledby\": _ctx.ariaLabelledby,\n        \"aria-activedescendant\": $data.focused ? $options.focusedOptionId : undefined,\n        \"aria-disabled\": _ctx.disabled,\n        onFocus: _cache[3] || (_cache[3] = function () {\n          return $options.onListFocus && $options.onListFocus.apply($options, arguments);\n        }),\n        onBlur: _cache[4] || (_cache[4] = function () {\n          return $options.onListBlur && $options.onListBlur.apply($options, arguments);\n        }),\n        onKeydown: _cache[5] || (_cache[5] = function () {\n          return $options.onListKeyDown && $options.onListKeyDown.apply($options, arguments);\n        })\n      }, _ctx.ptm('list')), [(openBlock(true), createElementBlock(Fragment, null, renderList(items, function (option, i) {\n        return openBlock(), createElementBlock(Fragment, {\n          key: $options.getOptionRenderKey(option, $options.getOptionIndex(i, getItemOptions))\n        }, [$options.isOptionGroup(option) ? (openBlock(), createElementBlock(\"li\", mergeProps({\n          key: 0,\n          id: _ctx.$id + '_' + $options.getOptionIndex(i, getItemOptions),\n          style: {\n            height: itemSize ? itemSize + 'px' : undefined\n          },\n          \"class\": _ctx.cx('optionGroup'),\n          role: \"option\",\n          ref_for: true\n        }, _ctx.ptm('optionGroup')), [renderSlot(_ctx.$slots, \"optiongroup\", {\n          option: option.optionGroup,\n          index: $options.getOptionIndex(i, getItemOptions)\n        }, function () {\n          return [createTextVNode(toDisplayString($options.getOptionGroupLabel(option.optionGroup)), 1)];\n        })], 16, _hoisted_4)) : withDirectives((openBlock(), createElementBlock(\"li\", mergeProps({\n          key: 1,\n          id: _ctx.$id + '_' + $options.getOptionIndex(i, getItemOptions),\n          style: {\n            height: itemSize ? itemSize + 'px' : undefined\n          },\n          \"class\": _ctx.cx('option', {\n            option: option,\n            index: i,\n            getItemOptions: getItemOptions\n          }),\n          role: \"option\",\n          \"aria-label\": $options.getOptionLabel(option),\n          \"aria-selected\": $options.isSelected(option),\n          \"aria-disabled\": $options.isOptionDisabled(option),\n          \"aria-setsize\": $options.ariaSetSize,\n          \"aria-posinset\": $options.getAriaPosInset($options.getOptionIndex(i, getItemOptions)),\n          onClick: function onClick($event) {\n            return $options.onOptionSelect($event, option, $options.getOptionIndex(i, getItemOptions));\n          },\n          onMousedown: function onMousedown($event) {\n            return $options.onOptionMouseDown($event, $options.getOptionIndex(i, getItemOptions));\n          },\n          onMousemove: function onMousemove($event) {\n            return $options.onOptionMouseMove($event, $options.getOptionIndex(i, getItemOptions));\n          },\n          onTouchend: _cache[2] || (_cache[2] = function ($event) {\n            return $options.onOptionTouchEnd();\n          }),\n          onDblclick: function onDblclick($event) {\n            return $options.onOptionDblClick($event, option);\n          },\n          ref_for: true\n        }, $options.getPTOptions(option, getItemOptions, i, 'option'), {\n          \"data-p-selected\": !_ctx.checkmark && $options.isSelected(option),\n          \"data-p-focused\": $data.focusedOptionIndex === $options.getOptionIndex(i, getItemOptions),\n          \"data-p-disabled\": $options.isOptionDisabled(option)\n        }), [_ctx.checkmark ? (openBlock(), createElementBlock(Fragment, {\n          key: 0\n        }, [$options.isSelected(option) ? (openBlock(), createBlock(_component_CheckIcon, mergeProps({\n          key: 0,\n          \"class\": _ctx.cx('optionCheckIcon'),\n          ref_for: true\n        }, _ctx.ptm('optionCheckIcon')), null, 16, [\"class\"])) : (openBlock(), createBlock(_component_BlankIcon, mergeProps({\n          key: 1,\n          \"class\": _ctx.cx('optionBlankIcon'),\n          ref_for: true\n        }, _ctx.ptm('optionBlankIcon')), null, 16, [\"class\"]))], 64)) : createCommentVNode(\"\", true), renderSlot(_ctx.$slots, \"option\", {\n          option: option,\n          selected: $options.isSelected(option),\n          index: $options.getOptionIndex(i, getItemOptions)\n        }, function () {\n          return [createTextVNode(toDisplayString($options.getOptionLabel(option)), 1)];\n        })], 16, _hoisted_5)), [[_directive_ripple]])], 64);\n      }), 128)), $data.filterValue && (!items || items && items.length === 0) ? (openBlock(), createElementBlock(\"li\", mergeProps({\n        key: 0,\n        \"class\": _ctx.cx('emptyMessage'),\n        role: \"option\"\n      }, _ctx.ptm('emptyMessage')), [renderSlot(_ctx.$slots, \"emptyfilter\", {}, function () {\n        return [createTextVNode(toDisplayString($options.emptyFilterMessageText), 1)];\n      })], 16)) : !_ctx.options || _ctx.options && _ctx.options.length === 0 ? (openBlock(), createElementBlock(\"li\", mergeProps({\n        key: 1,\n        \"class\": _ctx.cx('emptyMessage'),\n        role: \"option\"\n      }, _ctx.ptm('emptyMessage')), [renderSlot(_ctx.$slots, \"empty\", {}, function () {\n        return [createTextVNode(toDisplayString($options.emptyMessageText), 1)];\n      })], 16)) : createCommentVNode(\"\", true)], 16, _hoisted_3)];\n    }),\n    _: 2\n  }, [_ctx.$slots.loader ? {\n    name: \"loader\",\n    fn: withCtx(function (_ref2) {\n      var options = _ref2.options;\n      return [renderSlot(_ctx.$slots, \"loader\", {\n        options: options\n      })];\n    }),\n    key: \"0\"\n  } : undefined]), 1040, [\"items\", \"style\", \"disabled\", \"pt\"])], 16), renderSlot(_ctx.$slots, \"footer\", {\n    value: _ctx.d_value,\n    options: $options.visibleOptions\n  }), !_ctx.options || _ctx.options && _ctx.options.length === 0 ? (openBlock(), createElementBlock(\"span\", mergeProps({\n    key: 2,\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenEmptyMessage'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.emptyMessageText), 17)) : createCommentVNode(\"\", true), createElementVNode(\"span\", mergeProps({\n    role: \"status\",\n    \"aria-live\": \"polite\",\n    \"class\": \"p-hidden-accessible\"\n  }, _ctx.ptm('hiddenSelectedMessage'), {\n    \"data-p-hidden-accessible\": true\n  }), toDisplayString($options.selectedMessageText), 17), createElementVNode(\"span\", mergeProps({\n    ref: \"lastHiddenFocusableElement\",\n    role: \"presentation\",\n    \"aria-hidden\": \"true\",\n    \"class\": \"p-hidden-accessible p-hidden-focusable\",\n    tabindex: !_ctx.disabled ? _ctx.tabindex : -1,\n    onFocus: _cache[6] || (_cache[6] = function () {\n      return $options.onLastHiddenFocus && $options.onLastHiddenFocus.apply($options, arguments);\n    })\n  }, _ctx.ptm('hiddenLastFocusableEl'), {\n    \"data-p-hidden-accessible\": true,\n    \"data-p-hidden-focusable\": true\n  }), null, 16, _hoisted_6)], 16, _hoisted_1);\n}\n\nscript.render = render;\n\nexport { script as default };\n//# sourceMappingURL=index.mjs.map\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn Object.propertyIsEnumerable.call(target, symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","import type { IndicatorConfig, PlotConfig, PlotConfigTemplate } from '@/types';\n\nconst plotTemplates = ref<PlotConfigTemplate>({\n  BollingerBands: {\n    main_plot: {\n      bb_upperband: {\n        color: '#008af4',\n        type: 'line',\n        fill_to: 'bb_lowerband',\n      },\n      bb_lowerband: {\n        color: '#008af4',\n        type: 'line',\n      },\n    },\n  },\n  RSI: {\n    subplots: {\n      RSI: {\n        rsi: {\n          color: '#ff8000',\n          type: 'line',\n        },\n      },\n    },\n  },\n  MACD: {\n    subplots: {\n      MACD: {\n        macdsignal: {\n          color: '#ff8000',\n          type: 'line',\n        },\n        macd: {\n          color: '#1370f4',\n          type: 'line',\n        },\n      },\n    },\n  },\n});\n\nfunction replaceTemplateColumns(template: Partial<PlotConfig>, nameMap: Record<string, string>) {\n  // Replace the keys of all elements in main_plot\n  const newTemplate = deepClone(template);\n  if (!nameMap) {\n    return newTemplate;\n  }\n  const newMainPlot: Record<string, IndicatorConfig> = {};\n  for (const key in template.main_plot) {\n    const newKey = nameMap[key] || key;\n    newMainPlot[newKey] = template.main_plot[key];\n    if (newMainPlot[newKey].fill_to !== undefined) {\n      newMainPlot[newKey].fill_to =\n        nameMap[newMainPlot[newKey].fill_to] || newMainPlot[newKey].fill_to;\n    }\n  }\n  if ('main_plot' in template) {\n    newTemplate.main_plot = newMainPlot;\n  }\n\n  // Replace the keys of all elements in subplots\n  const newSubplots: Record<string, Record<string, IndicatorConfig>> = {};\n  for (const subplotKey in template.subplots) {\n    const newSubplot: Record<string, IndicatorConfig> = {};\n    for (const key in template.subplots[subplotKey]) {\n      const newKey = nameMap[key] || key;\n      newSubplot[newKey] = template.subplots[subplotKey][key];\n      if (newSubplot[newKey].fill_to !== undefined) {\n        newSubplot[newKey].fill_to =\n          nameMap[newSubplot[newKey].fill_to] || newSubplot[newKey].fill_to;\n      }\n    }\n    newSubplots[subplotKey] = newSubplot;\n  }\n  if ('subplots' in template) {\n    newTemplate.subplots = newSubplots;\n  }\n  return newTemplate;\n}\n\nexport function usePlotTemplates() {\n  function getTemplateContent(templateName: string) {\n    return plotTemplates.value[templateName] || {};\n  }\n\n  function applyPlotTemplate(\n    templateName: string,\n    currentConfig: PlotConfig,\n    nameMap: Record<string, string> = {},\n  ) {\n    const template = getTemplateContent(templateName);\n    if (!template) {\n      return currentConfig;\n    }\n    const newTemplate = replaceTemplateColumns(template, nameMap);\n    return deepMerge(currentConfig, newTemplate);\n  }\n\n  return {\n    plotTemplates,\n    applyPlotTemplate,\n    getTemplateContent,\n    replaceTemplateColumns,\n    plotTemplateNames: computed(() => Object.keys(plotTemplates.value)),\n  };\n}\n","<script setup lang=\"ts\">\nconst visible = defineModel<boolean>('visible');\ndefineProps<{\n  columns: string[];\n}>();\n\nconst { plotTemplateNames, applyPlotTemplate, getTemplateContent } = usePlotTemplates();\nconst plotStore = usePlotConfigStore();\n\nfunction fromTemplateApply() {\n  if (selTemplateName.value) {\n    plotStore.editablePlotConfig = {\n      ...applyPlotTemplate(selTemplateName.value, plotStore.editablePlotConfig, indicatorMap.value),\n    };\n    visible.value = false;\n  }\n}\n\nfunction clickStartUseTemplate() {\n  showIndicatorMapping.value = !showIndicatorMapping.value;\n\n  indicatorMap.value = plotConfigColumns(getTemplateContent(selTemplateName.value)).reduce(\n    (acc, indicator) => {\n      acc[indicator] = indicator;\n      return acc;\n    },\n    {},\n  );\n}\n\nconst selTemplateName = ref<string>('');\nwatch(\n  () => visible.value,\n  (v) => {\n    if (v) {\n      selTemplateName.value = '';\n      showIndicatorMapping.value = false;\n    }\n  },\n);\n\nconst indicatorMap = ref<Record<string, string>>({});\nconst showIndicatorMapping = ref(false);\n</script>\n\n<template>\n  <div v-if=\"visible\" class=\"pt-1\">\n    <div v-if=\"!showIndicatorMapping\" class=\"w-full\">\n      <label for=\"selectTemplate\">Select Template</label>\n      <ListBox\n        id=\"selectTemplate\"\n        v-model=\"selTemplateName\"\n        :options=\"plotTemplateNames\"\n        :select-size=\"4\"\n      >\n      </ListBox>\n    </div>\n    <div v-else>\n      <h5 class=\"mt-1 text-center text-md mb-1\">Re-map indicators</h5>\n      <div\n        v-for=\"indicator in Object.keys(indicatorMap)\"\n        :key=\"indicator\"\n        class=\"flex gap-2 align-center\"\n      >\n        <label :for=\"`indicator-${indicator}`\" class=\"grow w-full\">{{ indicator }}</label>\n        <Select\n          :id=\"`indicator-${indicator}`\"\n          v-model=\"indicatorMap[indicator]\"\n          class=\"grow w-full\"\n          size=\"small\"\n          :options=\"columns\"\n        >\n        </Select>\n      </div>\n    </div>\n    <div class=\"mt-2 flex gap-1 justify-end\">\n      <Button size=\"small\" title=\"Abort\" severity=\"secondary\" @click=\"visible = false\">\n        <i-mdi-close />\n      </Button>\n      <Button\n        v-if=\"!showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"small\"\n        style=\"width: 33%\"\n        title=\"Use template\"\n        label=\" Use Template\"\n        severity=\"primary\"\n        @click=\"clickStartUseTemplate\"\n      >\n        <template #icon>\n          <i-mdi-check class=\"me-1\" />\n        </template>\n      </Button>\n      <Button\n        v-if=\"showIndicatorMapping\"\n        :disabled=\"!selTemplateName\"\n        size=\"small\"\n        style=\"width: 33%\"\n        title=\"Apply template\"\n        severity=\"primary\"\n        @click=\"fromTemplateApply\"\n      >\n        <template #icon>\n          <i-mdi-check class=\"me-1\" />\n        </template>\n        Apply Template\n      </Button>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { usePlotConfigStore } from '@/stores/plotConfig';\n\ndefineProps({\n  allowEdit: {\n    type: Boolean,\n    default: false,\n  },\n  editableName: {\n    type: String,\n    default: 'plot configuration',\n  },\n});\nconst plotStore = usePlotConfigStore();\n</script>\n\n<template>\n  <EditValue\n    v-model=\"plotStore.plotConfigName\"\n    :allow-edit=\"allowEdit\"\n    :allow-add=\"allowEdit\"\n    :allow-duplicate=\"allowEdit\"\n    editable-name=\"plot configuration\"\n    @rename=\"plotStore.renamePlotConfig\"\n    @delete=\"plotStore.deletePlotConfig\"\n    @new=\"plotStore.newPlotConfig\"\n    @duplicate=\"plotStore.duplicatePlotConfig\"\n  >\n    <Select\n      id=\"plotConfigSelect\"\n      v-model=\"plotStore.plotConfigName\"\n      :options=\"plotStore.availablePlotConfigNames\"\n      class=\"w-full text-left\"\n      size=\"small\"\n      @update:model-value=\"plotStore.plotConfigChanged\"\n    >\n    </Select>\n  </EditValue>\n</template>\n","<script setup lang=\"ts\">\nimport type { IndicatorConfig, PlotConfig } from '@/types';\n\nconst props = defineProps({\n  columns: { required: true, type: Array as () => string[] },\n  isVisible: { required: false, default: false, type: Boolean },\n});\n\nconst plotStore = usePlotConfigStore();\nconst botStore = useBotStore();\n\nconst plotConfigNameLoc = ref('default');\nconst selIndicatorName = ref('');\nconst addNewIndicator = ref(false);\nconst showConfig = ref(false);\nconst selSubPlot = ref('main_plot');\nconst tempPlotConfig = ref<PlotConfig>();\nconst tempPlotConfigValid = ref(true);\n\nconst isMainPlot = computed(() => {\n  return selSubPlot.value === 'main_plot';\n});\n\nconst currentPlotConfig = computed(() => {\n  if (isMainPlot.value) {\n    return plotStore.editablePlotConfig.main_plot;\n  }\n\n  return plotStore.editablePlotConfig.subplots[selSubPlot.value];\n});\nconst subplots = computed((): string[] => {\n  // Subplot keys (for selection window)\n  return ['main_plot', ...Object.keys(plotStore.editablePlotConfig.subplots)];\n});\nconst usedColumns = computed((): { text: string; value: string }[] => {\n  let usedCols: string[] = [];\n  if (isMainPlot.value) {\n    usedCols = Object.keys(plotStore.editablePlotConfig.main_plot);\n  }\n  if (selSubPlot.value in plotStore.editablePlotConfig.subplots) {\n    usedCols = Object.keys(plotStore.editablePlotConfig.subplots[selSubPlot.value]);\n  }\n  return usedCols.map((col) => ({\n    value: col,\n    text: !props.columns.includes(col) ? `${col} <-- not available in this chart` : col,\n  }));\n});\n\nfunction addIndicator(newIndicator: Record<string, IndicatorConfig>) {\n  // const { plotConfig.value } = this;\n  const name = Object.keys(newIndicator)[0];\n  const indicator = newIndicator[name];\n  if (isMainPlot.value) {\n    // console.log(`Adding ${name} to MainPlot`);\n    plotStore.editablePlotConfig.main_plot[name] = { ...indicator };\n  } else {\n    // console.log(`Adding ${name} to ${selSubPlot.value}`);\n    plotStore.editablePlotConfig.subplots[selSubPlot.value][name] = { ...indicator };\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  // Reset random color\n  addNewIndicator.value = false;\n}\n\nconst selIndicator = computed({\n  get() {\n    if (addNewIndicator.value) {\n      return {};\n    }\n    if (selIndicatorName.value) {\n      return {\n        [selIndicatorName.value]: currentPlotConfig.value[selIndicatorName.value],\n      };\n    }\n    return {};\n  },\n  set(newValue: Record<string, IndicatorConfig>) {\n    const name = Object.keys(newValue)[0];\n    // this.currentPlotConfig[this.selIndicatorName] = { ...newValue[name] };\n    // this.emitPlotConfig();\n    if (name && newValue) {\n      addIndicator(newValue);\n    } else {\n      addNewIndicator.value = false;\n    }\n  },\n});\n\nconst plotConfigJson = computed({\n  get() {\n    return JSON.stringify(plotStore.editablePlotConfig, null, 2);\n  },\n  set(newValue: string) {\n    try {\n      tempPlotConfig.value = JSON.parse(newValue);\n      // TODO: Should Validate schema validity (should be PlotConfig type...)\n      tempPlotConfigValid.value = true;\n    } catch (err) {\n      tempPlotConfigValid.value = false;\n    }\n  },\n});\n\nfunction removeIndicator() {\n  if (isMainPlot.value) {\n    console.log(`Removing ${selIndicatorName.value} from MainPlot`);\n    delete plotStore.editablePlotConfig.main_plot[selIndicatorName.value];\n  } else {\n    console.log(`Removing ${selIndicatorName.value} from ${selSubPlot.value}`);\n    delete plotStore.editablePlotConfig.subplots[selSubPlot.value][selIndicatorName.value];\n  }\n\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selIndicatorName.value = '';\n}\n\nfunction clickAddNewIndicator() {\n  addNewIndicator.value = !addNewIndicator.value;\n  selIndicatorName.value = '';\n}\n\nfunction addSubplot(newSubplotName: string) {\n  plotStore.editablePlotConfig.subplots = {\n    ...plotStore.editablePlotConfig.subplots,\n    [newSubplotName]: {},\n  };\n  selSubPlot.value = newSubplotName;\n}\n\nfunction deleteSubplot(subplotName: string) {\n  delete plotStore.editablePlotConfig.subplots[subplotName];\n  // Reassign to trigger reactivity\n  plotStore.editablePlotConfig = { ...plotStore.editablePlotConfig };\n  selSubPlot.value = subplots.value[subplots.value.length - 1];\n}\n\nfunction renameSubplot(oldName: string, newName: string) {\n  plotStore.editablePlotConfig.subplots[newName] = plotStore.editablePlotConfig.subplots[oldName];\n  delete plotStore.editablePlotConfig.subplots[oldName];\n  selSubPlot.value = newName;\n}\n\nfunction loadPlotConfig() {\n  // Reset from store\n  plotStore.editablePlotConfig = deepClone(plotStore.customPlotConfigs[plotStore.plotConfigName]);\n}\n\nfunction loadConfigFromString() {\n  if (tempPlotConfig.value !== undefined && tempPlotConfigValid.value) {\n    plotStore.editablePlotConfig = tempPlotConfig.value;\n  }\n}\n\n// function clearConfig() {\n//   // Use empty config\n//   plotStore.editablePlotConfig = { ...EMPTY_PLOTCONFIG };\n// }\n\nasync function loadPlotConfigFromStrategy() {\n  if (botStore.activeBot.isWebserverMode && !botStore.activeBot.strategy.strategy) {\n    showAlert(`No strategy selected, can't load plot config.`);\n    return;\n  }\n  try {\n    await botStore.activeBot.getStrategyPlotConfig();\n    if (botStore.activeBot.strategyPlotConfig) {\n      plotStore.editablePlotConfig = botStore.activeBot.strategyPlotConfig;\n    }\n  } catch (error) {\n    //\n    showAlert('Failed to load Plot configuration from Strategy.');\n  }\n}\n\nfunction savePlotConfig() {\n  plotStore.saveCustomPlotConfig(plotConfigNameLoc.value, plotStore.editablePlotConfig);\n}\n\nfunction addNewIndicatorSelected(indicator?: string) {\n  addNewIndicator.value = false;\n\n  if (indicator) {\n    addIndicator({\n      [indicator]: {\n        color: randomColor(),\n      },\n    });\n    selIndicatorName.value = indicator;\n  }\n}\n\nwatch(selSubPlot, () => {\n  // Deselect Indicator when switching selected plot\n  selIndicatorName.value = '';\n});\n\nwatch(\n  () => plotStore.plotConfigName,\n  () => {\n    selIndicatorName.value = '';\n    // selSubPlot.value = '';\n    plotConfigNameLoc.value = plotStore.plotConfigName;\n  },\n);\n\nwatch(\n  () => props.isVisible,\n  () => {\n    if (props.isVisible) {\n      // Deep clone and assign to editable\n      plotStore.editablePlotConfig = deepClone(plotStore.plotConfig);\n      plotStore.isEditing = true;\n      plotConfigNameLoc.value = plotStore.plotConfigName;\n    } else {\n      plotStore.isEditing = false;\n    }\n  },\n);\nconst fromPlotTemplateVisible = ref(false);\n</script>\n\n<template>\n  <div v-if=\"columns\">\n    <label for=\"idPlotConfigName\">Plot config name</label>\n    <PlotConfigSelect allow-edit></PlotConfigSelect>\n    <Divider />\n    <label for=\"fieldSel\" class=\"mb\">Target Plot</label>\n    <EditValue\n      v-model=\"selSubPlot\"\n      :allow-edit=\"!isMainPlot\"\n      allow-add\n      editable-name=\"plot configuration\"\n      align-vertical\n      @new=\"addSubplot\"\n      @delete=\"deleteSubplot\"\n      @rename=\"renameSubplot\"\n    >\n      <ListBox\n        id=\"fieldSel\"\n        v-model=\"selSubPlot\"\n        :options=\"subplots\"\n        size=\"small\"\n        :pt=\"{\n          list: {\n            class: 'h-30',\n          },\n        }\"\n      >\n      </ListBox>\n    </EditValue>\n    <Divider />\n    <div>\n      <label for=\"selectedIndicators\">Indicators in this plot</label>\n      <ListBox\n        id=\"selectedIndicators\"\n        v-model=\"selIndicatorName\"\n        size=\"small\"\n        empty-message=\"No indicators selected\"\n        option-label=\"text\"\n        option-value=\"value\"\n        :disabled=\"addNewIndicator\"\n        :options=\"usedColumns\"\n        :pt=\"{\n          list: {\n            class: 'h-30',\n          },\n        }\"\n      >\n      </ListBox>\n    </div>\n    <div class=\"flex flex-row mt-1 gap-1\">\n      <Button\n        severity=\"secondary\"\n        title=\"Remove indicator to plot\"\n        size=\"small\"\n        :disabled=\"!selIndicatorName\"\n        class=\"col\"\n        @click=\"removeIndicator\"\n      >\n        Remove indicator\n      </Button>\n      <Button\n        severity=\"secondary\"\n        title=\"Load indicator config from template\"\n        size=\"small\"\n        @click=\"fromPlotTemplateVisible = !fromPlotTemplateVisible\"\n      >\n        Indicator from template\n      </Button>\n      <Button\n        severity=\"primary\"\n        title=\"Add indicator to plot\"\n        size=\"small\"\n        class=\"col\"\n        :disabled=\"addNewIndicator\"\n        @click=\"clickAddNewIndicator\"\n      >\n        Add new indicator\n      </Button>\n    </div>\n\n    <PlotIndicatorSelect\n      v-if=\"addNewIndicator\"\n      :columns=\"columns\"\n      class=\"mt-1\"\n      label=\"Select indicator to add\"\n      @indicator-selected=\"addNewIndicatorSelected\"\n    />\n\n    <PlotFromTemplate v-model:visible=\"fromPlotTemplateVisible\" :columns=\"columns\" />\n\n    <PlotIndicator\n      v-if=\"selIndicatorName && !fromPlotTemplateVisible\"\n      v-model=\"selIndicator\"\n      class=\"mt-1\"\n      :columns=\"columns\"\n    />\n    <Divider />\n\n    <div class=\"flex flex-row gap-1\">\n      <Button\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Reset to last saved configuration\"\n        @click=\"loadPlotConfig\"\n        >Reset</Button\n      >\n\n      <!--\n        Does Resetting a config to \"nothing\" make sense, or can this be done via \"delete / create\"?\n        <Button\n        class=\"ms-1 \"\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Start with empty configuration\"\n        @click=\"clearConfig\"\n        >Reset</Button\n      > -->\n      <Button\n        :disabled=\"\n          (botStore.activeBot.isWebserverMode && botStore.activeBot.botApiVersion < 2.23) ||\n          !botStore.activeBot.isBotOnline ||\n          addNewIndicator\n        \"\n        severity=\"secondary\"\n        size=\"small\"\n        @click=\"loadPlotConfigFromStrategy\"\n      >\n        From strategy\n      </Button>\n      <Button\n        id=\"showButton\"\n        severity=\"secondary\"\n        size=\"small\"\n        :disabled=\"addNewIndicator\"\n        title=\"Show configuration for easy transfer to a strategy\"\n        @click=\"showConfig = !showConfig\"\n        >{{ showConfig ? 'Hide' : 'Show' }}</Button\n      >\n\n      <Button\n        severity=\"primary\"\n        size=\"small\"\n        data-toggle=\"tooltip\"\n        :disabled=\"addNewIndicator\"\n        title=\"Save configuration\"\n        @click=\"savePlotConfig\"\n        >Save</Button\n      >\n    </div>\n    <Button\n      v-if=\"showConfig\"\n      class=\"ms-1 mt-1\"\n      severity=\"secondary\"\n      size=\"small\"\n      title=\"Load configuration from text box below\"\n      @click=\"loadConfigFromString\"\n      >Load from String</Button\n    >\n    <div v-if=\"showConfig\" class=\"w-full ms-1 mt-2\">\n      <Textarea\n        id=\"TextArea\"\n        v-model=\"plotConfigJson\"\n        class=\"w-full min-h-[250px]\"\n        size=\"small\"\n        :state=\"tempPlotConfigValid\"\n      >\n      </Textarea>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"css\">\n.form-group {\n  margin-bottom: 0.5rem;\n}\n\nhr {\n  margin-bottom: 0.5rem;\n  margin-top: 0.5rem;\n}\n</style>\n","import type { PlotConfig } from '@/types';\n\n/**\n * Calculate diff over 2 dataset columns and adds it to the end of the dataset\n * modifies the incomming dataset array inplace!\n */\nexport function calculateDiff(\n  columns: string[],\n  data: number[][],\n  colFrom: string,\n  colTo: string,\n): number[][] {\n  const fromIdx = columns.indexOf(colFrom);\n  const toIdx = columns.indexOf(colTo);\n  const hasBothColumns = fromIdx > 0 && toIdx > 0;\n  if (hasBothColumns) {\n    columns.push(`${colFrom}-${colTo}`);\n  }\n  return data.map((original) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    if (hasBothColumns) {\n      const diff =\n        candle === null || candle[toIdx] === null || candle[fromIdx] === null\n          ? null\n          : candle[toIdx] - candle[fromIdx];\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-expect-error\n      candle.push(diff);\n    }\n    return candle;\n  });\n}\n\nexport function getDiffColumnsFromPlotConfig(plotConfig: PlotConfig): string[][] {\n  const result: string[][] = [];\n  if ('main_plot' in plotConfig) {\n    Object.entries(plotConfig.main_plot).forEach(([key, value]) => {\n      if (value.fill_to) {\n        result.push([key, value.fill_to]);\n      }\n    });\n  }\n  if ('subplots' in plotConfig) {\n    Object.values(plotConfig.subplots).forEach((subplots) => {\n      Object.entries(subplots).forEach(([key, value]) => {\n        if (value.fill_to) {\n          result.push([key, value.fill_to]);\n        }\n      });\n    });\n  }\n  return result;\n}\n","export const ROUND_UP = 2;\nexport const ROUND_DOWN = 3;\n/** Rounds to the closer candle starting time */\nexport const ROUND_CLOSER = 4;\n\n/**\n *\n * @param timeframems timeframe in milliseconds\n * @param timestamp timestamp in milliseconds\n * @param direction Direction (see ROUND_* constants)\n * @returns timestamp in ms rounded to the timeframe\n */\nexport default function (timeframems: number, timestamp: number, direction: number = ROUND_DOWN) {\n  const offset = timestamp % timeframems;\n  let up = direction === ROUND_UP;\n  if (direction === ROUND_CLOSER) {\n    up = offset > timeframems / 2;\n  }\n  return timestamp - offset + (up ? timeframems : 0);\n}\n","import type { ElementEvent } from 'echarts';\nimport humanizeDuration from 'humanize-duration';\nimport type ECharts from 'vue-echarts';\nimport type { Ref } from 'vue';\n\nexport function usePercentageTool(\n  chartRef: Ref<InstanceType<typeof ECharts> | undefined>,\n  theme: Ref<string>,\n  timeframe_ms: Ref<number>,\n) {\n  const inputListener = useKeyModifier('Shift', { events: ['keydown', 'keyup'] });\n\n  const color = computed(() => (theme.value === 'dark' ? 'white' : 'black'));\n\n  const startPos = ref({ x: 0, y: 0 });\n  const drawLimitPerSecond = 144;\n  const canDraw = ref(true);\n  const active = ref(false);\n  const closing = ref(false);\n  const boxHeight = 35;\n  const boxWidth = 170;\n\n  function roundTF(timestamp: number) {\n    return roundTimeframe(timeframe_ms.value, timestamp, ROUND_CLOSER);\n  }\n\n  function mouseMove(e: ElementEvent) {\n    if (canDraw.value && !closing.value) draw(e.offsetX, e.offsetY);\n  }\n\n  function mouseDown(e: ElementEvent) {\n    if (!active.value) {\n      const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n        e.offsetX,\n        e.offsetY,\n      ]) ?? [0, 0];\n      startValues[0] = roundTF(Number(startValues[0]));\n      const startnew = chartRef.value?.convertToPixel({ seriesIndex: 0 }, startValues) ?? [0, 0];\n\n      startPos.value = { x: startnew[0], y: startnew[1] };\n\n      chartRef.value?.chart?.getZr().on('mousemove', mouseMove);\n      drawStart();\n    } else if (!closing.value) {\n      closing.value = true;\n    } else {\n      drawEnd();\n      closing.value = false;\n      chartRef.value?.chart?.getZr().off('mousemove', mouseMove);\n      chartRef.value?.chart?.getZr().off('mousedown', mouseDown);\n    }\n  }\n\n  function drawStart() {\n    active.value = true;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: true }],\n      graphic: [\n        {\n          type: 'rect',\n          shape: {\n            x: startPos.value.x,\n            width: 0,\n            y: startPos.value.y,\n            height: 0,\n          },\n          style: {\n            fill: color.value,\n            // color: color.value,\n            opacity: 0.1,\n          },\n        },\n        {\n          // Rect containing text ...\n          type: 'rect',\n          z: 5,\n          shape: {\n            x: startPos.value.x,\n            width: boxWidth,\n            y: startPos.value.y,\n            height: boxHeight,\n            r: 5,\n          },\n          style: {\n            fill: '#002fff',\n            // color: color.value,\n            opacity: 0.8,\n          },\n          textContent: {\n            z: 10,\n            style: {\n              text: '0 bars - 0%',\n              font: '14px sans-serif',\n              fill: 'white',\n            },\n          },\n          textConfig: {\n            position: 'inside',\n          },\n        },\n      ],\n    });\n  }\n\n  function drawEnd() {\n    active.value = false;\n    chartRef.value?.setOption({\n      dataZoom: [{ disabled: false }],\n      graphic: [{ $action: 'remove' }, { $action: 'remove' }],\n    });\n  }\n\n  function draw(x: number, y: number) {\n    const startValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [\n      startPos.value.x,\n      startPos.value.y,\n    ]) ?? [0, 0];\n    const endValues = chartRef.value?.convertFromPixel({ seriesIndex: 0 }, [x, y]) ?? [0, 0];\n    const startPrice = Number(startValues[1]);\n    const endPrice = Number(endValues[1]);\n    const startTime = roundTF(Number(startValues[0]));\n    const endTime = roundTF(Number(endValues[0]));\n    const timeDiff = Math.abs(startTime - endTime);\n    const xr = chartRef.value?.convertToPixel({ seriesIndex: 0 }, [endTime, 0])[0] ?? 0;\n    const timeElapsed = humanizeDuration(timeDiff, { units: ['d', 'h', 'm'] });\n    const pct = Math.abs(((startPrice - endPrice) / startPrice) * 100).toFixed(2);\n\n    chartRef.value?.setOption({\n      graphic: [\n        {\n          // Transparent rectangle ....\n          shape: {\n            width: xr > startPos.value.x ? -1 * (startPos.value.x - xr) : xr - startPos.value.x,\n            height: y > startPos.value.y ? -1 * (startPos.value.y - y) : y - startPos.value.y,\n          },\n        },\n        {\n          // Rect containing text ...\n          shape: {\n            x: startPos.value.x + (xr - startPos.value.x) / 2 - boxWidth / 2,\n            y: y > startPos.value.y ? y - (boxHeight + 5) : y + 9,\n          },\n          textContent: {\n            style: {\n              textAlign: x < startPos.value.x ? 'left' : 'right',\n              text: `${timeDiff / timeframe_ms.value} bars (${\n                startPrice < endPrice ? pct : '-' + pct\n              }%) \\n ${timeElapsed}`,\n            },\n          },\n        },\n      ],\n    });\n\n    canDraw.value = false;\n    setTimeout(() => {\n      canDraw.value = true;\n    }, 1000 / drawLimitPerSecond);\n  }\n\n  watch(\n    () => inputListener.value,\n    () => {\n      if (inputListener.value && !active.value) {\n        chartRef.value?.chart?.getZr().on('mousedown', mouseDown);\n      }\n    },\n  );\n}\n","export function heikinAshiDataset(columns: string[], data: Array<number[]>): number[][] {\n  const openIdx = columns.indexOf('open');\n  const closeIdx = columns.indexOf('close');\n  const highIdx = columns.indexOf('high');\n  const lowIdx = columns.indexOf('low');\n\n  let prevCandle: number[];\n  return data.map((original, idx) => {\n    // Prevent mutation of original data\n    const candle = original.slice();\n    const open =\n      idx === 0\n        ? (candle[openIdx] + candle[closeIdx]) / 2\n        : (prevCandle[openIdx] + prevCandle[closeIdx]) / 2;\n    const close = (candle[openIdx] + candle[highIdx] + candle[lowIdx] + candle[closeIdx]) / 4;\n    const high = Math.max(candle[highIdx], candle[openIdx], candle[closeIdx]);\n    const low = Math.min(candle[lowIdx], candle[openIdx], candle[closeIdx]);\n\n    candle[openIdx] = open;\n    candle[closeIdx] = close;\n    candle[highIdx] = high;\n    candle[lowIdx] = low;\n\n    prevCandle = candle.slice();\n\n    return candle;\n  });\n}\n","/**\n *  Split a trade pair into stake and quote currency\n * @param pair pair to split, either <stake>/<quote> or <stake>/<quote>:<settle>\n * @returns {baseCurrency, quoteCurrency}\n */\nexport function splitTradePair(pair: string): { baseCurrency: string; quoteCurrency: string } {\n  if (!pair) return { baseCurrency: '', quoteCurrency: '' };\n  const [baseCurrency, quoteCurrency] = pair.split('/');\n  if (quoteCurrency !== undefined) {\n    const quoteCurrencySplit = quoteCurrency.split(':');\n    return { baseCurrency: baseCurrency, quoteCurrency: quoteCurrencySplit[0] || quoteCurrency };\n  }\n  // In case only one asset is passed in (e.g. USDT) we invert the values, assuming this is the quote currency.\n  return { baseCurrency: quoteCurrency ?? '', quoteCurrency: baseCurrency ?? '' };\n}\n","import type { Order, PairHistory, Trade, BTOrder } from '@/types';\n\nimport type { MarkAreaComponentOption, ScatterSeriesOption } from 'echarts';\n\nfunction buildTooltipCost(order: Order | BTOrder, quoteCurrency: string): string {\n  return `${order.ft_order_side === 'buy' ? '+' : '-'}${formatPriceCurrency(\n    'cost' in order ? order.cost : order.amount * order.safe_price,\n    quoteCurrency,\n  )}`;\n}\n\nfunction buildToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  side: string,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} ${side}\n  ${formatPercent(trade.profit_ratio)} ${\n    trade.profit_abs ? '(' + formatPriceCurrency(trade.profit_abs, quoteCurrency) + ')' : ''\n  }\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}\n  Order Price: ${formatPriceCurrency(order.safe_price, quoteCurrency)}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag && trade.enter_tag != order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n  tooltip += `${trade.exit_reason ? '\\nExit-Tag: ' + trade.exit_reason : ''}`;\n  return tooltip;\n}\n\nfunction buildAdjustmentToolTip(\n  trade: Trade,\n  order: Order | BTOrder,\n  quoteCurrency: string,\n): string {\n  let tooltip = `${trade.is_short ? 'Short' : 'Long'} adjustment\n  ${buildTooltipCost(order, quoteCurrency)}\n  Enter-tag: ${trade.enter_tag ?? ''}`;\n  tooltip += `${'ft_order_tag' in order && order.ft_order_tag ? '\\nOrder-Tag: ' + order.ft_order_tag : ''}`;\n\n  return tooltip;\n}\n\nconst ADJUSTMENT_SYMBOL =\n  'path://m 52.444161,104.1909 8.386653,25.34314 8.386651,25.34313 -16.731501,0.0422 -16.731501,0.0422 8.344848,-25.38539 z m 0.08656,-48.368126 8.386652,25.343139 8.386652,25.343137 -16.731501,0.0422 -16.731502,0.0422 8.344848,-25.385389 z';\nconst OPEN_CLOSE_SYMBOL =\n  'path://m 102.20764,19.885384 h 24.1454 v 41.928829 h -24.1454 z m 12.17344,36.423813 8.38665,25.343139 8.38666,25.343134 -16.7315,0.0422 -16.731507,0.0422 8.344847,-25.385386 z';\n\nconst SHORT_COLOR = '#AD00FF';\n//const SHORT_ADJUST_COLOR = '#CE3BFF';\nconst LONG_COLOR = '#0066FF';\n//const LONG_ADJUST_COLOR = '#00A9FF';\n\n/** Return trade entries for charting */\nfunction getTradeEntries(dataset: PairHistory, trades: Trade[]) {\n  const tradeData: (number | string)[][] = [];\n  // Return schema:\n  // 0: Timeframe\n  // 1: rate\n  // 2: symbol\n  // 3: symbol rotate\n  // 4: color\n  // 5: label\n  // 6: tooltip\n  const stop_ts_adjusted = dataset.data_stop_ts + dataset.timeframe_ms;\n  for (let i = 0, len = trades.length; i < len; i += 1) {\n    const trade: Trade = trades[i];\n    const openTs = trade.open_fill_timestamp ?? trade.open_timestamp;\n    if (\n      // Trade is open or closed and within timerange\n      roundTimeframe(dataset.timeframe_ms ?? 0, trade.open_timestamp) <= stop_ts_adjusted ||\n      !trade.close_timestamp ||\n      (trade.close_timestamp && trade.close_timestamp >= dataset.data_start_ts)\n    ) {\n      if (trade.orders) {\n        for (let i = 0; i < trade.orders.length; i++) {\n          const order: Order | BTOrder = trade.orders[i];\n          const orderTs =\n            order.order_filled_timestamp ??\n            ('order_timestamp' in order ? order.order_timestamp : trade.open_timestamp);\n          const { quoteCurrency } = splitTradePair(trade.quote_currency ?? trade.pair ?? '');\n          if (\n            orderTs &&\n            roundTimeframe(dataset.timeframe_ms ?? 0, orderTs) <= stop_ts_adjusted &&\n            orderTs > dataset.data_start_ts\n          ) {\n            // Trade entry\n            if (i === 0) {\n              tradeData.push([\n                roundTimeframe(dataset.timeframe_ms ?? 0, openTs),\n                order.safe_price,\n                OPEN_CLOSE_SYMBOL,\n                order.ft_order_side == 'sell' ? 180 : 0,\n                trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                (trade.is_short ? 'Short' : 'Long') +\n                  (!order.order_filled_timestamp ? ' (open)' : ''),\n                buildToolTip(trade, order, 'entry', quoteCurrency),\n              ]);\n              // Trade exit\n            } else if (i === trade.orders.length - 1 && trade.close_timestamp) {\n              if (\n                roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp) <=\n                  stop_ts_adjusted &&\n                trade.close_timestamp > dataset.data_start_ts &&\n                trade.is_open === false\n              ) {\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, trade.close_timestamp),\n                  order.safe_price,\n                  OPEN_CLOSE_SYMBOL,\n                  trade.is_short ? 0 : 180,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  formatPercent(trade.profit_ratio, 2),\n                  buildToolTip(trade, order, 'exit', quoteCurrency),\n                ]);\n              }\n            }\n            // Position adjustment\n            else {\n              if (\n                order.ft_order_side !== 'stoploss' ||\n                ('filled' in order && (order.filled ?? 0) > 0)\n              ) {\n                // Don't show stoploss orders that haven't been filled\n                tradeData.push([\n                  roundTimeframe(dataset.timeframe_ms ?? 0, orderTs),\n                  order.safe_price,\n                  ADJUSTMENT_SYMBOL,\n                  order.ft_order_side == 'sell' ? 180 : 0,\n                  trade.is_short ? SHORT_COLOR : LONG_COLOR,\n                  '',\n                  buildAdjustmentToolTip(trade, order, quoteCurrency),\n                ]);\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n  return { tradeData };\n}\n\n/**\n *  Generate Series displaying trades\n *  This may include trades, orders, and eventually other things related to the trade.\n */\nexport function generateTradeSeries(\n  nameTrades: string,\n  theme: string,\n  dataset: PairHistory,\n  trades: Trade[],\n): ScatterSeriesOption {\n  const { tradeData } = getTradeEntries(dataset, trades);\n\n  const openTrade = trades.find((t) => t.is_open);\n\n  const tradesSeries: ScatterSeriesOption = {\n    name: nameTrades,\n    type: 'scatter',\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    encode: {\n      x: 0,\n      y: 1,\n      label: 5,\n      tooltip: 6,\n    },\n    label: {\n      show: true,\n      fontSize: 12,\n      backgroundColor: theme !== 'dark' ? '#fff' : '#000',\n      padding: 2,\n      color: theme === 'dark' ? '#fff' : '#000',\n      rotate: 75,\n      offset: [10, 0],\n      align: 'left',\n    },\n    itemStyle: {\n      // color: tradeSellColor,\n      color: (v) => (v.data ? v.data[4] : '#000'),\n      opacity: 0.9,\n    },\n    symbol: (v) => v[2],\n    symbolRotate: (v) => v[3],\n    symbolSize: 13,\n    data: tradeData,\n  };\n  // Show distance to stoploss\n  if (openTrade) {\n    // Ensure to import and \"use\" whatever feature in candleChart! (MarkLine, MarkArea, ...)\n    // Offset to avoid having the line at the very end of the chart\n    const offset = dataset.timeframe_ms * 10;\n\n    tradesSeries.markLine = {\n      symbol: 'none',\n      label: {\n        show: true,\n        position: 'middle',\n      },\n      data: [\n        [\n          {\n            name: 'Stoploss',\n            yAxis: openTrade.stop_loss_abs,\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            xAxis:\n              dataset.data_stop_ts - offset > openTrade.open_timestamp\n                ? openTrade.open_timestamp\n                : dataset.data_stop_ts - offset,\n          },\n          {\n            lineStyle: {\n              color: '#ff0000AA',\n              type: 'solid',\n            },\n            yAxis: openTrade.stop_loss_abs,\n            xAxis: openTrade.close_timestamp ?? dataset.data_stop_ts + dataset.timeframe_ms,\n          },\n        ],\n      ],\n    };\n  }\n  return tradesSeries;\n}\n\nexport function generateMarkArea(dataset: PairHistory): { markArea?: MarkAreaComponentOption } {\n  if (!dataset.annotations) return {};\n\n  const markArea: MarkAreaComponentOption = {\n    label: {\n      position: 'insideTop',\n    },\n    data: dataset.annotations\n      .filter((area) => area.type == 'area')\n      .map((area) => {\n        return [\n          {\n            xAxis: area.start,\n            yAxis: area.y_start,\n            itemStyle: {\n              color: area.color,\n            },\n            label: {\n              formatter: area.label,\n            },\n          },\n          {\n            xAxis: area.end,\n            yAxis: area.y_end,\n          },\n        ];\n      }),\n  };\n  return {\n    markArea,\n  };\n}\n","import type { IndicatorConfig } from '@/types';\nimport { ChartType } from '@/types';\nimport type { BarSeriesOption, LineSeriesOption, ScatterSeriesOption } from 'echarts';\n\nexport type SupportedSeriesTypes = LineSeriesOption | BarSeriesOption | ScatterSeriesOption;\n\nexport function generateCandleSeries(\n  colDate: number,\n  col: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const sp: SupportedSeriesTypes = {\n    name: key,\n    type: value.type || 'line',\n    xAxisIndex: axis,\n    yAxisIndex: axis,\n    itemStyle: {\n      color: value.color || randomColor(),\n    },\n    encode: {\n      x: colDate,\n      y: col,\n    },\n    showSymbol: false,\n  };\n  if (value.type === ChartType.scatter) {\n    sp['symbolSize'] = value.scatterSymbolSize ?? 3;\n    sp['emphasis'] = {\n      disabled: true,\n    };\n  }\n  return sp;\n}\n\nexport function generateAreaCandleSeries(\n  colDate: number,\n  fillCol: number,\n  key: string,\n  value: IndicatorConfig,\n  axis = 0,\n): SupportedSeriesTypes {\n  const fillValue: IndicatorConfig = {\n    // color: value.color;\n    type: ChartType.line,\n  };\n  const areaSeries = generateCandleSeries(\n    colDate,\n    fillCol,\n    key,\n    fillValue,\n    axis,\n  ) as LineSeriesOption;\n\n  const areaOptions: LineSeriesOption = {\n    stack: key,\n    stackStrategy: 'all',\n    lineStyle: {\n      opacity: 0,\n    },\n    showSymbol: false,\n    areaStyle: {\n      color: value.color,\n      opacity: 0.1,\n    },\n    tooltip: {\n      show: false, // hide value on tooltip\n    },\n  };\n\n  Object.assign(areaSeries, areaOptions);\n\n  return areaSeries;\n}\n","<script setup lang=\"ts\">\nimport type { ChartSliderPosition, IndicatorConfig, PairHistory, PlotConfig, Trade } from '@/types';\nimport { ChartType } from '@/types';\n\nimport ECharts from 'vue-echarts';\n\nimport type { EChartsOption, ScatterSeriesOption } from 'echarts';\nimport { BarChart, CandlestickChart, LineChart, ScatterChart } from 'echarts/charts';\nimport {\n  AxisPointerComponent,\n  CalendarComponent,\n  DataZoomComponent,\n  DatasetComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  // MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n  GraphicComponent,\n} from 'echarts/components';\nimport { use } from 'echarts/core';\nimport { CanvasRenderer } from 'echarts/renderers';\n\nuse([\n  AxisPointerComponent,\n  CalendarComponent,\n  DatasetComponent,\n  DataZoomComponent,\n  GridComponent,\n  LegendComponent,\n  TimelineComponent,\n  TitleComponent,\n  ToolboxComponent,\n  TooltipComponent,\n  VisualMapComponent,\n  VisualMapPiecewiseComponent,\n  // MarkAreaComponent,\n  MarkLineComponent,\n  // MarkPointComponent,\n\n  CandlestickChart,\n  BarChart,\n  LineChart,\n  ScatterChart,\n  CanvasRenderer,\n  GraphicComponent,\n]);\n\nconst props = defineProps<{\n  trades: Trade[];\n  dataset: PairHistory;\n  heikinAshi: boolean;\n  useUTC: boolean;\n  plotConfig: PlotConfig;\n  theme: 'dark' | 'light';\n  sliderPosition: ChartSliderPosition | undefined;\n  colorUp: string;\n  colorDown: string;\n  labelSide: 'left' | 'right';\n}>();\n\nconst isLabelLeft = computed(() => props.labelSide === 'left');\n// Chart default options\nconst MARGINLEFT = isLabelLeft.value ? '5.5%' : '1%';\nconst MARGINRIGHT = isLabelLeft.value ? '1%' : '5.5%';\nconst NAMEGAP = 55;\nconst SUBPLOTHEIGHT = 8; // Value in %\n\n// Candle Colors\nconst upColor = props.colorUp;\nconst upBorderColor = props.colorUp;\nconst downColor = props.colorDown;\nconst downBorderColor = props.colorDown;\n\n// Buy / Sell Signal Colors\nconst buySignalColor = '#00ff26';\nconst shortEntrySignalColor = '#00ff26';\nconst sellSignalColor = '#faba25';\nconst shortexitSignalColor = '#faba25';\n\nconst candleChart = ref<InstanceType<typeof ECharts>>();\nconst chartOptions = ref<EChartsOption>({});\n\nconst strategy = computed(() => {\n  return props.dataset ? props.dataset.strategy : '';\n});\n\nconst pair = computed(() => {\n  return props.dataset ? props.dataset.pair : '';\n});\n\nconst timeframe = computed(() => {\n  return props.dataset ? props.dataset.timeframe : '';\n});\n\nconst hasData = computed(() => {\n  return props.dataset !== null && typeof props.dataset === 'object';\n});\n\nconst filteredTrades = computed(() => {\n  return props.trades.filter((item: Trade) => item.pair === pair.value);\n});\n\nconst chartTitle = computed(() => {\n  return `${strategy.value} - ${pair.value} - ${timeframe.value}`;\n});\n\nconst diffCols = computed(() => {\n  return getDiffColumnsFromPlotConfig(props.plotConfig);\n});\n\nusePercentageTool(\n  candleChart,\n  toRef(() => props.theme),\n  toRef(() => props.dataset.timeframe_ms),\n);\n\nfunction updateChart(initial = false) {\n  if (!hasData.value) {\n    return;\n  }\n  if (chartOptions.value?.title) {\n    chartOptions.value.title[0].text = chartTitle.value;\n  }\n  // Avoid mutation of dataset.columns array\n  const columns = props.dataset.columns.slice();\n\n  const colDate = columns.findIndex((el) => el === '__date_ts');\n  const colOpen = columns.findIndex((el) => el === 'open');\n  const colHigh = columns.findIndex((el) => el === 'high');\n  const colLow = columns.findIndex((el) => el === 'low');\n  const colClose = columns.findIndex((el) => el === 'close');\n  const colVolume = columns.findIndex((el) => el === 'volume');\n  const colEntryData = columns.findIndex(\n    (el) => el === '_buy_signal_close' || el === '_enter_long_signal_close',\n  );\n  const colExitData = columns.findIndex(\n    (el) => el === '_sell_signal_close' || el === '_exit_long_signal_close',\n  );\n\n  const colShortEntryData = columns.findIndex((el) => el === '_enter_short_signal_close');\n  const colShortExitData = columns.findIndex((el) => el === '_exit_short_signal_close');\n\n  const subplotCount =\n    'subplots' in props.plotConfig ? Object.keys(props.plotConfig.subplots).length + 1 : 1;\n\n  if (Array.isArray(chartOptions.value?.dataZoom)) {\n    // Only set zoom once ...\n    if (initial) {\n      const startingZoom = (1 - 250 / props.dataset.length) * 100;\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          chartOptions.value.dataZoom[i].start = startingZoom;\n        }\n      });\n    } else {\n      // Remove start/end settings after chart initialization to avoid chart resetting\n      chartOptions.value.dataZoom.forEach((el, i) => {\n        if (chartOptions.value && chartOptions.value.dataZoom) {\n          delete chartOptions.value.dataZoom[i].start;\n          delete chartOptions.value.dataZoom[i].end;\n        }\n      });\n    }\n  }\n  let dataset = props.heikinAshi\n    ? heikinAshiDataset(columns, props.dataset.data)\n    : props.dataset.data.slice();\n\n  diffCols.value.forEach(([colFrom, colTo]) => {\n    // Enhance dataset with diff columns for area plots\n    dataset = calculateDiff(columns, dataset, colFrom, colTo);\n  });\n  // Add new rows to end to allow slight \"scroll past\"\n  const newArray = Array(dataset.length > 0 ? dataset[dataset.length - 2].length : 0);\n  newArray[colDate] = dataset[dataset.length - 1][colDate] + props.dataset.timeframe_ms * 3;\n  dataset.push(newArray);\n\n  const options: EChartsOption = {\n    dataset: {\n      source: dataset,\n    },\n    grid: [\n      {\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT + 2}%`,\n      },\n      {\n        // Volume\n        left: MARGINLEFT,\n        right: MARGINRIGHT,\n        // Grid Layout from bottom to top\n        bottom: `${subplotCount * SUBPLOTHEIGHT}%`,\n        height: `${SUBPLOTHEIGHT}%`,\n      },\n    ],\n\n    series: [\n      {\n        name: 'Candles',\n        type: 'candlestick',\n        barWidth: '80%',\n        itemStyle: {\n          color: upColor,\n          color0: downColor,\n          borderColor: upBorderColor,\n          borderColor0: downBorderColor,\n        },\n        encode: {\n          x: colDate,\n          // open, close, low, high\n          y: [colOpen, colClose, colLow, colHigh],\n        },\n        ...generateMarkArea(props.dataset),\n      },\n      {\n        name: 'Volume',\n        type: 'bar',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n          color: '#777777',\n        },\n        large: true,\n        encode: {\n          x: colDate,\n          y: colVolume,\n        },\n      },\n    ],\n  };\n\n  if (Array.isArray(options.series)) {\n    const signalConfigs = [\n      {\n        colData: colEntryData,\n        name: 'Entry',\n        symbol: 'triangle',\n        symbolSize: 10,\n        color: buySignalColor,\n        tooltipPrefix: 'Long entry',\n      },\n      {\n        colData: colExitData,\n        name: 'Exit',\n        symbol: 'diamond',\n        symbolSize: 8,\n        color: sellSignalColor,\n        tooltipPrefix: 'Long exit',\n      },\n      {\n        colData: colShortEntryData,\n        name: 'Entry',\n        symbol: 'triangle',\n        symbolSize: 10,\n        symbolRotate: 180,\n        color: shortEntrySignalColor,\n        tooltipPrefix: 'Short entry',\n      },\n      {\n        colData: colShortExitData,\n        name: 'Exit',\n        symbol: 'pin',\n        symbolSize: 8,\n        color: shortexitSignalColor,\n        tooltipPrefix: 'Short exit',\n      },\n    ];\n\n    for (const config of signalConfigs) {\n      if (config.colData >= 0) {\n        options.series.push({\n          name: config.name,\n          type: 'scatter',\n          symbol: config.symbol,\n          symbolSize: config.symbolSize,\n          symbolRotate: config.symbolRotate ?? 0,\n          xAxisIndex: 0,\n          yAxisIndex: 0,\n          itemStyle: {\n            color: config.color,\n          },\n          tooltip: {\n            valueFormatter: (value) => (value ? `${config.tooltipPrefix} ${value}` : ''),\n          },\n          encode: {\n            x: colDate,\n            y: config.colData,\n          },\n        });\n      }\n    }\n  }\n\n  // Merge this into original data\n  Object.assign(chartOptions.value, options);\n\n  if ('main_plot' in props.plotConfig) {\n    Object.entries(props.plotConfig.main_plot).forEach(([key, value]) => {\n      const col = columns.findIndex((el) => el === key);\n      if (col > 0) {\n        if (!Array.isArray(chartOptions.value?.legend) && chartOptions.value?.legend?.data) {\n          chartOptions.value.legend.data.push(key);\n        }\n        if (Array.isArray(chartOptions.value?.series)) {\n          chartOptions.value?.series.push(generateCandleSeries(colDate, col, key, value));\n\n          if (value.fill_to) {\n            // Assign\n            const fillColKey = `${key}-${value.fill_to}`;\n            const fillCol = columns.findIndex((el) => el === fillColKey);\n            const fillValue: IndicatorConfig = {\n              color: value.color,\n              type: ChartType.line,\n            };\n            const areaSeries = generateAreaCandleSeries(colDate, fillCol, key, fillValue, 0);\n\n            chartOptions.value.series[chartOptions.value.series.length - 1]['stack'] = key;\n            chartOptions.value.series.push(areaSeries);\n          }\n          chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n        }\n      } else {\n        console.log(`element ${key} for main plot not found in columns.`);\n      }\n    });\n  }\n\n  // START Subplots\n  if ('subplots' in props.plotConfig) {\n    let plotIndex = 2;\n    Object.entries(props.plotConfig.subplots).forEach(([key, value]) => {\n      // define yaxis\n\n      // Subplots are added from bottom to top - only the \"bottom-most\" plot stays at the bottom.\n      // const currGridIdx = totalSubplots - plotIndex > 1 ? totalSubplots - plotIndex : plotIndex;\n      const currGridIdx = plotIndex;\n      if (Array.isArray(chartOptions.value.yAxis) && chartOptions.value.yAxis.length <= plotIndex) {\n        chartOptions.value.yAxis.push({\n          scale: true,\n          gridIndex: currGridIdx,\n          name: key,\n          position: props.labelSide,\n          nameLocation: 'middle',\n          nameGap: NAMEGAP,\n          axisLabel: {\n            show: true,\n            hideOverlap: true,\n          },\n          axisLine: { show: false },\n          axisTick: { show: false },\n          splitLine: { show: false },\n        });\n      }\n      if (Array.isArray(chartOptions.value.xAxis) && chartOptions.value.xAxis.length <= plotIndex) {\n        chartOptions.value.xAxis.push({\n          type: 'time',\n          gridIndex: currGridIdx,\n          axisLine: { onZero: false },\n          axisTick: { show: false },\n          axisLabel: { show: false },\n          axisPointer: {\n            label: { show: false },\n          },\n          splitLine: { show: false },\n          splitNumber: 20,\n        });\n      }\n      if (Array.isArray(chartOptions.value.dataZoom)) {\n        chartOptions.value.dataZoom.forEach((el) =>\n          el.xAxisIndex && Array.isArray(el.xAxisIndex) ? el.xAxisIndex.push(plotIndex) : null,\n        );\n      }\n      if (chartOptions.value.grid && Array.isArray(chartOptions.value.grid)) {\n        chartOptions.value.grid.push({\n          left: MARGINLEFT,\n          right: MARGINRIGHT,\n          bottom: `${(subplotCount - plotIndex + 1) * SUBPLOTHEIGHT}%`,\n          height: `${SUBPLOTHEIGHT}%`,\n        });\n      }\n      Object.entries(value).forEach(([sk, sv]) => {\n        // entries per subplot\n        const col = columns.findIndex((el) => el === sk);\n        if (col > 0) {\n          if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n            chartOptions.value.legend.data.push(sk);\n          }\n          if (chartOptions.value.series && Array.isArray(chartOptions.value.series)) {\n            chartOptions.value.series.push(generateCandleSeries(colDate, col, sk, sv, plotIndex));\n            if (sv.fill_to) {\n              // Assign\n              const fillColKey = `${sk}-${sv.fill_to}`;\n              const fillCol = columns.findIndex((el) => el === fillColKey);\n              const fillValue: IndicatorConfig = {\n                color: sv.color,\n                type: ChartType.line,\n              };\n              const areaSeries = generateAreaCandleSeries(\n                colDate,\n                fillCol,\n                sk,\n                fillValue,\n                plotIndex,\n              );\n\n              chartOptions.value.series[chartOptions.value.series.length - 1]['stack'] = sk;\n              chartOptions.value.series.push(areaSeries);\n            }\n            chartOptions.value?.series.splice(chartOptions.value?.series.length - 1, 0);\n          }\n        } else {\n          console.log(`element ${sk} was not found in the columns.`);\n        }\n      });\n\n      plotIndex += 1;\n    });\n  }\n  // END Subplots\n  // Last subplot should show xAxis labels\n  // if (options.xAxis && Array.isArray(options.xAxis)) {\n  //   options.xAxis[options.xAxis.length - 1].axisLabel.show = true;\n  //   options.xAxis[options.xAxis.length - 1].axisTick.show = true;\n  // }\n  if (Array.isArray(chartOptions.value.grid)) {\n    // Last subplot is bottom\n    chartOptions.value.grid[chartOptions.value.grid.length - 1].bottom = '50px';\n    delete chartOptions.value.grid[chartOptions.value.grid.length - 1].top;\n  }\n\n  const nameTrades = 'Trades';\n  if (!Array.isArray(chartOptions.value.legend) && chartOptions.value.legend?.data) {\n    // Insert trades into legend, after the default columns\n    chartOptions.value.legend.data.splice(4, 0, nameTrades);\n  }\n  const tradesSeries: ScatterSeriesOption = generateTradeSeries(\n    nameTrades,\n    props.theme,\n    props.dataset,\n    filteredTrades.value,\n  );\n  if (Array.isArray(chartOptions.value.series)) {\n    chartOptions.value.series.push(tradesSeries);\n  }\n\n  // console.log('chartOptions', chartOptions.value);\n  candleChart.value?.setOption(chartOptions.value, {\n    replaceMerge: ['series', 'grid', 'yAxis', 'xAxis', 'legend'],\n    notMerge: initial,\n  });\n}\n\nfunction initializeChartOptions() {\n  // Ensure we start empty.\n  candleChart.value?.setOption({}, { notMerge: true });\n\n  chartOptions.value = {\n    title: [\n      {\n        // text: this.chartTitle,\n        show: false,\n      },\n    ],\n    backgroundColor: 'rgba(0, 0, 0, 0)',\n    useUTC: props.useUTC,\n    animation: false,\n    legend: {\n      // Initial legend, further entries are pushed to the below list\n      data: ['Candles', 'Volume', 'Entry', 'Exit'],\n      right: '1%',\n      type: 'scroll',\n      pageTextStyle: {\n        color: props.theme === 'dark' ? '#dedede' : '#333',\n      },\n      pageIconColor: props.theme === 'dark' ? '#aaa' : '#2f4554',\n      pageIconInactiveColor: props.theme === 'dark' ? '#2f4554' : '#aaa',\n    },\n    tooltip: {\n      show: true,\n      trigger: 'axis',\n      renderMode: 'richText',\n      backgroundColor: 'rgba(80,80,80,0.7)',\n      borderWidth: 0,\n      textStyle: {\n        color: '#fff',\n      },\n      axisPointer: {\n        type: 'cross',\n        lineStyle: {\n          color: '#cccccc',\n          width: 1,\n          opacity: 1,\n        },\n      },\n      // positioning copied from https://echarts.apache.org/en/option.html#tooltip.position\n      position(pos, params, dom, rect, size) {\n        // tooltip will be fixed on the right if mouse hovering on the left,\n        // and on the left if hovering on the right.\n        const obj = { top: 60 };\n        const mouseIsLeft = pos[0] < size.viewSize[0] / 2;\n        obj[['left', 'right'][+mouseIsLeft]] = mouseIsLeft ? 5 : 60;\n        return obj;\n      },\n    },\n    axisPointer: {\n      link: [{ xAxisIndex: 'all' }],\n      label: {\n        backgroundColor: '#777',\n      },\n    },\n    xAxis: [\n      {\n        type: 'time',\n        axisLine: { onZero: false },\n        axisTick: { show: true },\n        axisLabel: { show: true },\n        axisPointer: {\n          label: { show: false },\n        },\n        position: 'top',\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n      {\n        type: 'time',\n        gridIndex: 1,\n        axisLine: { onZero: false },\n        axisTick: { show: false },\n        axisLabel: { show: false },\n        axisPointer: {\n          label: { show: false },\n        },\n        splitLine: { show: false },\n        splitNumber: 20,\n        min: 'dataMin',\n        max: 'dataMax',\n      },\n    ],\n    yAxis: [\n      {\n        scale: true,\n        max: (value) => {\n          return value.max + (value.max - value.min) * 0.02;\n        },\n        min: (value) => {\n          return value.min - (value.max - value.min) * 0.04;\n        },\n        position: props.labelSide,\n      },\n      {\n        scale: true,\n        gridIndex: 1,\n        splitNumber: 2,\n        name: 'volume',\n        nameLocation: 'middle',\n        position: props.labelSide,\n        nameGap: NAMEGAP,\n        axisLabel: { show: false },\n        axisLine: { show: false },\n        axisTick: { show: false },\n        splitLine: { show: false },\n      },\n    ],\n    dataZoom: [\n      // Start values are recalculated once the data is known\n      {\n        type: 'inside',\n        xAxisIndex: [0, 1],\n        start: 80,\n        end: 100,\n      },\n      {\n        xAxisIndex: [0, 1],\n        bottom: 10,\n        start: 80,\n        end: 100,\n        ...dataZoomPartial,\n      },\n    ],\n    // visualMap: {\n    //   //  TODO: this would allow to colorize volume bars (if we'd want this)\n    //   //  Needs green / red indicator column in data.\n    //   show: true,\n    //   seriesIndex: 1,\n    //   dimension: 5,\n    //   pieces: [\n    //     {\n    //       max: 500000.0,\n    //       color: downColor,\n    //     },\n    //     {\n    //       min: 500000.0,\n    //       color: upColor,\n    //     },\n    //   ],\n    // },\n  };\n\n  console.log('Initialized');\n  updateChart(true);\n}\n\nfunction updateSliderPosition() {\n  if (!props.sliderPosition) return;\n\n  const start = props.sliderPosition.startValue - props.dataset.timeframe_ms * 40;\n  const end = props.sliderPosition.endValue\n    ? props.sliderPosition.endValue + props.dataset.timeframe_ms * 40\n    : props.sliderPosition.startValue + props.dataset.timeframe_ms * 80;\n  if (candleChart.value) {\n    candleChart.value.dispatchAction({\n      type: 'dataZoom',\n      dataZoomIndex: 0,\n      startValue: start,\n      endValue: end,\n    });\n  }\n}\n\n// const buyData = ref<number[][]>([]);\n// const sellData = ref<number[][]>([]);\n// createSignalData(colDate: number, colOpen: number, colBuy: number, colSell: number): void {\n// Calculate Buy and sell Series\n// if (!this.signalsCalculated) {\n//   // Generate Buy and sell array (using open rate to display marker)\n//   for (let i = 0, len = this.dataset.data.length; i < len; i += 1) {\n//     if (this.dataset.data[i][colBuy] === 1) {\n//       this.buyData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//     if (this.dataset.data[i][colSell] === 1) {\n//       this.sellData.push([this.dataset.data[i][colDate], this.dataset.data[i][colOpen]]);\n//     }\n//   }\n//   this.signalsCalculated = true;\n// }\n// }\n\nonMounted(() => {\n  initializeChartOptions();\n});\n\nwatch([() => props.useUTC, () => props.theme, () => props.plotConfig], () =>\n  initializeChartOptions(),\n);\n\nwatch([() => props.dataset, () => props.heikinAshi], () => updateChart());\n\nwatch(\n  () => props.sliderPosition,\n  () => updateSliderPosition(),\n);\n</script>\n\n<template>\n  <div class=\"h-full w-full\">\n    <ECharts v-if=\"hasData\" ref=\"candleChart\" :theme=\"theme\" autoresize manual-update />\n  </div>\n</template>\n\n<style scoped lang=\"css\">\n.echarts {\n  width: 100%;\n  min-height: 200px;\n  /* TODO: height calculation is not working correctly - uses min-height for now */\n  /* height: 600px; */\n  height: 100%;\n}\n</style>\n","<script setup lang=\"ts\">\nimport { usePlotConfigStore } from '@/stores/plotConfig';\nimport { useSettingsStore } from '@/stores/settings';\nimport type { ChartSliderPosition, PairHistory, Trade } from '@/types';\nimport { LoadingStatus } from '@/types';\n\nimport { useBotStore } from '@/stores/ftbotwrapper';\n\nimport { useColorStore } from '@/stores/colors';\n\nconst props = defineProps({\n  trades: { required: false, default: () => [], type: Array as () => Trade[] },\n  availablePairs: { required: true, type: Array as () => string[] },\n  timeframe: { required: true, type: String },\n  historicView: { required: false, default: false, type: Boolean },\n  plotConfigModal: { required: false, default: true, type: Boolean },\n  /** Only required if historicView is true */\n  strategy: { required: false, default: '', type: String },\n  sliderPosition: {\n    required: false,\n    type: Object as () => ChartSliderPosition,\n    default: () => undefined,\n  },\n});\n\nconst emit = defineEmits<{\n  refreshData: [pair: string, columns: string[]];\n}>();\n\nconst settingsStore = useSettingsStore();\nconst colorStore = useColorStore();\nconst botStore = useBotStore();\nconst plotStore = usePlotConfigStore();\n\nconst showPlotConfig = ref<boolean>();\n\nconst dataset = computed((): PairHistory => {\n  if (props.historicView) {\n    return botStore.activeBot.history[`${botStore.activeBot.plotPair}__${props.timeframe}`]?.data;\n  }\n  return botStore.activeBot.candleData[`${botStore.activeBot.plotPair}__${props.timeframe}`]?.data;\n});\nconst strategyName = computed(() => props.strategy || dataset.value?.strategy || '');\nconst datasetColumns = computed(() =>\n  dataset.value ? (dataset.value.all_columns ?? dataset.value.columns) : [],\n);\nconst datasetLoadedColumns = computed(() =>\n  dataset.value ? (dataset.value.columns ?? dataset.value.all_columns) : [],\n);\n\nconst hasDataset = computed(() => dataset.value && dataset.value.data.length > 0);\nconst isLoadingDataset = computed((): boolean => {\n  if (props.historicView) {\n    return botStore.activeBot.historyStatus === LoadingStatus.loading;\n  }\n\n  return botStore.activeBot.candleDataStatus === LoadingStatus.loading;\n});\nconst noDatasetText = computed((): string => {\n  const status = props.historicView\n    ? botStore.activeBot.historyStatus\n    : botStore.activeBot.candleDataStatus;\n\n  switch (status) {\n    case LoadingStatus.not_loaded:\n      return 'Not loaded yet.';\n    case LoadingStatus.loading:\n      return 'Loading...';\n    case LoadingStatus.success:\n      return 'No data available';\n    case LoadingStatus.error:\n      return 'Failed to load data';\n    default:\n      return 'Unknown';\n  }\n});\nconst showPlotConfigModal = ref(false);\n\nfunction showConfigurator() {\n  if (props.plotConfigModal) {\n    showPlotConfigModal.value = !showPlotConfigModal.value;\n  } else {\n    showPlotConfig.value = !showPlotConfig.value;\n  }\n}\n\nfunction refresh() {\n  emit('refreshData', botStore.activeBot.plotPair, plotStore.usedColumns);\n}\n\nfunction refreshIfNecessary() {\n  if (!hasDataset.value) {\n    refresh();\n  }\n}\n\nwatch(\n  () => props.availablePairs,\n  () => {\n    if (!props.availablePairs.find((p) => p === botStore.activeBot.plotPair)) {\n      [botStore.activeBot.plotPair] = props.availablePairs;\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => botStore.activeBot.selectedPair,\n  () => {\n    botStore.activeBot.plotPair = botStore.activeBot.selectedPair;\n  },\n);\n\nwatch(\n  () => botStore.activeBot.plotPair,\n  () => {\n    if (!props.historicView) {\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => plotStore.plotConfig,\n  () => {\n    // Trigger reload if the used columns are not loaded yet but would be available.\n    const hasAllColumns = plotStore.usedColumns.some(\n      (c) => datasetColumns.value.includes(c) && !datasetLoadedColumns.value.includes(c),\n    );\n\n    if (settingsStore.useReducedPairCalls && hasAllColumns) {\n      refresh();\n    }\n  },\n);\n\nwatch(\n  () => props.timeframe,\n  () => {\n    refreshIfNecessary();\n  },\n);\n\nonMounted(() => {\n  showPlotConfig.value = props.plotConfigModal;\n  if (botStore.activeBot.selectedPair) {\n    botStore.activeBot.plotPair = botStore.activeBot.selectedPair;\n  } else if (props.availablePairs.length > 0) {\n    [botStore.activeBot.plotPair] = props.availablePairs;\n  }\n  plotStore.plotConfigChanged();\n  refreshIfNecessary();\n});\n</script>\n\n<template>\n  <div class=\"flex h-full\">\n    <div class=\"flex-fill w-full flex-col align-items-stretch flex h-full\">\n      <div class=\"flex me-0\">\n        <div class=\"ms-1 md:ms-2 flex flex-wrap md:flex-nowrap items-center gap-1\">\n          <span class=\"md:ms-2 text-nowrap\">{{ strategyName }} | {{ timeframe || '' }}</span>\n          <Select\n            v-model=\"botStore.activeBot.plotPair\"\n            class=\"md:ms-2\"\n            :options=\"availablePairs\"\n            size=\"small\"\n            :clearable=\"false\"\n            @input=\"refresh\"\n          >\n          </Select>\n\n          <Button\n            title=\"Refresh chart\"\n            severity=\"secondary\"\n            :disabled=\"!!!botStore.activeBot.plotPair || isLoadingDataset\"\n            size=\"small\"\n            @click=\"refresh\"\n          >\n            <i-mdi-refresh />\n          </Button>\n          <ProgressSpinner\n            v-if=\"isLoadingDataset\"\n            class=\"w-8 h-8\"\n            stroke-width=\"8\"\n            small\n            label=\"Spinning\"\n          />\n          <div class=\"flex flex-col\">\n            <div class=\"flex flex-row flex-wrap\">\n              <small v-if=\"dataset\" class=\"ms-2 text-sm text-nowrap\" title=\"Long entry signals\"\n                >Long entries: {{ dataset.enter_long_signals || dataset.buy_signals }}</small\n              >\n              <small v-if=\"dataset\" class=\"ms-2 text-sm text-nowrap\" title=\"Long exit signals\"\n                >Long exit: {{ dataset.exit_long_signals || dataset.sell_signals }}</small\n              >\n            </div>\n            <div class=\"flex flex-row flex-wrap\">\n              <small v-if=\"dataset && dataset.enter_short_signals\" class=\"ms-2 text-sm text-nowrap\"\n                >Short entries: {{ dataset.enter_short_signals }}</small\n              >\n              <small v-if=\"dataset && dataset.exit_short_signals\" class=\"ms-2 text-sm text-nowrap\"\n                >Short exits: {{ dataset.exit_short_signals }}</small\n              >\n            </div>\n          </div>\n        </div>\n        <div class=\"ms-auto flex items-center\">\n          <BaseCheckbox v-model=\"settingsStore.useHeikinAshiCandles\">\n            <span class=\"text-nowrap\">Heikin Ashi</span>\n          </BaseCheckbox>\n\n          <div class=\"ms-2\">\n            <PlotConfigSelect></PlotConfigSelect>\n          </div>\n\n          <div class=\"ms-2 me-0 md:me-1\">\n            <Button\n              size=\"small\"\n              title=\"Plot configurator\"\n              severity=\"secondary\"\n              @click=\"showConfigurator\"\n            >\n              <template #icon>\n                <i-mdi-cog width=\"12\" height=\"12\" />\n              </template>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div class=\"h-full flex\">\n        <div class=\"min-w-0 w-full shrink\">\n          <CandleChart\n            v-if=\"hasDataset\"\n            :dataset=\"dataset\"\n            :trades=\"trades\"\n            :plot-config=\"plotStore.plotConfig\"\n            :heikin-ashi=\"settingsStore.useHeikinAshiCandles\"\n            :use-u-t-c=\"settingsStore.timezone === 'UTC'\"\n            :theme=\"settingsStore.chartTheme\"\n            :slider-position=\"sliderPosition\"\n            :color-up=\"colorStore.colorUp\"\n            :color-down=\"colorStore.colorDown\"\n            :label-side=\"settingsStore.chartLabelSide\"\n          />\n          <div v-else class=\"m-auto\">\n            <ProgressSpinner v-if=\"isLoadingDataset\" class=\"w-5 h-5\" label=\"Spinning\" />\n            <div v-else class=\"text-lg\">\n              {{ noDatasetText }}\n            </div>\n            <p v-if=\"botStore.activeBot.historyTakesLonger\">\n              This is taking longer than expected ... Hold on ...\n            </p>\n          </div>\n        </div>\n        <Transition name=\"fade\">\n          <div\n            v-if=\"!plotConfigModal\"\n            v-show=\"showPlotConfig\"\n            class=\"grow border rounded-md ps-1 border-surface-300 dark:border-surface-700\"\n          >\n            <PlotConfigurator :columns=\"datasetColumns\" :is-visible=\"showPlotConfig ?? false\" />\n          </div>\n        </Transition>\n      </div>\n    </div>\n    <Dialog\n      v-if=\"plotConfigModal\"\n      id=\"plotConfiguratorModal\"\n      v-model:visible=\"showPlotConfigModal\"\n      header=\"Plot Configurator\"\n      ok-only\n      hide-backdrop\n    >\n      <PlotConfigurator :is-visible=\"showPlotConfigModal\" :columns=\"datasetColumns\" />\n    </Dialog>\n  </div>\n</template>\n\n<style scoped lang=\"css\">\n.fade-enter-active,\n.fade-leave-active {\n  transition: all 0.2s;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n  transform: translateX(30px);\n}\n</style>\n"],"names":["style","e","classes","_ref","instance","props","TextareaStyle","BaseStyle","script$1","BaseInput","_typeof","o","_defineProperty","r","t","_toPropertyKey","i","_toPrimitive","script","_this","event","mergeProps","cn","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","openBlock","createElementBlock","__props","emit","__emit","selAvailableIndicator","ref","emitIndicator","abort","onMounted","watch","newValue","n","_ref2","ColorPickerStyle","BaseEditableHolder","ZIndex","rect","top","left","saturation","brightness","value","hsbValue","hsb","rgb","hex","len","hexValue","min","max","delta","h","s","v","t1","t2","t3","key","el","relativePosition","absolutePosition","_this$formField$onBlu","_this$formField","addClass","removeClass","_this2","ConnectedOverlayScrollHandler","_this3","isTouchDevice","OverlayEventBus","Portal","ownKeys","_objectSpread","_component_Portal","resolveComponent","createCommentVNode","createVNode","withCtx","Transition","createElementVNode","$event","randomColor","selColor_","selColor","computed","val","graphType","ChartType","availableGraphTypes","cancelled","fillTo","scatterSymbolSize","newColor","combinedIndicator","xx","watchDebounced","_option","index","getItemOptions","ListboxStyle","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","a","_arrayLikeToArray","fn","option","resolveFieldData","itemOptions","optionGroup","focus","firstFocusableEl","getFirstFocusableElement","isElement","relatedTarget","metaKey","isPrintableCharacter","item","selected","valueChanged","metaSelection","start","end","rangeStart","rangeEnd","optionIndex","pressedInInputText","target","_this$getOptionLabel","isNotEmpty","value1","value2","equals","_this4","optionValue","_this5","_this6","findLastIndex","_this7","matchedOptionIndex","_this8","_this9","_loop","_ret","_this10","_this11","_this12","_this13","firstCheckUp","selectedIndex","_char","_this14","_this15","_this16","id","element","findSingle","contentRef","FilterService","_this17","filteredOptions","optionGroupChildren","filteredChildren","_this18","Ripple","InputText","VirtualScroller","InputIcon","IconField","SearchIcon","CheckIcon","BlankIcon","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_InputText","_component_SearchIcon","_component_InputIcon","_component_IconField","_component_CheckIcon","_component_BlankIcon","_component_VirtualScroller","_directive_ripple","resolveDirective","normalizeClass","renderSlot","createBlock","normalizeProps","toDisplayString","createSlots","styleClass","items","contentStyle","itemSize","Fragment","renderList","createTextVNode","withDirectives","options","isMergeableObject","isNonNullObject","isSpecial","stringValue","isReactElement","canUseSymbol","REACT_ELEMENT_TYPE","emptyTarget","cloneUnlessOtherwiseSpecified","deepmerge","defaultArrayMerge","source","getMergeFunction","customMerge","getEnumerableOwnPropertySymbols","symbol","getKeys","propertyIsOnObject","object","property","propertyIsUnsafe","mergeObject","destination","sourceIsArray","targetIsArray","sourceAndTargetTypesMatch","array","prev","next","deepmerge_1","cjs","plotTemplates","replaceTemplateColumns","template","nameMap","newTemplate","deepClone","newMainPlot","newKey","newSubplots","subplotKey","newSubplot","usePlotTemplates","getTemplateContent","templateName","applyPlotTemplate","currentConfig","deepMerge","visible","_useModel","plotTemplateNames","plotStore","usePlotConfigStore","fromTemplateApply","selTemplateName","indicatorMap","clickStartUseTemplate","showIndicatorMapping","plotConfigColumns","acc","indicator","botStore","useBotStore","plotConfigNameLoc","selIndicatorName","addNewIndicator","showConfig","selSubPlot","tempPlotConfig","tempPlotConfigValid","isMainPlot","currentPlotConfig","subplots","usedColumns","usedCols","col","addIndicator","newIndicator","name","selIndicator","plotConfigJson","removeIndicator","clickAddNewIndicator","addSubplot","newSubplotName","deleteSubplot","subplotName","renameSubplot","oldName","newName","loadPlotConfig","loadConfigFromString","loadPlotConfigFromStrategy","showAlert","savePlotConfig","addNewIndicatorSelected","fromPlotTemplateVisible","calculateDiff","columns","data","colFrom","colTo","fromIdx","toIdx","hasBothColumns","original","candle","diff","getDiffColumnsFromPlotConfig","plotConfig","result","ROUND_UP","ROUND_DOWN","ROUND_CLOSER","roundTimeframe","timeframems","timestamp","direction","offset","up","usePercentageTool","chartRef","theme","timeframe_ms","inputListener","useKeyModifier","color","startPos","drawLimitPerSecond","canDraw","active","closing","boxHeight","boxWidth","roundTF","mouseMove","draw","mouseDown","drawEnd","_f","_e","_h","_g","startValues","_a","startnew","_b","_d","_c","drawStart","x","y","endValues","startPrice","endPrice","startTime","endTime","timeDiff","xr","timeElapsed","humanizeDuration","pct","heikinAshiDataset","openIdx","closeIdx","highIdx","lowIdx","prevCandle","idx","open","close","high","low","splitTradePair","pair","baseCurrency","quoteCurrency","quoteCurrencySplit","buildTooltipCost","order","formatPriceCurrency","buildToolTip","trade","side","tooltip","formatPercent","buildAdjustmentToolTip","ADJUSTMENT_SYMBOL","OPEN_CLOSE_SYMBOL","SHORT_COLOR","LONG_COLOR","getTradeEntries","dataset","trades","tradeData","stop_ts_adjusted","openTs","orderTs","generateTradeSeries","nameTrades","openTrade","tradesSeries","generateMarkArea","area","generateCandleSeries","colDate","axis","sp","generateAreaCandleSeries","fillCol","fillValue","areaSeries","areaOptions","NAMEGAP","SUBPLOTHEIGHT","buySignalColor","shortEntrySignalColor","sellSignalColor","shortexitSignalColor","use","AxisPointerComponent","CalendarComponent","DatasetComponent","DataZoomComponent","GridComponent","LegendComponent","TimelineComponent","TitleComponent","ToolboxComponent","TooltipComponent","VisualMapComponent","VisualMapPiecewiseComponent","MarkLineComponent","CandlestickChart","BarChart","LineChart","ScatterChart","CanvasRenderer","GraphicComponent","isLabelLeft","MARGINLEFT","MARGINRIGHT","upColor","upBorderColor","downColor","downBorderColor","candleChart","chartOptions","strategy","timeframe","hasData","filteredTrades","chartTitle","diffCols","toRef","updateChart","initial","colOpen","colHigh","colLow","colClose","colVolume","colEntryData","colExitData","colShortEntryData","colShortExitData","subplotCount","startingZoom","newArray","signalConfigs","config","fillColKey","plotIndex","currGridIdx","sk","sv","initializeChartOptions","pos","params","dom","size","obj","mouseIsLeft","dataZoomPartial","updateSliderPosition","settingsStore","useSettingsStore","colorStore","useColorStore","showPlotConfig","strategyName","datasetColumns","datasetLoadedColumns","hasDataset","isLoadingDataset","LoadingStatus","noDatasetText","showPlotConfigModal","showConfigurator","refresh","refreshIfNecessary","p","hasAllColumns","c"],"mappings":"mpCAAA,IAAIA,GAAM,CAAC,CAAC,GAAGC,CAAC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAAqHA,EAAE,gBAAgB,CAAC;AAAA,kBAAsBA,EAAE,qBAAqB,CAAC;AAAA,qBAAyBA,EAAE,oBAAoB,CAAC;AAAA,sBAA0BA,EAAE,oBAAoB,CAAC;AAAA,wBAA4BA,EAAE,uBAAuB,CAAC;AAAA,6BAAiCA,EAAE,8BAA8B,CAAC,WAAWA,EAAE,8BAA8B,CAAC,kBAAkBA,EAAE,8BAA8B,CAAC,mBAAmBA,EAAE,8BAA8B,CAAC,gBAAgBA,EAAE,8BAA8B,CAAC;AAAA;AAAA,qBAAgDA,EAAE,wBAAwB,CAAC;AAAA;AAAA,kBAAuDA,EAAE,iBAAiB,CAAC;AAAA;AAAA;AAAA;AAAA,oBAA0DA,EAAE,6BAA6B,CAAC;AAAA;AAAA;AAAA;AAAA,oBAA0DA,EAAE,6BAA6B,CAAC;AAAA,kBAAsBA,EAAE,4BAA4B,CAAC;AAAA,eAAmBA,EAAE,2BAA2B,CAAC,IAAIA,EAAE,2BAA2B,CAAC,IAAIA,EAAE,2BAA2B,CAAC;AAAA,sBAA0BA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA;AAAA,oBAAsDA,EAAE,+BAA+B,CAAC;AAAA;AAAA;AAAA;AAAA,kBAA2DA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAyEA,EAAE,kCAAkC,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAyEA,EAAE,kCAAkC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAoEA,EAAE,8BAA8B,CAAC;AAAA,aAAiBA,EAAE,yBAAyB,CAAC;AAAA;AAAA;AAAA;AAAA,aAAkDA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA;AAAA,aAA4DA,EAAE,oCAAoC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAgKA,EAAE,uBAAuB,CAAC;AAAA,qBAAyBA,EAAE,uBAAuB,CAAC;AAAA,sBAA0BA,EAAE,uBAAuB,CAAC;AAAA;AAAA;AAAA;AAAA,iBAA4CA,EAAE,uBAAuB,CAAC;AAAA,qBAAyBA,EAAE,uBAAuB,CAAC;AAAA,sBAA0BA,EAAE,uBAAuB,CAAC;AAAA;AAAA,ECGlzEC,GAAU,CACZ,KAAM,SAAcC,EAAM,CACxB,IAAIC,EAAWD,EAAK,SAClBE,EAAQF,EAAK,MACf,MAAO,CAAC,yBAA0B,CAChC,WAAYC,EAAS,QACrB,wBAAyBC,EAAM,WAC/B,gCAAiCA,EAAM,OAAS,QAChD,gCAAiCA,EAAM,OAAS,QAChD,YAAaD,EAAS,SACtB,mBAAoBA,EAAS,WAAa,SAC1C,mBAAoBA,EAAS,MACnC,CAAK,CACL,CACA,EACIE,GAAgBC,GAAU,OAAO,CACnC,KAAM,WACN,MAAOP,GACP,QAASE,EACX,CAAC,ECjBGM,GAAW,CACb,KAAM,eACN,QAAWC,GACX,MAAO,CACL,WAAY,OACb,EACD,MAAOH,GACP,QAAS,UAAmB,CAC1B,MAAO,CACL,YAAa,KACb,gBAAiB,IAClB,CACL,CACA,EAEA,SAASI,GAAQC,EAAG,CAAE,0BAA2B,OAAOD,GAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAG,CAAE,OAAO,OAAOA,GAAO,SAAUA,EAAG,CAAE,OAAOA,GAAmB,OAAO,QAArB,YAA+BA,EAAE,cAAgB,QAAUA,IAAM,OAAO,UAAY,SAAW,OAAOA,CAAE,EAAID,GAAQC,CAAC,CAAE,CAC5T,SAASC,GAAgBX,EAAGY,EAAGC,EAAG,CAAE,OAAQD,EAAIE,GAAeF,CAAC,KAAMZ,EAAI,OAAO,eAAeA,EAAGY,EAAG,CAAE,MAAOC,EAAG,WAAY,GAAM,aAAc,GAAM,SAAU,EAAI,CAAE,EAAIb,EAAEY,CAAC,EAAIC,EAAGb,CAAE,CACxL,SAASc,GAAe,EAAG,CAAE,IAAIC,EAAIC,GAAa,EAAG,QAAQ,EAAG,OAAmBP,GAAQM,CAAC,GAArB,SAAyBA,EAAIA,EAAI,EAAG,CAC3G,SAASC,GAAa,EAAGJ,EAAG,CAAE,GAAgBH,GAAQ,CAAC,GAArB,UAA0B,CAAC,EAAG,OAAO,EAAG,IAAIT,EAAI,EAAE,OAAO,WAAW,EAAG,GAAeA,IAAX,OAAc,CAAE,IAAIe,EAAIf,EAAE,KAAK,EAAGY,CAAC,EAAG,GAAgBH,GAAQM,CAAC,GAArB,SAAwB,OAAOA,EAAG,MAAM,IAAI,UAAU,8CAA8C,CAAE,CAAG,OAAqBH,IAAb,SAAiB,OAAS,QAAQ,CAAC,CAAE,CAC1S,IAACK,GAAS,CACX,KAAM,WACN,QAAWV,GACX,aAAc,GACd,SAAU,KACV,QAAS,UAAmB,CAC1B,IAAIW,EAAQ,KACR,KAAK,aACP,KAAK,SAAW,IAAI,eAAe,UAAY,CAE7C,sBAAsB,UAAY,CAChCA,EAAM,OAAQ,CACxB,CAAS,CACT,CAAO,EACD,KAAK,SAAS,QAAQ,KAAK,GAAG,EAEjC,EACD,QAAS,UAAmB,CACtB,KAAK,YACP,KAAK,OAAQ,CAEhB,EACD,cAAe,UAAyB,CAClC,KAAK,UACP,KAAK,SAAS,WAAY,CAE7B,EACD,QAAS,CACP,OAAQ,UAAkB,CACnB,KAAK,IAAI,eACd,KAAK,IAAI,MAAM,OAAS,OACxB,KAAK,IAAI,MAAM,OAAS,KAAK,IAAI,aAAe,KAC5C,WAAW,KAAK,IAAI,MAAM,MAAM,GAAK,WAAW,KAAK,IAAI,MAAM,SAAS,GAC1E,KAAK,IAAI,MAAM,UAAY,SAC3B,KAAK,IAAI,MAAM,OAAS,KAAK,IAAI,MAAM,WAEvC,KAAK,IAAI,MAAM,SAAW,SAE7B,EACD,QAAS,SAAiBC,EAAO,CAC3B,KAAK,YACP,KAAK,OAAQ,EAEf,KAAK,WAAWA,EAAM,OAAO,MAAOA,CAAK,CAC/C,CACG,EACD,SAAU,CACR,MAAO,UAAiB,CACtB,OAAOC,EAAW,KAAK,KAAK,OAAQ,CAClC,QAAS,CACP,OAAQ,KAAK,QACb,SAAU,KAAK,QACzB,CACA,CAAO,EAAG,KAAK,SAAS,CACnB,EACD,MAAO,UAAiB,CACtB,OAAOC,GAAGV,GAAgB,CACxB,QAAS,KAAK,SACd,MAAO,KAAK,OACZ,OAAQ,KAAK,WAAa,QAC3B,EAAE,KAAK,KAAM,KAAK,IAAI,CAAC,CAC9B,CACA,CACA,EAEIW,GAAa,CAAC,QAAS,OAAQ,WAAY,eAAgB,QAAQ,EACvE,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAC7D,OAAOC,EAAW,EAAEC,EAAmB,WAAYX,EAAW,CAC5D,MAASI,EAAK,GAAG,MAAM,EACvB,MAAOA,EAAK,QACZ,KAAMA,EAAK,KACX,SAAUA,EAAK,SACf,eAAgBA,EAAK,SAAW,OAChC,SAAUK,EAAS,MACnB,QAASJ,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC7C,OAAOI,EAAS,SAAWA,EAAS,QAAQ,MAAMA,EAAU,SAAS,CACtE,EACF,EAAEA,EAAS,KAAK,EAAG,KAAM,GAAIP,EAAU,CAC1C,CAEAL,GAAO,OAASM,uVCvGhB,MAAMnB,EAAQ4B,EAKRC,EAAOC,EAKPC,EAAwBC,EAAI,EAAE,EAEpC,SAASC,GAAgB,CAClBJ,EAAA,oBAAqBE,EAAsB,KAAK,EAChDF,EAAA,oBAAqBE,EAAsB,KAAK,CAAA,CAEvD,SAASG,GAAQ,CACfH,EAAsB,MAAQ,GAChBE,EAAA,CAAA,CAGhB,OAAAE,GAAU,IAAM,CACdJ,EAAsB,MAAQ/B,EAAM,UAAA,CACrC,EAEDoC,EAAML,EAAuB,IAAM,CACnBE,EAAA,CAAA,CACf,EAEDG,EACE,IAAMpC,EAAM,WACXqC,GAAa,CACZN,EAAsB,MAAQM,CAAA,CAElC,m0CCnCA,IAAI1C,GAAM,CAAC,CAAC,GAAG2C,CAAC,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA4KA,EAAE,2BAA2B,CAAC;AAAA,cAAkBA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA,qBAA+DA,EAAE,mCAAmC,CAAC;AAAA,6BAAiCA,EAAE,iCAAiC,CAAC,WAAWA,EAAE,iCAAiC,CAAC,kBAAkBA,EAAE,iCAAiC,CAAC,mBAAmBA,EAAE,iCAAiC,CAAC,gBAAgBA,EAAE,iCAAiC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAoIA,EAAE,wCAAwC,CAAC;AAAA,kBAAsBA,EAAE,uCAAuC,CAAC;AAAA,eAAmBA,EAAE,sCAAsC,CAAC,IAAIA,EAAE,sCAAsC,CAAC,IAAIA,EAAE,sCAAsC,CAAC;AAAA,sBAA0BA,EAAE,uCAAuC,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAmDA,EAAE,8BAA8B,CAAC;AAAA,wBAA4BA,EAAE,gCAAgC,CAAC;AAAA,qBAAyBA,EAAE,iCAAiC,CAAC;AAAA,kBAAsBA,EAAE,0BAA0B,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAu6BA,EAAE,0BAA0B,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAgqBA,EAAE,0BAA0B,CAAC;AAAA;AAAA,ECGl9FzC,GAAU,CACZ,KAAM,4BACN,QAAS,SAAiBC,EAAM,CAC9B,IAAIE,EAAQF,EAAK,MACjB,MAAO,CAAC,wBAAyB,CAC/B,aAAcE,EAAM,QAC1B,CAAK,CACF,EACD,MAAO,SAAeuC,EAAO,CAC3B,IAAIxC,EAAWwC,EAAM,SACnBvC,EAAQuC,EAAM,MAChB,MAAO,CAAC,sBAAuB,CAC7B,6BAA8BvC,EAAM,OACpC,aAAcA,EAAM,SACpB,YAAaD,EAAS,QAC5B,CAAK,CACF,EACD,cAAe,+BACf,gBAAiB,iCACjB,YAAa,6BACb,IAAK,oBACL,UAAW,0BACb,EACIyC,GAAmBtC,GAAU,OAAO,CACtC,KAAM,cACN,MAAOP,GACP,QAASE,EACX,CAAC,ECrBGM,GAAW,CACb,KAAM,kBACN,QAAWsC,GACX,MAAO,CACL,aAAc,CACZ,KAAM,KACN,QAAW,QACZ,EACD,OAAQ,CACN,KAAM,QACN,QAAW,EACZ,EACD,OAAQ,CACN,KAAM,OACN,QAAW,KACZ,EACD,SAAU,CACR,KAAM,OACN,QAAW,IACZ,EACD,WAAY,CACV,KAAM,QACN,QAAW,EACZ,EACD,WAAY,CACV,KAAM,OACN,QAAW,CACZ,EACD,SAAU,CACR,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAW,MACZ,EACD,QAAS,CACP,KAAM,OACN,QAAW,IACZ,EACD,WAAY,KACZ,aAAc,IACf,EACD,MAAOD,GACP,QAAS,UAAmB,CAC1B,MAAO,CACL,eAAgB,KAChB,gBAAiB,IAClB,CACL,CACA,EAEI3B,GAAS,CACX,KAAM,cACN,QAAWV,GACX,aAAc,GACd,MAAO,CAAC,SAAU,OAAQ,MAAM,EAChC,KAAM,UAAgB,CACpB,MAAO,CACL,eAAgB,EACjB,CACF,EACD,SAAU,KACV,SAAU,KACV,qBAAsB,KACtB,0BAA2B,KAC3B,wBAAyB,KACzB,cAAe,KACf,eAAgB,KAChB,YAAa,KACb,cAAe,KACf,WAAY,KACZ,OAAQ,KACR,cAAe,KACf,YAAa,KACb,QAAS,KACT,UAAW,KACX,MAAO,CACL,WAAY,CACV,UAAW,GACX,QAAS,SAAiBkC,EAAU,CAClC,KAAK,SAAW,KAAK,MAAMA,CAAQ,EAC/B,KAAK,WAAY,KAAK,WAAa,GAAW,KAAK,SAAU,CACzE,CACA,CACG,EACD,cAAe,UAAyB,CACtC,KAAK,2BAA4B,EACjC,KAAK,oBAAqB,EAC1B,KAAK,qBAAsB,EACvB,KAAK,gBACP,KAAK,cAAc,QAAS,EAC5B,KAAK,cAAgB,MAEnB,KAAK,QAAU,KAAK,YACtBK,GAAO,MAAM,KAAK,MAAM,EAE1B,KAAK,UAAW,CACjB,EACD,QAAS,UAAmB,CAC1B,KAAK,SAAU,CAChB,EACD,QAAS,CACP,UAAW,SAAmB3B,EAAO,CACnC,IAAI4B,EAAO,KAAK,cAAc,sBAAuB,EACjDC,EAAMD,EAAK,KAAO,OAAO,aAAe,SAAS,gBAAgB,WAAa,SAAS,KAAK,WAAa,GACzGE,EAAOF,EAAK,KAAO,SAAS,KAAK,WACjCG,EAAa,KAAK,MAAM,IAAM,KAAK,IAAI,EAAG,KAAK,IAAI,KAAM/B,EAAM,OAASA,EAAM,eAAe,CAAC,EAAE,OAAS8B,CAAI,CAAC,EAAI,GAAG,EACrHE,EAAa,KAAK,MAAM,KAAO,IAAM,KAAK,IAAI,EAAG,KAAK,IAAI,KAAMhC,EAAM,OAASA,EAAM,eAAe,CAAC,EAAE,OAAS6B,CAAG,CAAC,GAAK,GAAG,EAChI,KAAK,SAAW,KAAK,YAAY,CAC/B,EAAG,KAAK,SACR,EAAGE,EACH,EAAGC,CACX,CAAO,EACD,KAAK,WAAa,GAClB,KAAK,kBAAmB,EACxB,KAAK,YAAa,EAClB,KAAK,YAAYhC,CAAK,CACvB,EACD,QAAS,SAAiBA,EAAO,CAC/B,IAAI6B,EAAM,KAAK,QAAQ,sBAAuB,EAAC,KAAO,OAAO,aAAe,SAAS,gBAAgB,WAAa,SAAS,KAAK,WAAa,GAC7I,KAAK,SAAW,KAAK,MAAM,KAAO,IAAM,KAAK,IAAI,EAAG,KAAK,IAAI,KAAM7B,EAAM,OAASA,EAAM,eAAe,CAAC,EAAE,OAAS6B,CAAG,CAAC,GAAK,GAAG,EAC/H,KAAK,SAAW,KAAK,YAAY,CAC/B,EAAG,KAAK,SACR,EAAG,IACH,EAAG,GACX,CAAO,EACD,KAAK,WAAa,GAClB,KAAK,oBAAqB,EAC1B,KAAK,UAAW,EAChB,KAAK,YAAY7B,CAAK,EACtB,KAAK,YAAa,CACnB,EACD,YAAa,SAAqBA,EAAO,CACvC,IAAIiC,EAAQ,KAAK,QACjB,OAAQ,KAAK,OAAM,CACjB,IAAK,MACHA,EAAQ,KAAK,SAAS,KAAK,QAAQ,EACnC,MACF,IAAK,MACHA,EAAQ,KAAK,SAAS,KAAK,QAAQ,EACnC,MACF,IAAK,MACHA,EAAQ,KAAK,SACb,KACV,CACM,KAAK,WAAWA,EAAOjC,CAAK,EAC5B,KAAK,MAAM,SAAU,CACnB,MAAOA,EACP,MAAOiC,CACf,CAAO,CACF,EACD,oBAAqB,UAA+B,CAClD,GAAI,KAAK,cAAe,CACtB,IAAIC,EAAW,KAAK,YAAY,CAC9B,EAAG,KAAK,SAAS,EACjB,EAAG,IACH,EAAG,GACb,CAAS,EACD,KAAK,cAAc,MAAM,gBAAkB,IAAM,KAAK,SAASA,CAAQ,CAC/E,CACK,EACD,kBAAmB,UAA6B,CAC1C,KAAK,cACP,KAAK,YAAY,MAAM,KAAO,KAAK,MAAM,IAAM,KAAK,SAAS,EAAI,GAAG,EAAI,KACxE,KAAK,YAAY,MAAM,IAAM,KAAK,MAAM,KAAO,IAAM,KAAK,SAAS,GAAK,GAAG,EAAI,KAElF,EACD,UAAW,UAAqB,CAC1B,KAAK,YACP,KAAK,UAAU,MAAM,IAAM,KAAK,MAAM,IAAM,IAAM,KAAK,SAAS,EAAI,GAAG,EAAI,KAE9E,EACD,YAAa,UAAuB,CAC9B,KAAK,MAAM,QACb,KAAK,MAAM,MAAM,MAAM,gBAAkB,IAAM,KAAK,SAAS,KAAK,QAAQ,EAE7E,EACD,SAAU,UAAoB,CAC5B,KAAK,UAAW,EAChB,KAAK,kBAAmB,EACxB,KAAK,YAAa,EAClB,KAAK,oBAAqB,CAC3B,EACD,YAAa,SAAqBC,EAAK,CACrC,MAAO,CACL,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,CACpC,CACF,EACD,YAAa,SAAqBC,EAAK,CACrC,MAAO,CACL,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,EACnC,EAAG,KAAK,IAAI,IAAK,KAAK,IAAI,EAAGA,EAAI,CAAC,CAAC,CACpC,CACF,EACD,YAAa,SAAqBC,EAAK,CACrC,IAAIC,EAAM,EAAID,EAAI,OAClB,GAAIC,EAAM,EAAG,CAEX,QADI,EAAI,CAAE,EACD1C,EAAI,EAAGA,EAAI0C,EAAK1C,IACvB,EAAE,KAAK,GAAG,EAEZ,EAAE,KAAKyC,CAAG,EACVA,EAAM,EAAE,KAAK,EAAE,CACvB,CACM,OAAOA,CACR,EACD,SAAU,SAAkBA,EAAK,CAC/B,IAAIE,EAAW,SAASF,EAAI,QAAQ,GAAG,EAAI,GAAKA,EAAI,UAAU,CAAC,EAAIA,EAAK,EAAE,EAC1E,MAAO,CACL,EAAGE,GAAY,GACf,GAAIA,EAAW,QAAa,EAC5B,EAAGA,EAAW,GACf,CACF,EACD,SAAU,SAAkBF,EAAK,CAC/B,OAAO,KAAK,SAAS,KAAK,SAASA,CAAG,CAAC,CACxC,EACD,SAAU,SAAkBD,EAAK,CAC/B,IAAID,EAAM,CACR,EAAG,EACH,EAAG,EACH,EAAG,CACJ,EACGK,EAAM,KAAK,IAAIJ,EAAI,EAAGA,EAAI,EAAGA,EAAI,CAAC,EAClCK,EAAM,KAAK,IAAIL,EAAI,EAAGA,EAAI,EAAGA,EAAI,CAAC,EAClCM,EAAQD,EAAMD,EAClB,OAAAL,EAAI,EAAIM,EACRN,EAAI,EAAIM,IAAQ,EAAI,IAAMC,EAAQD,EAAM,EACpCN,EAAI,IAAM,EACRC,EAAI,IAAMK,EACZN,EAAI,GAAKC,EAAI,EAAIA,EAAI,GAAKM,EACjBN,EAAI,IAAMK,EACnBN,EAAI,EAAI,GAAKC,EAAI,EAAIA,EAAI,GAAKM,EAE9BP,EAAI,EAAI,GAAKC,EAAI,EAAIA,EAAI,GAAKM,EAGhCP,EAAI,EAAI,GAEVA,EAAI,GAAK,GACLA,EAAI,EAAI,IACVA,EAAI,GAAK,KAEXA,EAAI,GAAK,IAAM,IACfA,EAAI,GAAK,IAAM,IACRA,CACR,EACD,SAAU,SAAkBA,EAAK,CAC/B,IAAIC,EAAM,CACR,EAAG,KACH,EAAG,KACH,EAAG,IACJ,EACGO,EAAI,KAAK,MAAMR,EAAI,CAAC,EACpBS,EAAI,KAAK,MAAMT,EAAI,EAAI,IAAM,GAAG,EAChCU,EAAI,KAAK,MAAMV,EAAI,EAAI,IAAM,GAAG,EACpC,GAAIS,IAAM,EACRR,EAAM,CACJ,EAAGS,EACH,EAAGA,EACH,EAAGA,CACJ,MACI,CACL,IAAIC,EAAKD,EACLE,GAAM,IAAMH,GAAKC,EAAI,IACrBG,GAAMF,EAAKC,IAAOJ,EAAI,IAAM,GAC5BA,IAAM,MAAKA,EAAI,GACfA,EAAI,IACNP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIW,EAAKC,GACJL,EAAI,KACbP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIU,EAAKE,GACJL,EAAI,KACbP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIW,EAAKC,GACJL,EAAI,KACbP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIU,EAAKE,GACJL,EAAI,KACbP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIW,EAAKC,GACJL,EAAI,KACbP,EAAI,EAAIU,EACRV,EAAI,EAAIW,EACRX,EAAI,EAAIU,EAAKE,IAEbZ,EAAI,EAAI,EACRA,EAAI,EAAI,EACRA,EAAI,EAAI,EAElB,CACM,MAAO,CACL,EAAG,KAAK,MAAMA,EAAI,CAAC,EACnB,EAAG,KAAK,MAAMA,EAAI,CAAC,EACnB,EAAG,KAAK,MAAMA,EAAI,CAAC,CACpB,CACF,EACD,SAAU,SAAkBA,EAAK,CAC/B,IAAIC,EAAM,CAACD,EAAI,EAAE,SAAS,EAAE,EAAGA,EAAI,EAAE,SAAS,EAAE,EAAGA,EAAI,EAAE,SAAS,EAAE,CAAC,EACrE,QAASa,KAAOZ,EACVA,EAAIY,CAAG,EAAE,SAAW,IACtBZ,EAAIY,CAAG,EAAI,IAAMZ,EAAIY,CAAG,GAG5B,OAAOZ,EAAI,KAAK,EAAE,CACnB,EACD,SAAU,SAAkBF,EAAK,CAC/B,OAAO,KAAK,SAAS,KAAK,SAASA,CAAG,CAAC,CACxC,EACD,MAAO,SAAeF,EAAO,CAC3B,IAAIE,EACJ,GAAIF,EACF,OAAQ,KAAK,OAAM,CACjB,IAAK,MACHE,EAAM,KAAK,SAASF,CAAK,EACzB,MACF,IAAK,MACHE,EAAM,KAAK,SAASF,CAAK,EACzB,MACF,IAAK,MACHE,EAAMF,EACN,KACZ,MAEQE,EAAM,KAAK,SAAS,KAAK,YAAY,EAEvC,OAAI,KAAK,UAAY,MAAQ,CAAC,KAAK,eACjC,KAAK,SAAWA,EAAI,EAEpBA,EAAI,EAAI,KAAK,SAERA,CACR,EACD,eAAgB,SAAwBe,EAAI,CAC1C,KAAK,SAAU,EACf,KAAK,aAAc,EACnB,KAAK,yBAA0B,EAC/B,KAAK,mBAAoB,EACzB,KAAK,mBAAoB,EACrB,KAAK,YACPvB,GAAO,IAAI,UAAWuB,EAAI,KAAK,WAAY,KAAK,UAAU,OAAO,OAAO,OAAO,EAEjF,KAAK,MAAM,MAAM,CAClB,EACD,eAAgB,UAA0B,CACxC,KAAK,2BAA4B,EACjC,KAAK,qBAAsB,EAC3B,KAAK,qBAAsB,EAC3B,KAAK,UAAW,EAChB,KAAK,MAAM,MAAM,CAClB,EACD,oBAAqB,SAA6BA,EAAI,CAChD,KAAK,YACPvB,GAAO,MAAMuB,CAAE,CAElB,EACD,aAAc,UAAwB,CAChC,KAAK,WAAa,OAAQC,GAAiB,KAAK,OAAQ,KAAK,MAAM,KAAK,EAAOC,GAAiB,KAAK,OAAQ,KAAK,MAAM,KAAK,CAClI,EACD,aAAc,UAAwB,CAChC,KAAK,WAGT,KAAK,eAAiB,CAAC,KAAK,eAC7B,EACD,eAAgB,SAAwBpD,EAAO,CAC7C,OAAQA,EAAM,KAAI,CAChB,IAAK,QACH,KAAK,eAAiB,CAAC,KAAK,eAC5BA,EAAM,eAAgB,EACtB,MACF,IAAK,SACL,IAAK,MACH,KAAK,eAAiB,GACtB,KACV,CACK,EACD,YAAa,SAAqBA,EAAO,CACvC,IAAIqD,EAAuBC,GAC1BD,GAAyBC,EAAkB,KAAK,WAAW,UAAY,MAAQD,IAA0B,QAAUA,EAAsB,KAAKC,CAAe,CAC/J,EACD,iBAAkB,SAA0BtD,EAAO,CAC7C,KAAK,WAGT,KAAK,kBAAmB,EACxB,KAAK,iBAAiBA,CAAK,EAC5B,EACD,iBAAkB,SAA0BA,EAAO,CAC7C,KAAK,WAGT,KAAK,cAAgB,GACrB,KAAK,UAAUA,CAAK,EACpB,KAAK,IAAI,aAAa,yBAA0B,MAAM,EACtD,CAAC,KAAK,YAAcuD,GAAS,KAAK,IAAK,wBAAwB,EAC/DvD,EAAM,eAAgB,EACvB,EACD,OAAQ,SAAgBA,EAAO,CACzB,KAAK,gBACP,KAAK,UAAUA,CAAK,EACpBA,EAAM,eAAgB,GAEpB,KAAK,cACP,KAAK,QAAQA,CAAK,EAClBA,EAAM,eAAgB,EAEzB,EACD,UAAW,UAAqB,CAC9B,KAAK,cAAgB,GACrB,KAAK,YAAc,GACnB,KAAK,IAAI,aAAa,yBAA0B,OAAO,EACvD,CAAC,KAAK,YAAcwD,GAAY,KAAK,IAAK,wBAAwB,EAClE,KAAK,oBAAqB,CAC3B,EACD,eAAgB,SAAwBxD,EAAO,CACzC,KAAK,WAGT,KAAK,kBAAmB,EACxB,KAAK,eAAeA,CAAK,EAC1B,EACD,eAAgB,SAAwBA,EAAO,CACzC,KAAK,WAGT,KAAK,YAAc,GACnB,KAAK,QAAQA,CAAK,EAClB,CAAC,KAAK,YAAcuD,GAAS,KAAK,IAAK,wBAAwB,EAChE,EACD,eAAgB,SAAwBvD,EAAO,CAC7C,OAAO,KAAK,MAAM,OAAS,KAAK,MAAM,MAAM,WAAWA,EAAM,MAAM,CACpE,EACD,kBAAmB,UAA6B,CAC9C,KAAK,8BAA+B,EACpC,KAAK,4BAA6B,CACnC,EACD,oBAAqB,UAA+B,CAClD,KAAK,gCAAiC,EACtC,KAAK,8BAA+B,CACrC,EACD,yBAA0B,UAAoC,CAC5D,IAAID,EAAQ,KACP,KAAK,uBACR,KAAK,qBAAuB,SAAUC,EAAO,CACvCD,EAAM,gBAAkBA,EAAM,QAAU,CAACA,EAAM,OAAO,SAASC,EAAM,MAAM,GAAK,CAACD,EAAM,eAAeC,CAAK,IAC7GD,EAAM,eAAiB,GAE1B,EACD,SAAS,iBAAiB,QAAS,KAAK,qBAAsB,EAAI,EAErE,EACD,2BAA4B,UAAsC,CAC5D,KAAK,uBACP,SAAS,oBAAoB,QAAS,KAAK,qBAAsB,EAAI,EACrE,KAAK,qBAAuB,KAE/B,EACD,mBAAoB,UAA8B,CAChD,IAAI0D,EAAS,KACR,KAAK,gBACR,KAAK,cAAgB,IAAIC,GAA8B,KAAK,MAAM,UAAW,UAAY,CACnFD,EAAO,iBACTA,EAAO,eAAiB,GAEpC,CAAS,GAEH,KAAK,cAAc,mBAAoB,CACxC,EACD,qBAAsB,UAAgC,CAChD,KAAK,eACP,KAAK,cAAc,qBAAsB,CAE5C,EACD,mBAAoB,UAA8B,CAChD,IAAIE,EAAS,KACR,KAAK,iBACR,KAAK,eAAiB,UAAY,CAC5BA,EAAO,gBAAkB,CAACC,OAC5BD,EAAO,eAAiB,GAE3B,EACD,OAAO,iBAAiB,SAAU,KAAK,cAAc,EAExD,EACD,qBAAsB,UAAgC,CAChD,KAAK,iBACP,OAAO,oBAAoB,SAAU,KAAK,cAAc,EACxD,KAAK,eAAiB,KAEzB,EACD,8BAA+B,UAAyC,CACjE,KAAK,4BACR,KAAK,0BAA4B,KAAK,OAAO,KAAK,IAAI,EACtD,SAAS,iBAAiB,YAAa,KAAK,yBAAyB,EAExE,EACD,gCAAiC,UAA2C,CACtE,KAAK,4BACP,SAAS,oBAAoB,YAAa,KAAK,yBAAyB,EACxE,KAAK,0BAA4B,KAEpC,EACD,4BAA6B,UAAuC,CAC7D,KAAK,0BACR,KAAK,wBAA0B,KAAK,UAAU,KAAK,IAAI,EACvD,SAAS,iBAAiB,UAAW,KAAK,uBAAuB,EAEpE,EACD,8BAA+B,UAAyC,CAClE,KAAK,0BACP,SAAS,oBAAoB,UAAW,KAAK,uBAAuB,EACpE,KAAK,wBAA0B,KAElC,EACD,UAAW,SAAmBT,EAAI,CAChC,KAAK,OAASA,CACf,EACD,iBAAkB,SAA0BA,EAAI,CAC9C,KAAK,cAAgBA,CACtB,EACD,eAAgB,SAAwBA,EAAI,CAC1C,KAAK,YAAcA,CACpB,EACD,WAAY,SAAoBA,EAAI,CAClC,KAAK,QAAUA,CAChB,EACD,aAAc,SAAsBA,EAAI,CACtC,KAAK,UAAYA,CAClB,EACD,UAAW,UAAqB,CAC9B,KAAK,OAAS,KACd,KAAK,cAAgB,KACrB,KAAK,YAAc,KACnB,KAAK,QAAU,KACf,KAAK,UAAY,IAClB,EACD,eAAgB,SAAwBlD,EAAO,CAC7C6D,GAAgB,KAAK,gBAAiB,CACpC,cAAe7D,EACf,OAAQ,KAAK,GACrB,CAAO,CACP,CACG,EACD,WAAY,CACV,OAAQ8D,EACZ,CACA,EAEA,SAASxE,GAAQC,EAAG,CAAE,0BAA2B,OAAOD,GAAwB,OAAO,QAArB,YAA2C,OAAO,OAAO,UAA1B,SAAqC,SAAUC,EAAG,CAAE,OAAO,OAAOA,GAAO,SAAUA,EAAG,CAAE,OAAOA,GAAmB,OAAO,QAArB,YAA+BA,EAAE,cAAgB,QAAUA,IAAM,OAAO,UAAY,SAAW,OAAOA,CAAE,EAAID,GAAQC,CAAC,CAAE,CAC5T,SAASwE,GAAQlF,EAAGY,EAAG,CAAE,IAAIC,EAAI,OAAO,KAAKb,CAAC,EAAG,GAAI,OAAO,sBAAuB,CAAE,IAAI,EAAI,OAAO,sBAAsBA,CAAC,EAAGY,IAAM,EAAI,EAAE,OAAO,SAAUA,EAAG,CAAE,OAAO,OAAO,yBAAyBZ,EAAGY,CAAC,EAAE,UAAa,CAAA,GAAIC,EAAE,KAAK,MAAMA,EAAG,CAAC,EAAK,OAAOA,CAAE,CAC7P,SAASsE,GAAcnF,EAAG,CAAE,QAASY,EAAI,EAAGA,EAAI,UAAU,OAAQA,IAAK,CAAE,IAAIC,EAAY,UAAUD,CAAC,GAAnB,KAAuB,UAAUA,CAAC,EAAI,CAAA,EAAIA,EAAI,EAAIsE,GAAQ,OAAOrE,CAAC,EAAG,EAAI,EAAE,QAAQ,SAAUD,EAAG,CAAED,GAAgBX,EAAGY,EAAGC,EAAED,CAAC,CAAC,CAAI,CAAA,EAAI,OAAO,0BAA4B,OAAO,iBAAiBZ,EAAG,OAAO,0BAA0Ba,CAAC,CAAC,EAAIqE,GAAQ,OAAOrE,CAAC,CAAC,EAAE,QAAQ,SAAUD,EAAG,CAAE,OAAO,eAAeZ,EAAGY,EAAG,OAAO,yBAAyBC,EAAGD,CAAC,CAAC,CAAI,CAAA,CAAE,CAAG,OAAOZ,CAAE,CACvb,SAASW,GAAgBX,EAAGY,EAAGC,EAAG,CAAE,OAAQD,EAAIE,GAAeF,CAAC,KAAMZ,EAAI,OAAO,eAAeA,EAAGY,EAAG,CAAE,MAAOC,EAAG,WAAY,GAAM,aAAc,GAAM,SAAU,EAAI,CAAE,EAAIb,EAAEY,CAAC,EAAIC,EAAGb,CAAE,CACxL,SAASc,GAAe,EAAG,CAAE,IAAIC,EAAIC,GAAa,EAAG,QAAQ,EAAG,OAAmBP,GAAQM,CAAC,GAArB,SAAyBA,EAAIA,EAAI,EAAG,CAC3G,SAASC,GAAa,EAAGJ,EAAG,CAAE,GAAgBH,GAAQ,CAAC,GAArB,UAA0B,CAAC,EAAG,OAAO,EAAG,IAAIT,EAAI,EAAE,OAAO,WAAW,EAAG,GAAeA,IAAX,OAAc,CAAE,IAAIe,EAAIf,EAAE,KAAK,EAAGY,CAAC,EAAG,GAAgBH,GAAQM,CAAC,GAArB,SAAwB,OAAOA,EAAG,MAAM,IAAI,UAAU,8CAA8C,CAAE,CAAG,OAAqBH,IAAb,SAAiB,OAAS,QAAQ,CAAC,CAAE,CAC7S,IAAIU,GAAa,CAAC,KAAM,WAAY,UAAU,EAC9C,SAASC,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAC7D,IAAIuD,EAAoBC,GAAiB,QAAQ,EACjD,OAAOvD,EAAW,EAAEC,EAAmB,MAAOX,EAAW,CACvD,IAAK,YACL,MAASI,EAAK,GAAG,MAAM,CACxB,EAAEA,EAAK,KAAK,MAAM,CAAC,EAAG,CAAEA,EAAK,OAkBoB8D,EAAmB,GAAI,EAAI,GAlBrCxD,EAAW,EAAEC,EAAmB,QAASX,EAAW,CAC1F,IAAK,EACL,IAAK,QACL,GAAII,EAAK,QACT,KAAM,OACN,MAASA,EAAK,GAAG,SAAS,EAC1B,SAAU,GACV,SAAUA,EAAK,SACf,SAAUA,EAAK,SACf,QAASC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC7C,OAAOI,EAAS,cAAgBA,EAAS,aAAa,MAAMA,EAAU,SAAS,CACrF,GACI,UAAWJ,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC/C,OAAOI,EAAS,gBAAkBA,EAAS,eAAe,MAAMA,EAAU,SAAS,CACzF,GACI,OAAQJ,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC5C,OAAOI,EAAS,aAAeA,EAAS,YAAY,MAAMA,EAAU,SAAS,CAC9E,EACF,EAAEL,EAAK,IAAI,SAAS,CAAC,EAAG,KAAM,GAAIF,EAAU,GAAmCiE,EAAYH,EAAmB,CAC7G,SAAU5D,EAAK,SACf,SAAUA,EAAK,MACnB,EAAK,CACD,QAAWgE,EAAQ,UAAY,CAC7B,MAAO,CAACD,EAAYE,GAAYrE,EAAW,CACzC,KAAM,sBACN,QAASS,EAAS,eAClB,QAASA,EAAS,eAClB,aAAcA,EAAS,mBACxB,EAAEL,EAAK,IAAI,YAAY,CAAC,EAAG,CAC1B,QAAWgE,EAAQ,UAAY,CAC7B,MAAO,CAAEhE,EAAK,QAAgBI,EAAM,gBAAmBE,EAAW,EAAEC,EAAmB,MAAOX,EAAW,CACvG,IAAK,EACL,IAAKS,EAAS,UACd,MAAS,CAACL,EAAK,GAAG,OAAO,EAAGA,EAAK,WAAYA,EAAK,YAAY,EAC9D,QAASC,EAAO,EAAE,IAAMA,EAAO,EAAE,EAAI,UAAY,CAC/C,OAAOI,EAAS,gBAAkBA,EAAS,eAAe,MAAMA,EAAU,SAAS,CACpF,EACb,EAAasD,GAAcA,GAAc,CAAA,EAAI3D,EAAK,IAAI,OAAO,CAAC,EAAGA,EAAK,IAAI,SAAS,CAAC,CAAC,EAAG,CAACkE,EAAmB,MAAOtE,EAAW,CAClH,MAASI,EAAK,GAAG,SAAS,CACtC,EAAaA,EAAK,IAAI,SAAS,CAAC,EAAG,CAACkE,EAAmB,MAAOtE,EAAW,CAC7D,IAAKS,EAAS,iBACd,MAASL,EAAK,GAAG,eAAe,EAChC,YAAaC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACvD,OAAO9D,EAAS,iBAAiB8D,CAAM,CACrD,GACY,aAAclE,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACxD,OAAO9D,EAAS,iBAAiB8D,CAAM,CACrD,GACY,YAAalE,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACvD,OAAO9D,EAAS,OAAO8D,CAAM,CAC3C,GACY,WAAYlE,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACtD,OAAO9D,EAAS,UAAW,CAC5B,EACb,EAAaL,EAAK,IAAI,eAAe,CAAC,EAAG,CAACkE,EAAmB,MAAOtE,EAAW,CACnE,MAASI,EAAK,GAAG,iBAAiB,CAC9C,EAAaA,EAAK,IAAI,iBAAiB,CAAC,EAAG,CAACkE,EAAmB,MAAOtE,EAAW,CACrE,IAAKS,EAAS,eACd,MAASL,EAAK,GAAG,aAAa,CAC/B,EAAEA,EAAK,IAAI,aAAa,CAAC,EAAG,KAAM,EAAE,CAAC,EAAG,EAAE,CAAC,EAAG,EAAE,EAAGkE,EAAmB,MAAOtE,EAAW,CACvF,IAAKS,EAAS,WACd,MAASL,EAAK,GAAG,KAAK,EACtB,YAAaC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACvD,OAAO9D,EAAS,eAAe8D,CAAM,CACnD,GACY,aAAclE,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACxD,OAAO9D,EAAS,eAAe8D,CAAM,CACnD,GACY,YAAalE,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACvD,OAAO9D,EAAS,OAAO8D,CAAM,CAC3C,GACY,WAAYlE,EAAO,EAAE,IAAMA,EAAO,EAAE,EAAI,SAAUkE,EAAQ,CACxD,OAAO9D,EAAS,UAAW,CAC5B,EACb,EAAaL,EAAK,IAAI,KAAK,CAAC,EAAG,CAACkE,EAAmB,MAAOtE,EAAW,CACzD,IAAKS,EAAS,aACd,MAASL,EAAK,GAAG,WAAW,CACxC,EAAaA,EAAK,IAAI,WAAW,CAAC,EAAG,KAAM,EAAE,CAAC,EAAG,EAAE,CAAC,EAAG,EAAE,CAAC,EAAG,EAAE,GAAK8D,EAAmB,GAAI,EAAI,CAAC,CAChG,CAAS,EACD,EAAG,CACJ,EAAE,GAAI,CAAC,UAAW,UAAW,cAAc,CAAC,CAAC,CACpD,CAAK,EACD,EAAG,CACP,EAAK,EAAG,CAAC,WAAY,UAAU,CAAC,CAAC,EAAG,EAAE,CACtC,CAEArE,GAAO,OAASM,GCtpBT,SAASqE,IAAc,CAC5B,MAAO,IAAI,KAAK,MAAM,KAAK,SAAW,QAAQ,EAC3C,SAAS,EAAE,EACX,SAAS,EAAG,GAAG,CAAC,EACrB,0VCAA,MAAMxF,EAAQ4B,EAKRC,EAAOC,EAEP2D,EAAYzD,EAAIwD,IAAa,EAC7BE,EAAWC,EAAS,CACxB,IAAK,IAAMF,EAAU,MACrB,IAAMG,GAAQ,CAEV,CAACA,EAAI,WAAW,GAAG,IAClBA,EAAI,SAAW,GAAKA,EAAI,SAAW,IACpC,iBAAiB,KAAKA,CAAG,IAEzBA,EAAM,IAAIA,CAAG,IAEfH,EAAU,MAAQG,CAAA,CACpB,CACD,EACKC,EAAY7D,EAAqB8D,GAAU,IAAI,EAC/CC,EAAsB/D,EAAuB,OAAO,KAAK8D,EAAS,CAAsB,EACxF/D,EAAwBC,EAAI,EAAE,EAC9BgE,EAAYhE,EAAI,EAAK,EACrBiE,EAASjE,EAAI,EAAE,EACfkE,EAAoBlE,EAAI,CAAC,EAE/B,SAASmE,GAAW,CAClBT,EAAS,MAAQF,GAAY,CAAA,CAGzB,MAAAY,EAAoBT,EAA0B,IAAM,CACxD,GAAIK,EAAU,OAAS,CAACjE,EAAsB,MAC5C,MAAO,CAAC,EAEV,MAAM6D,EAAuB,CAC3B,MAAOF,EAAS,MAChB,KAAMG,EAAU,KAClB,EACA,OAAII,EAAO,OAASJ,EAAU,QAAUC,GAAU,OAChDF,EAAI,QAAUK,EAAO,OAEnBJ,EAAU,OAASC,GAAU,UAC/BF,EAAI,kBAAoBM,EAAkB,OAErC,CACL,CAACnE,EAAsB,KAAK,EAAG6D,CACjC,CAAA,CACD,EAED,SAAS3D,GAAgB,CAClBJ,EAAA,oBAAqBuE,EAAkB,KAAK,CAAA,CAGnD,OAAAhE,EACE,IAAMpC,EAAM,WACZ,IAAM,CAGA,GAFJ,CAAC+B,EAAsB,KAAK,EAAI,OAAO,KAAK/B,EAAM,UAAU,EAC5DgG,EAAU,MAAQ,GACdjE,EAAsB,OAAS/B,EAAM,WAAY,CACnD,MAAMqG,EAAKrG,EAAM,WAAW+B,EAAsB,KAAK,EAC9C2D,EAAA,MAAQW,EAAG,OAASb,GAAY,EAC/BK,EAAA,MAAQQ,EAAG,MAAQP,GAAU,KAChCG,EAAA,MAAQI,EAAG,SAAW,EAAA,CAEjC,EACA,CACE,UAAW,EAAA,CAEf,EAEAC,GACE,CAACZ,EAAUG,EAAWI,EAAQC,CAAiB,EAC/C,IAAM,CACUjE,EAAA,CAChB,EACA,CACE,SAAU,GAAA,CAEd,2/CCpFA,IAAItC,GAAM,CAAC,CAAC,GAAGW,CAAC,IAAI;AAAA;AAAA,kBAAmCA,EAAE,oBAAoB,CAAC;AAAA,aAAiBA,EAAE,eAAe,CAAC;AAAA,wBAA4BA,EAAE,sBAAsB,CAAC;AAAA,qBAAyBA,EAAE,uBAAuB,CAAC;AAAA,6BAAiCA,EAAE,6BAA6B,CAAC,WAAWA,EAAE,6BAA6B,CAAC,kBAAkBA,EAAE,6BAA6B,CAAC;AAAA,yBAA6BA,EAAE,6BAA6B,CAAC,mBAAmBA,EAAE,6BAA6B,CAAC;AAAA;AAAA,kBAAuDA,EAAE,gBAAgB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAqEA,EAAE,6BAA6B,CAAC;AAAA,aAAiBA,EAAE,wBAAwB,CAAC;AAAA;AAAA;AAAA;AAAA,aAAiEA,EAAE,wBAAwB,CAAC;AAAA;AAAA;AAAA;AAAA,oBAAqDA,EAAE,8BAA8B,CAAC;AAAA;AAAA;AAAA;AAAA,eAA6CA,EAAE,6BAA6B,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA0LA,EAAE,sBAAsB,CAAC;AAAA;AAAA;AAAA;AAAA,WAAsFA,EAAE,kBAAkB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAiKA,EAAE,wBAAwB,CAAC;AAAA;AAAA,qBAA8CA,EAAE,8BAA8B,CAAC;AAAA,aAAiBA,EAAE,sBAAsB,CAAC;AAAA,6BAAiCA,EAAE,6BAA6B,CAAC,WAAWA,EAAE,6BAA6B,CAAC,kBAAkBA,EAAE,6BAA6B,CAAC;AAAA,yBAA6BA,EAAE,6BAA6B,CAAC,mBAAmBA,EAAE,6BAA6B,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAyFA,EAAE,mCAAmC,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAqGA,EAAE,oCAAoC,CAAC;AAAA,aAAiBA,EAAE,+BAA+B,CAAC;AAAA;AAAA;AAAA;AAAA,kBAA8GA,EAAE,0CAA0C,CAAC;AAAA,aAAiBA,EAAE,qCAAqC,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAqIA,EAAE,iCAAiC,CAAC;AAAA,aAAiBA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA;AAAA,kBAAmIA,EAAE,iCAAiC,CAAC;AAAA,aAAiBA,EAAE,4BAA4B,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA4KA,EAAE,gCAAgC,CAAC;AAAA,yBAA6BA,EAAE,8BAA8B,CAAC;AAAA,aAAiBA,EAAE,yBAAyB,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA,eAAmEA,EAAE,8BAA8B,CAAC;AAAA,aAAiBA,EAAE,4BAA4B,CAAC;AAAA,kBAAsBA,EAAE,iCAAiC,CAAC;AAAA,mBAAuBA,EAAE,kCAAkC,CAAC;AAAA;AAAA;AAAA;AAAA,eAAoDA,EAAE,+BAA+B,CAAC;AAAA;AAAA,ECG15GT,GAAU,CACZ,KAAM,SAAcC,EAAM,CACxB,IAAIC,EAAWD,EAAK,SAClBE,EAAQF,EAAK,MACf,MAAO,CAAC,wBAAyB,CAC/B,oBAAqBE,EAAM,QAC3B,aAAcA,EAAM,SACpB,YAAaD,EAAS,QAC5B,CAAK,CACF,EACD,OAAQ,mBACR,SAAU,mBACV,cAAe,2BACf,KAAM,iBACN,YAAa,yBACb,OAAQ,SAAgBwC,EAAO,CAC7B,IAAIxC,EAAWwC,EAAM,SACnBvC,EAAQuC,EAAM,MACdgE,EAAUhE,EAAM,OAChBiE,EAAQjE,EAAM,MACdkE,EAAiBlE,EAAM,eACzB,MAAO,CAAC,mBAAoB,CAC1B,4BAA6BxC,EAAS,WAAWwG,CAAO,GAAKvG,EAAM,kBACnE,UAAWD,EAAS,qBAAuBA,EAAS,eAAeyG,EAAOC,CAAc,EACxF,aAAc1G,EAAS,iBAAiBwG,CAAO,CACrD,CAAK,CACF,EACD,gBAAiB,8BACjB,gBAAiB,8BACjB,aAAc,yBAChB,EACIG,GAAexG,GAAU,OAAO,CAClC,KAAM,UACN,MAAOP,GACP,QAASE,EACX,CAAC,ECtBGM,GAAW,CACb,KAAM,cACN,QAAWsC,GACX,MAAO,CACL,QAAS,MACT,YAAa,KACb,YAAa,KACb,eAAgB,KAChB,iBAAkB,KAClB,oBAAqB,KACrB,UAAW,KACX,aAAc,CACZ,KAAM,OACN,QAAW,OACZ,EACD,QAAS,KACT,SAAU,CACR,KAAM,QACN,QAAW,EACZ,EACD,iBAAkB,CAChB,KAAM,QACN,QAAW,EACZ,EACD,OAAQ,QACR,kBAAmB,OACnB,aAAc,OACd,gBAAiB,CACf,KAAM,OACN,QAAW,UACZ,EACD,aAAc,CACZ,KAAM,MACN,QAAW,IACZ,EACD,uBAAwB,CACtB,KAAM,OACN,QAAW,IACZ,EACD,gBAAiB,CACf,KAAM,QACN,QAAW,EACZ,EACD,cAAe,CACb,KAAM,QACN,QAAW,EACZ,EACD,aAAc,CACZ,KAAM,QACN,QAAW,EACZ,EACD,kBAAmB,CACjB,KAAM,QACN,QAAW,EACZ,EACD,UAAW,CACT,KAAM,QACN,QAAW,EACZ,EACD,cAAe,CACb,KAAM,OACN,QAAW,IACZ,EACD,iBAAkB,CAChB,KAAM,OACN,QAAW,IACZ,EACD,sBAAuB,CACrB,KAAM,OACN,QAAW,IACZ,EACD,mBAAoB,CAClB,KAAM,OACN,QAAW,IACZ,EACD,aAAc,CACZ,KAAM,OACN,QAAW,IACZ,EACD,WAAY,CACV,KAAM,OACN,QAAW,MACZ,EACD,QAAS,CACP,KAAM,QACN,QAAW,EACZ,EACD,SAAU,CACR,KAAM,OACN,QAAW,CACZ,EACD,UAAW,CACT,KAAM,OACN,QAAW,IACZ,EACD,eAAgB,CACd,KAAM,OACN,QAAW,IACjB,CACG,EACD,MAAOiE,GACP,QAAS,UAAmB,CAC1B,MAAO,CACL,WAAY,KACZ,gBAAiB,IAClB,CACL,CACA,EAEA,SAASC,GAAmBnG,EAAG,CAAE,OAAOoG,GAAmBpG,CAAC,GAAKqG,GAAiBrG,CAAC,GAAKsG,GAA4BtG,CAAC,GAAKuG,GAAkB,CAAG,CAC/I,SAASA,IAAqB,CAAE,MAAM,IAAI,UAAU;AAAA,mFAAsI,CAAE,CAC5L,SAASD,GAA4BtG,EAAGwG,EAAG,CAAE,GAAIxG,EAAG,CAAE,GAAgB,OAAOA,GAAnB,SAAsB,OAAOyG,GAAkBzG,EAAGwG,CAAC,EAAG,IAAIvG,EAAI,GAAG,SAAS,KAAKD,CAAC,EAAE,MAAM,EAAG,EAAE,EAAG,OAAoBC,IAAb,UAAkBD,EAAE,cAAgBC,EAAID,EAAE,YAAY,MAAiBC,IAAV,OAAyBA,IAAV,MAAc,MAAM,KAAKD,CAAC,EAAoBC,IAAhB,aAAqB,2CAA2C,KAAKA,CAAC,EAAIwG,GAAkBzG,EAAGwG,CAAC,EAAI,MAAS,CAAA,CACxX,SAASH,GAAiBrG,EAAG,CAAE,GAAmB,OAAO,OAAtB,KAAwCA,EAAE,OAAO,QAAQ,GAAzB,MAAsCA,EAAE,YAAY,GAAtB,KAAyB,OAAO,MAAM,KAAKA,CAAC,CAAE,CAC/I,SAASoG,GAAmBpG,EAAG,CAAE,GAAI,MAAM,QAAQA,CAAC,EAAG,OAAOyG,GAAkBzG,CAAC,CAAE,CACnF,SAASyG,GAAkBzG,EAAGwG,EAAG,EAAWA,GAAR,MAAaA,EAAIxG,EAAE,UAAYwG,EAAIxG,EAAE,QAAS,QAASZ,EAAI,EAAG0C,EAAI,MAAM0E,CAAC,EAAGpH,EAAIoH,EAAGpH,IAAK0C,EAAE1C,CAAC,EAAIY,EAAEZ,CAAC,EAAG,OAAO0C,CAAE,CAClJ,IAAIzB,GAAS,CACX,KAAM,UACN,QAAWV,GACX,aAAc,GACd,MAAO,CAAC,SAAU,QAAS,OAAQ,SAAU,gBAAiB,iBAAiB,EAC/E,KAAM,KACN,gBAAiB,KACjB,cAAe,GACf,gBAAiB,GACjB,cAAe,KACf,YAAa,GACb,KAAM,UAAgB,CACpB,MAAO,CACL,YAAa,KACb,QAAS,GACT,mBAAoB,EACrB,CACF,EACD,MAAO,CACL,QAAS,UAAmB,CAC1B,KAAK,gBAAiB,CAC5B,CACG,EACD,QAAS,UAAmB,CAC1B,KAAK,gBAAiB,CACvB,EACD,QAAS,CACP,eAAgB,SAAwBqG,EAAOU,EAAI,CACjD,OAAO,KAAK,wBAA0BV,EAAQU,GAAMA,EAAGV,CAAK,EAAE,KAC/D,EACD,eAAgB,SAAwBW,EAAQ,CAC9C,OAAO,KAAK,YAAcC,GAAiBD,EAAQ,KAAK,WAAW,EAAI,OAAOA,GAAW,SAAWA,EAAS,IAC9G,EACD,eAAgB,SAAwBA,EAAQ,CAC9C,OAAO,KAAK,YAAcC,GAAiBD,EAAQ,KAAK,WAAW,EAAIA,CACxE,EACD,mBAAoB,SAA4BA,EAAQX,EAAO,CAC7D,OAAQ,KAAK,QAAUY,GAAiBD,EAAQ,KAAK,OAAO,EAAI,KAAK,eAAeA,CAAM,GAAK,IAAMX,CACtG,EACD,aAAc,SAAsBW,EAAQE,EAAab,EAAOxC,EAAK,CACnE,OAAO,KAAK,IAAIA,EAAK,CACnB,QAAS,CACP,SAAU,KAAK,WAAWmD,CAAM,EAChC,QAAS,KAAK,qBAAuB,KAAK,eAAeX,EAAOa,CAAW,EAC3E,SAAU,KAAK,iBAAiBF,CAAM,CAChD,CACA,CAAO,CACF,EACD,iBAAkB,SAA0BA,EAAQ,CAClD,OAAO,KAAK,eAAiBC,GAAiBD,EAAQ,KAAK,cAAc,EAAI,EAC9E,EACD,cAAe,SAAuBA,EAAQ,CAC5C,OAAO,KAAK,kBAAoBA,EAAO,aAAeA,EAAO,KAC9D,EACD,oBAAqB,SAA6BG,EAAa,CAC7D,OAAOF,GAAiBE,EAAa,KAAK,gBAAgB,CAC3D,EACD,uBAAwB,SAAgCA,EAAa,CACnE,OAAOF,GAAiBE,EAAa,KAAK,mBAAmB,CAC9D,EACD,gBAAiB,SAAyBd,EAAO,CAC/C,IAAI1F,EAAQ,KACZ,OAAQ,KAAK,iBAAmB0F,EAAQ,KAAK,eAAe,MAAM,EAAGA,CAAK,EAAE,OAAO,SAAUW,EAAQ,CACnG,OAAOrG,EAAM,cAAcqG,CAAM,CACzC,CAAO,EAAE,OAASX,GAAS,CACtB,EACD,mBAAoB,UAA8B,CAChDe,GAAM,KAAK,IAAI,EACf,IAAIC,EAAmBC,GAAyB,KAAK,IAAK,wCAAwC,EAClG,KAAK,MAAM,2BAA2B,SAAWC,GAAUF,CAAgB,EAAI,OAAY,GAC3F,KAAK,MAAM,4BAA4B,SAAW,EACnD,EACD,kBAAmB,SAA2BzG,EAAO,CACnD,IAAI4G,EAAgB5G,EAAM,cAC1B,GAAI4G,IAAkB,KAAK,KAAM,CAC/B,IAAIH,EAAmBC,GAAyB,KAAK,IAAK,wCAAwC,EAClGF,GAAMC,CAAgB,EACtB,KAAK,MAAM,4BAA4B,SAAW,MAC1D,MACQD,GAAM,KAAK,MAAM,2BAA2B,EAE9C,KAAK,MAAM,2BAA2B,SAAW,EAClD,EACD,WAAY,SAAoBxG,EAAO,CACjC,CAAC,KAAK,IAAI,SAASA,EAAM,aAAa,GAAK,KAAK,MAAM,4BAA8B,KAAK,MAAM,8BACjG,KAAK,MAAM,2BAA2B,SAAW,KAAK,MAAM,4BAA4B,SAAW,OAEtG,EACD,YAAa,SAAqBA,EAAO,CACvC,KAAK,QAAU,GACf,KAAK,mBAAqB,KAAK,qBAAuB,GAAK,KAAK,mBAAqB,KAAK,gBAAkB,KAAK,4BAA2B,EAAK,KAAK,wBAAyB,EAC/K,KAAK,gBAAiB,EACtB,KAAK,MAAM,QAASA,CAAK,CAC1B,EACD,WAAY,SAAoBA,EAAO,CACrC,KAAK,QAAU,GACf,KAAK,mBAAqB,KAAK,gBAAkB,GACjD,KAAK,YAAc,GACnB,KAAK,MAAM,OAAQA,CAAK,CACzB,EACD,cAAe,SAAuBA,EAAO,CAC3C,IAAIyD,EAAS,KACToD,EAAU7G,EAAM,SAAWA,EAAM,QACrC,OAAQA,EAAM,KAAI,CAChB,IAAK,YACH,KAAK,eAAeA,CAAK,EACzB,MACF,IAAK,UACH,KAAK,aAAaA,CAAK,EACvB,MACF,IAAK,OACH,KAAK,UAAUA,CAAK,EACpB,MACF,IAAK,MACH,KAAK,SAASA,CAAK,EACnB,MACF,IAAK,WACH,KAAK,cAAcA,CAAK,EACxB,MACF,IAAK,SACH,KAAK,YAAYA,CAAK,EACtB,MACF,IAAK,QACL,IAAK,cACL,IAAK,QACH,KAAK,WAAWA,CAAK,EACrB,MACF,IAAK,MAEH,MACF,IAAK,YACL,IAAK,aACH,KAAK,WAAWA,CAAK,EACrB,MACF,QACE,GAAI,KAAK,UAAYA,EAAM,OAAS,QAAU6G,EAAS,CACrD,IAAI5E,EAAQ,KAAK,eAAe,OAAO,SAAUmE,EAAQ,CACvD,OAAO3C,EAAO,cAAc2C,CAAM,CAChD,CAAa,EAAE,IAAI,SAAUA,EAAQ,CACvB,OAAO3C,EAAO,eAAe2C,CAAM,CACjD,CAAa,EACD,KAAK,YAAYpG,EAAOiC,CAAK,EAC7BjC,EAAM,eAAgB,EACtB,KACZ,CACc,CAAC6G,GAAWC,GAAqB9G,EAAM,GAAG,IAC5C,KAAK,cAAcA,EAAOA,EAAM,GAAG,EACnCA,EAAM,eAAgB,GAExB,KACV,CACK,EACD,eAAgB,SAAwBA,EAAOoG,EAAQ,CACrD,IAAIX,EAAQ,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC5E,KAAK,UAAY,KAAK,iBAAiBW,CAAM,IAGjD,KAAK,SAAW,KAAK,uBAAuBpG,EAAOoG,CAAM,EAAI,KAAK,qBAAqBpG,EAAOoG,CAAM,EACpG,KAAK,cAAgB,GACrBX,IAAU,KAAO,KAAK,mBAAqBA,GAC5C,EACD,kBAAmB,SAA2BzF,EAAOyF,EAAO,CAC1D,KAAK,yBAAyBzF,EAAOyF,CAAK,CAC3C,EACD,kBAAmB,SAA2BzF,EAAOyF,EAAO,CACtD,KAAK,cAAgB,KAAK,SAC5B,KAAK,yBAAyBzF,EAAOyF,CAAK,CAE7C,EACD,iBAAkB,UAA4B,CACxC,KAAK,WAGT,KAAK,cAAgB,GACtB,EACD,iBAAkB,SAA0BzF,EAAO+G,EAAM,CACvD,KAAK,MAAM,gBAAiB,CAC1B,cAAe/G,EACf,MAAO+G,CACf,CAAO,EACD,KAAK,MAAM,kBAAmB,CAC5B,cAAe/G,EACf,MAAO+G,CACf,CAAO,CACF,EACD,qBAAsB,SAA8B/G,EAAOoG,EAAQ,CACjE,IAAIY,EAAW,KAAK,WAAWZ,CAAM,EACjCa,EAAe,GACfhF,EAAQ,KACRiF,EAAgB,KAAK,cAAgB,GAAQ,KAAK,iBACtD,GAAIA,EAAe,CACjB,IAAIL,EAAU7G,IAAUA,EAAM,SAAWA,EAAM,SAC3CgH,EACEH,IACF5E,EAAQ,KACRgF,EAAe,KAGjBhF,EAAQ,KAAK,eAAemE,CAAM,EAClCa,EAAe,GAEzB,MACQhF,EAAQ+E,EAAW,KAAO,KAAK,eAAeZ,CAAM,EACpDa,EAAe,GAEbA,GACF,KAAK,YAAYjH,EAAOiC,CAAK,CAEhC,EACD,uBAAwB,SAAgCjC,EAAOoG,EAAQ,CACrE,IAAIY,EAAW,KAAK,WAAWZ,CAAM,EACjCnE,EAAQ,KACRiF,EAAgB,KAAK,cAAgB,GAAQ,KAAK,iBACtD,GAAIA,EAAe,CACjB,IAAIL,EAAU7G,EAAM,SAAWA,EAAM,QACjCgH,EACF/E,EAAQ4E,EAAU,KAAK,aAAaT,CAAM,EAAI,CAAC,KAAK,eAAeA,CAAM,CAAC,GAE1EnE,EAAQ4E,EAAU,KAAK,SAAW,CAAE,EAAG,CAAE,EACzC5E,EAAQ,CAAA,EAAG,OAAO2D,GAAmB3D,CAAK,EAAG,CAAC,KAAK,eAAemE,CAAM,CAAC,CAAC,EAEpF,MACQnE,EAAQ+E,EAAW,KAAK,aAAaZ,CAAM,EAAI,CAAE,EAAC,OAAOR,GAAmB,KAAK,SAAW,CAAA,CAAE,EAAG,CAAC,KAAK,eAAeQ,CAAM,CAAC,CAAC,EAEhI,KAAK,YAAYpG,EAAOiC,CAAK,CAC9B,EACD,oBAAqB,SAA6BjC,EAAO,CACvD,IAAI2D,EAAS,KACTwD,EAAQ,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC5EC,EAAM,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAG9E,GAFAD,IAAU,KAAOA,EAAQ,KAAK,+BAA+BC,EAAK,EAAI,GACtEA,IAAQ,KAAOA,EAAM,KAAK,+BAA+BD,CAAK,GAC1DA,IAAU,IAAMC,IAAQ,GAAI,CAC9B,IAAIC,EAAa,KAAK,IAAIF,EAAOC,CAAG,EAChCE,EAAW,KAAK,IAAIH,EAAOC,CAAG,EAC9BnF,EAAQ,KAAK,eAAe,MAAMoF,EAAYC,EAAW,CAAC,EAAE,OAAO,SAAUlB,EAAQ,CACvF,OAAOzC,EAAO,cAAcyC,CAAM,CAC5C,CAAS,EAAE,IAAI,SAAUA,EAAQ,CACvB,OAAOzC,EAAO,eAAeyC,CAAM,CAC7C,CAAS,EACD,KAAK,YAAYpG,EAAOiC,CAAK,CACrC,CACK,EACD,eAAgB,SAAwBjC,EAAO,CAC7C,KAAK,MAAM,SAAU,CACnB,cAAeA,EACf,MAAOA,EAAM,OAAO,MACpB,YAAa,KAAK,cAC1B,CAAO,EACD,KAAK,mBAAqB,KAAK,gBAAkB,EAClD,EACD,aAAc,UAAwB,CACpC,KAAK,mBAAqB,KAAK,gBAAkB,EAClD,EACD,gBAAiB,SAAyBA,EAAO,CAC/C,OAAQA,EAAM,KAAI,CAChB,IAAK,YACH,KAAK,eAAeA,CAAK,EACzB,MACF,IAAK,UACH,KAAK,aAAaA,CAAK,EACvB,MACF,IAAK,YACL,IAAK,aACH,KAAK,eAAeA,EAAO,EAAI,EAC/B,MACF,IAAK,OACH,KAAK,UAAUA,EAAO,EAAI,EAC1B,MACF,IAAK,MACH,KAAK,SAASA,EAAO,EAAI,EACzB,MACF,IAAK,QACL,IAAK,cACH,KAAK,WAAWA,CAAK,EACrB,MACF,IAAK,YACL,IAAK,aACH,KAAK,WAAWA,CAAK,EACrB,KACV,CACK,EACD,eAAgB,SAAwBA,EAAO,CAC7C,IAAIuH,EAAc,KAAK,qBAAuB,GAAK,KAAK,oBAAoB,KAAK,kBAAkB,EAAI,KAAK,4BAA6B,EACrI,KAAK,UAAYvH,EAAM,UACzB,KAAK,oBAAoBA,EAAO,KAAK,gBAAiBuH,CAAW,EAEnE,KAAK,yBAAyBvH,EAAOuH,CAAW,EAChDvH,EAAM,eAAgB,CACvB,EACD,aAAc,SAAsBA,EAAO,CACzC,IAAIuH,EAAc,KAAK,qBAAuB,GAAK,KAAK,oBAAoB,KAAK,kBAAkB,EAAI,KAAK,2BAA4B,EACpI,KAAK,UAAYvH,EAAM,UACzB,KAAK,oBAAoBA,EAAOuH,EAAa,KAAK,eAAe,EAEnE,KAAK,yBAAyBvH,EAAOuH,CAAW,EAChDvH,EAAM,eAAgB,CACvB,EACD,eAAgB,SAAwBA,EAAO,CAC7C,IAAIwH,EAAqB,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC7FA,IAAuB,KAAK,mBAAqB,GAClD,EACD,UAAW,SAAmBxH,EAAO,CACnC,IAAIwH,EAAqB,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC7F,GAAIA,EAAoB,CACtB,IAAIC,EAASzH,EAAM,cACfA,EAAM,SACRyH,EAAO,kBAAkB,EAAGzH,EAAM,OAAO,cAAc,GAEvDyH,EAAO,kBAAkB,EAAG,CAAC,EAC7B,KAAK,mBAAqB,GAEpC,KAAa,CACL,IAAIZ,EAAU7G,EAAM,SAAWA,EAAM,QACjCuH,EAAc,KAAK,qBAAsB,EACzC,KAAK,UAAYvH,EAAM,UAAY6G,GACrC,KAAK,oBAAoB7G,EAAOuH,EAAa,KAAK,eAAe,EAEnE,KAAK,yBAAyBvH,EAAOuH,CAAW,CACxD,CACMvH,EAAM,eAAgB,CACvB,EACD,SAAU,SAAkBA,EAAO,CACjC,IAAIwH,EAAqB,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC7F,GAAIA,EAAoB,CACtB,IAAIC,EAASzH,EAAM,cACnB,GAAIA,EAAM,SACRyH,EAAO,kBAAkBzH,EAAM,OAAO,eAAgByH,EAAO,MAAM,MAAM,MACpE,CACL,IAAInF,EAAMmF,EAAO,MAAM,OACvBA,EAAO,kBAAkBnF,EAAKA,CAAG,EACjC,KAAK,mBAAqB,EACpC,CACA,KAAa,CACL,IAAIuE,EAAU7G,EAAM,SAAWA,EAAM,QACjCuH,EAAc,KAAK,oBAAqB,EACxC,KAAK,UAAYvH,EAAM,UAAY6G,GACrC,KAAK,oBAAoB7G,EAAO,KAAK,gBAAiBuH,CAAW,EAEnE,KAAK,yBAAyBvH,EAAOuH,CAAW,CACxD,CACMvH,EAAM,eAAgB,CACvB,EACD,YAAa,SAAqBA,EAAO,CACvC,KAAK,aAAa,CAAC,EACnBA,EAAM,eAAgB,CACvB,EACD,cAAe,SAAuBA,EAAO,CAC3C,KAAK,aAAa,KAAK,eAAe,OAAS,CAAC,EAChDA,EAAM,eAAgB,CACvB,EACD,WAAY,SAAoBA,EAAO,CACjC,KAAK,qBAAuB,KAC1B,KAAK,UAAYA,EAAM,SAAU,KAAK,oBAAoBA,EAAO,KAAK,kBAAkB,EAAO,KAAK,eAAeA,EAAO,KAAK,eAAe,KAAK,kBAAkB,CAAC,EAE7K,EACD,WAAY,SAAoBA,EAAO,CACrCA,EAAM,eAAgB,EACtB,KAAK,WAAWA,CAAK,CACtB,EACD,WAAY,UAAsB,CAChC,KAAK,gBAAkB,KAAK,kBAC7B,EACD,gBAAiB,SAAyBoG,EAAQ,CAChD,IAAIsB,EACJ,OAAO,KAAK,cAActB,CAAM,GAAK,OAAO,KAAK,eAAeA,CAAM,GAAM,YAAcsB,EAAuB,KAAK,eAAetB,CAAM,KAAO,MAAQsB,IAAyB,OAAS,OAASA,EAAqB,kBAAkB,KAAK,YAAY,EAAE,WAAW,KAAK,YAAY,kBAAkB,KAAK,YAAY,CAAC,EAChU,EACD,cAAe,SAAuBtB,EAAQ,CAC5C,OAAOuB,GAAWvB,CAAM,GAAK,EAAE,KAAK,iBAAiBA,CAAM,GAAK,KAAK,cAAcA,CAAM,EAC1F,EACD,sBAAuB,SAA+BA,EAAQ,CAC5D,OAAO,KAAK,cAAcA,CAAM,GAAK,KAAK,WAAWA,CAAM,CAC5D,EACD,SAAU,SAAkBwB,EAAQC,EAAQ,CAC1C,OAAOC,GAAOF,EAAQC,EAAQ,KAAK,WAAW,CAC/C,EACD,WAAY,SAAoBzB,EAAQ,CACtC,IAAI2B,EAAS,KACTC,EAAc,KAAK,eAAe5B,CAAM,EAC5C,OAAI,KAAK,UAAkB,KAAK,SAAW,CAAE,GAAE,KAAK,SAAUnE,EAAO,CACnE,OAAO8F,EAAO,SAAS9F,EAAO+F,CAAW,CACjD,CAAO,EAAc,KAAK,SAAS,KAAK,QAASA,CAAW,CACvD,EACD,qBAAsB,UAAgC,CACpD,IAAIC,EAAS,KACb,OAAO,KAAK,eAAe,UAAU,SAAU7B,EAAQ,CACrD,OAAO6B,EAAO,cAAc7B,CAAM,CAC1C,CAAO,CACF,EACD,oBAAqB,UAA+B,CAClD,IAAI8B,EAAS,KACb,OAAOC,GAAc,KAAK,eAAgB,SAAU/B,EAAQ,CAC1D,OAAO8B,EAAO,cAAc9B,CAAM,CAC1C,CAAO,CACF,EACD,oBAAqB,SAA6BX,EAAO,CACvD,IAAI2C,EAAS,KACTC,EAAqB5C,EAAQ,KAAK,eAAe,OAAS,EAAI,KAAK,eAAe,MAAMA,EAAQ,CAAC,EAAE,UAAU,SAAUW,EAAQ,CACjI,OAAOgC,EAAO,cAAchC,CAAM,CACnC,CAAA,EAAI,GACL,OAAOiC,EAAqB,GAAKA,EAAqB5C,EAAQ,EAAIA,CACnE,EACD,oBAAqB,SAA6BA,EAAO,CACvD,IAAI6C,EAAS,KACTD,EAAqB5C,EAAQ,EAAI0C,GAAc,KAAK,eAAe,MAAM,EAAG1C,CAAK,EAAG,SAAUW,EAAQ,CACxG,OAAOkC,EAAO,cAAclC,CAAM,CACnC,CAAA,EAAI,GACL,OAAOiC,EAAqB,GAAKA,EAAqB5C,CACvD,EACD,wBAAyB,UAAmC,CAC1D,IAAI8C,EAAS,KACb,GAAI,KAAK,QACP,GAAI,KAAK,UAWP,QAVIC,EAAQ,UAAiB,CACzB,IAAIvG,EAAQsG,EAAO,QAAQ9C,CAAK,EAC5B4C,EAAqBE,EAAO,eAAe,UAAU,SAAUnC,EAAQ,CACzE,OAAOmC,EAAO,sBAAsBnC,CAAM,GAAKmC,EAAO,SAAStG,EAAOsG,EAAO,eAAenC,CAAM,CAAC,CACnH,CAAe,EACD,GAAIiC,EAAqB,GAAI,MAAO,CAClC,EAAGA,CACJ,CACF,EACDI,EACOhD,EAAQ,KAAK,QAAQ,OAAS,EAAGA,GAAS,EAAGA,IAEpD,GADAgD,EAAOD,EAAO,EACVC,EAAM,OAAOA,EAAK,MAGxB,QAAO,KAAK,eAAe,UAAU,SAAUrC,EAAQ,CACrD,OAAOmC,EAAO,sBAAsBnC,CAAM,CACtD,CAAW,EAGL,MAAO,EACR,EACD,6BAA8B,UAAwC,CACpE,IAAIsC,EAAU,KACd,OAAO,KAAK,QAAU,KAAK,eAAe,UAAU,SAAUtC,EAAQ,CACpE,OAAOsC,EAAQ,sBAAsBtC,CAAM,CAC5C,CAAA,EAAI,EACN,EACD,4BAA6B,UAAuC,CAClE,IAAIuC,EAAU,KACd,OAAO,KAAK,QAAUR,GAAc,KAAK,eAAgB,SAAU/B,EAAQ,CACzE,OAAOuC,EAAQ,sBAAsBvC,CAAM,CAC5C,CAAA,EAAI,EACN,EACD,4BAA6B,SAAqCX,EAAO,CACvE,IAAImD,EAAU,KACVP,EAAqB,KAAK,SAAW5C,EAAQ,KAAK,eAAe,OAAS,EAAI,KAAK,eAAe,MAAMA,EAAQ,CAAC,EAAE,UAAU,SAAUW,EAAQ,CACjJ,OAAOwC,EAAQ,sBAAsBxC,CAAM,CAC5C,CAAA,EAAI,GACL,OAAOiC,EAAqB,GAAKA,EAAqB5C,EAAQ,EAAI,EACnE,EACD,4BAA6B,SAAqCA,EAAO,CACvE,IAAIoD,EAAU,KACVR,EAAqB,KAAK,SAAW5C,EAAQ,EAAI0C,GAAc,KAAK,eAAe,MAAM,EAAG1C,CAAK,EAAG,SAAUW,EAAQ,CACxH,OAAOyC,EAAQ,sBAAsBzC,CAAM,CAC5C,CAAA,EAAI,GACL,OAAOiC,EAAqB,GAAKA,EAAqB,EACvD,EACD,+BAAgC,SAAwC5C,EAAO,CAC7E,IAAIqD,EAAe,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GACnFT,EAAqB,GACzB,OAAI,KAAK,UACHS,GACFT,EAAqB,KAAK,4BAA4B5C,CAAK,EAC3D4C,EAAqBA,IAAuB,GAAK,KAAK,4BAA4B5C,CAAK,EAAI4C,IAE3FA,EAAqB,KAAK,4BAA4B5C,CAAK,EAC3D4C,EAAqBA,IAAuB,GAAK,KAAK,4BAA4B5C,CAAK,EAAI4C,IAGxFA,EAAqB,GAAKA,EAAqB5C,CACvD,EACD,4BAA6B,UAAuC,CAClE,IAAIsD,EAAgB,KAAK,6BAA8B,EACvD,OAAOA,EAAgB,EAAI,KAAK,qBAAsB,EAAGA,CAC1D,EACD,2BAA4B,UAAsC,CAChE,IAAIA,EAAgB,KAAK,4BAA6B,EACtD,OAAOA,EAAgB,EAAI,KAAK,oBAAqB,EAAGA,CACzD,EACD,cAAe,SAAuB/I,EAAOgJ,EAAO,CAClD,IAAIC,EAAU,KACd,KAAK,aAAe,KAAK,aAAe,IAAMD,EAC9C,IAAIzB,EAAc,GACdI,GAAW,KAAK,WAAW,IACzB,KAAK,qBAAuB,IAC9BJ,EAAc,KAAK,eAAe,MAAM,KAAK,kBAAkB,EAAE,UAAU,SAAUnB,EAAQ,CAC3F,OAAO6C,EAAQ,gBAAgB7C,CAAM,CACjD,CAAW,EACDmB,EAAcA,IAAgB,GAAK,KAAK,eAAe,MAAM,EAAG,KAAK,kBAAkB,EAAE,UAAU,SAAUnB,EAAQ,CACnH,OAAO6C,EAAQ,gBAAgB7C,CAAM,CACjD,CAAW,EAAImB,EAAc,KAAK,oBAExBA,EAAc,KAAK,eAAe,UAAU,SAAUnB,EAAQ,CAC5D,OAAO6C,EAAQ,gBAAgB7C,CAAM,CACjD,CAAW,EAECmB,IAAgB,IAAM,KAAK,qBAAuB,KACpDA,EAAc,KAAK,4BAA6B,GAE9CA,IAAgB,IAClB,KAAK,yBAAyBvH,EAAOuH,CAAW,GAGhD,KAAK,eACP,aAAa,KAAK,aAAa,EAEjC,KAAK,cAAgB,WAAW,UAAY,CAC1C0B,EAAQ,YAAc,GACtBA,EAAQ,cAAgB,IACzB,EAAE,GAAG,CACP,EACD,aAAc,SAAsB7C,EAAQ,CAC1C,IAAI8C,EAAU,KACd,OAAO,KAAK,QAAQ,OAAO,SAAUrE,EAAK,CACxC,MAAO,CAACiD,GAAOjD,EAAKqE,EAAQ,eAAe9C,CAAM,EAAG8C,EAAQ,WAAW,CAC/E,CAAO,CACF,EACD,yBAA0B,SAAkClJ,EAAOyF,EAAO,CACpE,KAAK,qBAAuBA,IAC9B,KAAK,mBAAqBA,EAC1B,KAAK,aAAc,EACf,KAAK,eAAiB,CAAC,KAAK,UAC9B,KAAK,eAAezF,EAAO,KAAK,eAAeyF,CAAK,CAAC,EAG1D,EACD,aAAc,UAAwB,CACpC,IAAI0D,EAAU,KACV1D,EAAQ,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAChF,KAAK,UAAU,UAAY,CACzB,IAAI2D,EAAK3D,IAAU,GAAK,GAAG,OAAO0D,EAAQ,IAAK,GAAG,EAAE,OAAO1D,CAAK,EAAI0D,EAAQ,gBACxEE,EAAUC,GAAWH,EAAQ,KAAM,UAAW,OAAOC,EAAI,IAAK,CAAC,EAC/DC,EACFA,EAAQ,gBAAkBA,EAAQ,eAAe,CAC/C,MAAO,UACP,OAAQ,UACR,SAAU,QACtB,CAAW,EACSF,EAAQ,yBAClBA,EAAQ,iBAAmBA,EAAQ,gBAAgB,cAAc1D,IAAU,GAAKA,EAAQ0D,EAAQ,kBAAkB,CAE5H,CAAO,CACF,EACD,gBAAiB,UAA2B,CACtC,KAAK,eAAiB,KAAK,iBAAmB,CAAC,KAAK,SAAW,CAAC,KAAK,UAAY,KAAK,UACxF,KAAK,mBAAqB,KAAK,4BAA6B,EAC5D,KAAK,eAAe,KAAM,KAAK,eAAe,KAAK,kBAAkB,CAAC,EAEzE,EACD,YAAa,SAAqBnJ,EAAOiC,EAAO,CAC9C,KAAK,WAAWA,EAAOjC,CAAK,EAC5B,KAAK,MAAM,SAAU,CACnB,cAAeA,EACf,MAAOiC,CACf,CAAO,CACF,EACD,QAAS,SAAiBiB,EAAIqG,EAAY,CACxC,KAAK,KAAOrG,EACZqG,GAAcA,EAAWrG,CAAE,CAC5B,EACD,mBAAoB,SAA4BA,EAAI,CAClD,KAAK,gBAAkBA,CAC7B,CACG,EACD,SAAU,CACR,gBAAiB,UAA2B,CAC1C,OAAO,KAAK,YAAcsG,GAAc,OAAO,KAAK,QAAS,KAAK,aAAc,KAAK,YAAa,KAAK,gBAAiB,KAAK,YAAY,EAAI,KAAK,OACnJ,EACD,iBAAkB,UAA4B,CAC5C,IAAIC,EAAU,KACVC,EAAkB,CAAE,EACxB,OAAC,KAAK,SAAW,CAAE,GAAE,QAAQ,SAAUnD,EAAa,CAClD,IAAIoD,EAAsBF,EAAQ,uBAAuBlD,CAAW,GAAK,CAAE,EACvEqD,EAAmBH,EAAQ,YAAcD,GAAc,OAAOG,EAAqBF,EAAQ,aAAcA,EAAQ,YAAaA,EAAQ,gBAAiBA,EAAQ,YAAY,EAAIE,EAC/KC,GAAqB,MAAuCA,EAAiB,QAC/EF,EAAgB,KAAK,MAAMA,EAAiB,CAAC,CAC3C,YAAanD,EACb,MAAO,EACR,CAAA,EAAE,OAAOX,GAAmBgE,CAAgB,CAAC,CAAC,CAEzD,CAAO,EACMF,CACR,EACD,eAAgB,UAA0B,CACxC,OAAO,KAAK,iBAAmB,KAAK,iBAAmB,KAAK,eAC7D,EAED,kBAAmB,UAA6B,CAC9C,OAAO/B,GAAW,KAAK,OAAO,CAC/B,EACD,YAAa,UAAuB,CAClC,OAAO,KAAK,YAAc,KAAO,KAAK,OACvC,EACD,aAAc,UAAwB,CACpC,OAAO,KAAK,cAAgB,CAAC,KAAK,WAAW,CAC9C,EACD,wBAAyB,UAAmC,CAC1D,OAAOA,GAAW,KAAK,cAAc,EAAI,KAAK,kBAAkB,WAAW,MAAO,KAAK,eAAe,MAAM,EAAI,KAAK,sBACtH,EACD,kBAAmB,UAA6B,CAC9C,OAAO,KAAK,eAAiB,KAAK,UAAU,OAAO,OAAO,eAAiB,EAC5E,EACD,uBAAwB,UAAkC,CACxD,OAAO,KAAK,oBAAsB,KAAK,UAAU,OAAO,OAAO,oBAAsB,KAAK,UAAU,OAAO,OAAO,oBAAsB,EACzI,EACD,iBAAkB,UAA4B,CAC5C,OAAO,KAAK,cAAgB,KAAK,UAAU,OAAO,OAAO,cAAgB,EAC1E,EACD,qBAAsB,UAAgC,CACpD,OAAO,KAAK,kBAAoB,KAAK,UAAU,OAAO,OAAO,kBAAoB,EAClF,EACD,0BAA2B,UAAqC,CAC9D,OAAO,KAAK,uBAAyB,KAAK,UAAU,OAAO,OAAO,uBAAyB,EAC5F,EACD,oBAAqB,UAA+B,CAClD,OAAO,KAAK,QAAU,KAAK,qBAAqB,WAAW,MAAO,KAAK,SAAW,KAAK,QAAQ,OAAS,GAAG,EAAI,KAAK,yBACrH,EACD,gBAAiB,UAA2B,CAC1C,OAAO,KAAK,qBAAuB,GAAK,GAAG,OAAO,KAAK,IAAK,GAAG,EAAE,OAAO,KAAK,kBAAkB,EAAI,IACpG,EACD,YAAa,UAAuB,CAClC,IAAIkC,EAAU,KACd,OAAO,KAAK,eAAe,OAAO,SAAUzD,EAAQ,CAClD,MAAO,CAACyD,EAAQ,cAAczD,CAAM,CACrC,CAAA,EAAE,MACJ,EACD,wBAAyB,UAAmC,CAC1D,MAAO,CAAC,KAAK,sBACd,EACD,eAAgB,UAA0B,CACxC,OAAOlG,GAAG,CACR,QAAS,KAAK,SACd,SAAU,KAAK,QACvB,CAAO,CACP,CACG,EACD,WAAY,CACV,OAAQ4J,EACT,EACD,WAAY,CACV,UAAWC,GACX,gBAAiBC,GACjB,UAAWC,GACX,UAAWC,GACX,WAAYC,GACZ,UAAWC,GACX,UAAWC,EACf,CACA,EAEIlK,GAAa,CAAC,KAAM,QAAQ,EAC5BmK,GAAa,CAAC,UAAU,EACxBC,GAAa,CAAC,KAAM,uBAAwB,aAAc,kBAAmB,wBAAyB,eAAe,EACrHC,GAAa,CAAC,IAAI,EAClBC,GAAa,CAAC,KAAM,aAAc,gBAAiB,gBAAiB,eAAgB,gBAAiB,UAAW,cAAe,cAAe,aAAc,kBAAmB,iBAAkB,iBAAiB,EAClNC,GAAa,CAAC,UAAU,EAC5B,SAAStK,GAAOC,EAAMC,EAAQC,EAAQC,EAAQC,EAAOC,EAAU,CAC7D,IAAIiK,EAAuBzG,GAAiB,WAAW,EACnD0G,EAAwB1G,GAAiB,YAAY,EACrD2G,EAAuB3G,GAAiB,WAAW,EACnD4G,EAAuB5G,GAAiB,WAAW,EACnD6G,EAAuB7G,GAAiB,WAAW,EACnD8G,EAAuB9G,GAAiB,WAAW,EACnD+G,EAA6B/G,GAAiB,iBAAiB,EAC/DgH,EAAoBC,GAAiB,QAAQ,EACjD,OAAOxK,EAAW,EAAEC,EAAmB,MAAOX,EAAW,CACvD,GAAII,EAAK,IACT,MAASA,EAAK,GAAG,MAAM,EACvB,WAAYC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAChD,OAAOI,EAAS,YAAcA,EAAS,WAAW,MAAMA,EAAU,SAAS,CACjF,GACI,SAAUA,EAAS,cACvB,EAAKL,EAAK,KAAK,MAAM,CAAC,EAAG,CAACkE,EAAmB,OAAQtE,EAAW,CAC5D,IAAK,8BACL,KAAM,eACN,cAAe,OACf,MAAS,yCACT,SAAWI,EAAK,SAA2B,GAAhBA,EAAK,SAChC,QAASC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC7C,OAAOI,EAAS,oBAAsBA,EAAS,mBAAmB,MAAMA,EAAU,SAAS,CAC5F,EACL,EAAKL,EAAK,IAAI,wBAAwB,EAAG,CACrC,2BAA4B,GAC5B,0BAA2B,EAC5B,CAAA,EAAG,KAAM,GAAIiK,EAAU,EAAGjK,EAAK,OAAO,QAAUM,IAAaC,EAAmB,MAAO,CACtF,IAAK,EACL,MAASwK,GAAe/K,EAAK,GAAG,QAAQ,CAAC,CAC1C,EAAE,CAACgL,GAAWhL,EAAK,OAAQ,SAAU,CACpC,MAAOA,EAAK,QACZ,QAASK,EAAS,cACnB,CAAA,CAAC,EAAG,CAAC,GAAKyD,EAAmB,GAAI,EAAI,EAAG9D,EAAK,QAAUM,EAAS,EAAIC,EAAmB,MAAOX,EAAW,CACxG,IAAK,EACL,MAASI,EAAK,GAAG,QAAQ,CAC7B,EAAKA,EAAK,IAAI,QAAQ,CAAC,EAAG,CAAC+D,EAAY0G,EAAsB,CACzD,SAAUzK,EAAK,SACf,GAAIA,EAAK,IAAI,mBAAmB,CACpC,EAAK,CACD,QAAWgE,EAAQ,UAAY,CAC7B,MAAO,CAACD,EAAYuG,EAAsB,CACxC,WAAYlK,EAAM,YAClB,sBAAuBH,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACjE,OAAO/D,EAAM,YAAc+D,CACrC,GACQ,KAAM,OACN,MAAS4G,GAAe/K,EAAK,GAAG,UAAU,CAAC,EAC3C,YAAaA,EAAK,kBAClB,KAAM,YACN,aAAc,MACd,SAAUA,EAAK,SACf,SAAUA,EAAK,SACf,YAAaA,EAAK,IAAM,QACxB,wBAAyBK,EAAS,gBAClC,SAAU,CAACL,EAAK,UAAY,CAACI,EAAM,QAAUJ,EAAK,SAAW,GAC7D,QAASK,EAAS,eAClB,OAAQA,EAAS,aACjB,UAAWA,EAAS,gBACpB,GAAIL,EAAK,IAAI,UAAU,CAC/B,EAAS,KAAM,EAAG,CAAC,aAAc,QAAS,cAAe,WAAY,WAAY,YAAa,wBAAyB,WAAY,UAAW,SAAU,YAAa,IAAI,CAAC,EAAG+D,EAAYyG,EAAsB,CACvM,SAAUxK,EAAK,SACf,GAAIA,EAAK,IAAI,uBAAuB,CAC5C,EAAS,CACD,QAAWgE,EAAQ,UAAY,CAC7B,MAAO,CAACgH,GAAWhL,EAAK,OAAQ,aAAc,CAAE,EAAE,UAAY,CAC5D,MAAO,CAACA,EAAK,YAAcM,EAAW,EAAEC,EAAmB,OAAQX,EAAW,CAC5E,IAAK,EACL,MAASI,EAAK,UACf,EAAEA,EAAK,IAAI,YAAY,CAAC,EAAG,KAAM,EAAE,IAAMM,EAAW,EAAE2K,EAAYV,EAAuBW,GAAetL,EAAW,CAClH,IAAK,CACnB,EAAeI,EAAK,IAAI,YAAY,CAAC,CAAC,EAAG,KAAM,EAAE,EAAE,CACnD,CAAW,CAAC,CACZ,CAAS,EACD,EAAG,CACJ,EAAE,EAAG,CAAC,WAAY,IAAI,CAAC,CAAC,CAC/B,CAAK,EACD,EAAG,CACP,EAAK,EAAG,CAAC,WAAY,IAAI,CAAC,EAAGkE,EAAmB,OAAQtE,EAAW,CAC/D,KAAM,SACN,YAAa,SACb,MAAS,qBACb,EAAKI,EAAK,IAAI,oBAAoB,EAAG,CACjC,2BAA4B,EAChC,CAAG,EAAGmL,EAAgB9K,EAAS,uBAAuB,EAAG,EAAE,CAAC,EAAG,EAAE,GAAKyD,EAAmB,GAAI,EAAI,EAAGI,EAAmB,MAAOtE,EAAW,CACrI,MAASI,EAAK,GAAG,eAAe,EAChC,MAAO,CAAC,CACN,aAAcK,EAAS,wBAA0BL,EAAK,aAAe,EACtE,EAAEA,EAAK,SAAS,CACrB,EAAKA,EAAK,IAAI,eAAe,CAAC,EAAG,CAAC+D,EAAY6G,EAA4BhL,EAAW,CACjF,IAAKS,EAAS,kBAClB,EAAKL,EAAK,uBAAwB,CAC9B,MAAOK,EAAS,eAChB,MAAO,CAAC,CACN,OAAQL,EAAK,YACnB,EAAOA,EAAK,SAAS,EACjB,SAAU,GACV,SAAUK,EAAS,wBACnB,GAAIL,EAAK,IAAI,iBAAiB,CAC/B,CAAA,EAAGoL,GAAY,CACd,QAASpH,EAAQ,SAAUtF,EAAM,CAC/B,IAAI2M,EAAa3M,EAAK,WACpBwK,EAAaxK,EAAK,WAClB4M,EAAQ5M,EAAK,MACb2G,EAAiB3G,EAAK,eACtB6M,EAAe7M,EAAK,aACpB8M,EAAW9M,EAAK,SAClB,MAAO,CAACwF,EAAmB,KAAMtE,EAAW,CAC1C,IAAK,SAAaiD,EAAI,CACpB,OAAOxC,EAAS,QAAQwC,EAAIqG,CAAU,CACvC,EACD,GAAIlJ,EAAK,IAAM,QACf,MAAS,CAACA,EAAK,GAAG,MAAM,EAAGqL,CAAU,EACrC,MAAOE,EACP,SAAU,GACV,KAAM,UACN,uBAAwBvL,EAAK,SAC7B,aAAcA,EAAK,UACnB,kBAAmBA,EAAK,eACxB,wBAAyBI,EAAM,QAAUC,EAAS,gBAAkB,OACpE,gBAAiBL,EAAK,SACtB,QAASC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC7C,OAAOI,EAAS,aAAeA,EAAS,YAAY,MAAMA,EAAU,SAAS,CACvF,GACQ,OAAQJ,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC5C,OAAOI,EAAS,YAAcA,EAAS,WAAW,MAAMA,EAAU,SAAS,CACrF,GACQ,UAAWJ,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC/C,OAAOI,EAAS,eAAiBA,EAAS,cAAc,MAAMA,EAAU,SAAS,CAClF,EACT,EAASL,EAAK,IAAI,MAAM,CAAC,EAAG,EAAEM,EAAU,EAAI,EAAGC,EAAmBkL,GAAU,KAAMC,GAAWJ,EAAO,SAAUvF,EAAQxG,EAAG,CACjH,OAAOe,EAAS,EAAIC,EAAmBkL,GAAU,CAC/C,IAAKpL,EAAS,mBAAmB0F,EAAQ1F,EAAS,eAAed,EAAG8F,CAAc,CAAC,CAC7F,EAAW,CAAChF,EAAS,cAAc0F,CAAM,GAAKzF,IAAaC,EAAmB,KAAMX,EAAW,CACrF,IAAK,EACL,GAAII,EAAK,IAAM,IAAMK,EAAS,eAAed,EAAG8F,CAAc,EAC9D,MAAO,CACL,OAAQmG,EAAWA,EAAW,KAAO,MACtC,EACD,MAASxL,EAAK,GAAG,aAAa,EAC9B,KAAM,SACN,QAAS,EACnB,EAAWA,EAAK,IAAI,aAAa,CAAC,EAAG,CAACgL,GAAWhL,EAAK,OAAQ,cAAe,CACnE,OAAQ+F,EAAO,YACf,MAAO1F,EAAS,eAAed,EAAG8F,CAAc,CAC1D,EAAW,UAAY,CACb,MAAO,CAACsG,EAAgBR,EAAgB9K,EAAS,oBAAoB0F,EAAO,WAAW,CAAC,EAAG,CAAC,CAAC,CACvG,CAAS,CAAC,EAAG,GAAIoE,EAAU,GAAKyB,IAAgBtL,IAAaC,EAAmB,KAAMX,EAAW,CACvF,IAAK,EACL,GAAII,EAAK,IAAM,IAAMK,EAAS,eAAed,EAAG8F,CAAc,EAC9D,MAAO,CACL,OAAQmG,EAAWA,EAAW,KAAO,MACtC,EACD,MAASxL,EAAK,GAAG,SAAU,CACzB,OAAQ+F,EACR,MAAOxG,EACP,eAAgB8F,CAC5B,CAAW,EACD,KAAM,SACN,aAAchF,EAAS,eAAe0F,CAAM,EAC5C,gBAAiB1F,EAAS,WAAW0F,CAAM,EAC3C,gBAAiB1F,EAAS,iBAAiB0F,CAAM,EACjD,eAAgB1F,EAAS,YACzB,gBAAiBA,EAAS,gBAAgBA,EAAS,eAAed,EAAG8F,CAAc,CAAC,EACpF,QAAS,SAAiBlB,EAAQ,CAChC,OAAO9D,EAAS,eAAe8D,EAAQ4B,EAAQ1F,EAAS,eAAed,EAAG8F,CAAc,CAAC,CAC1F,EACD,YAAa,SAAqBlB,EAAQ,CACxC,OAAO9D,EAAS,kBAAkB8D,EAAQ9D,EAAS,eAAed,EAAG8F,CAAc,CAAC,CACrF,EACD,YAAa,SAAqBlB,EAAQ,CACxC,OAAO9D,EAAS,kBAAkB8D,EAAQ9D,EAAS,eAAed,EAAG8F,CAAc,CAAC,CACrF,EACD,WAAYpF,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,SAAUkE,EAAQ,CACtD,OAAO9D,EAAS,iBAAkB,CAC9C,GACU,WAAY,SAAoB8D,EAAQ,CACtC,OAAO9D,EAAS,iBAAiB8D,EAAQ4B,CAAM,CAChD,EACD,QAAS,EACnB,EAAW1F,EAAS,aAAa0F,EAAQV,EAAgB9F,EAAG,QAAQ,EAAG,CAC7D,kBAAmB,CAACS,EAAK,WAAaK,EAAS,WAAW0F,CAAM,EAChE,iBAAkB3F,EAAM,qBAAuBC,EAAS,eAAed,EAAG8F,CAAc,EACxF,kBAAmBhF,EAAS,iBAAiB0F,CAAM,CAC7D,CAAS,EAAG,CAAC/F,EAAK,WAAaM,EAAW,EAAEC,EAAmBkL,GAAU,CAC/D,IAAK,CACf,EAAW,CAACpL,EAAS,WAAW0F,CAAM,GAAKzF,IAAa2K,EAAYP,EAAsB9K,EAAW,CAC3F,IAAK,EACL,MAASI,EAAK,GAAG,iBAAiB,EAClC,QAAS,EACV,EAAEA,EAAK,IAAI,iBAAiB,CAAC,EAAG,KAAM,GAAI,CAAC,OAAO,CAAC,IAAMM,EAAS,EAAI2K,EAAYN,EAAsB/K,EAAW,CAClH,IAAK,EACL,MAASI,EAAK,GAAG,iBAAiB,EAClC,QAAS,EACnB,EAAWA,EAAK,IAAI,iBAAiB,CAAC,EAAG,KAAM,GAAI,CAAC,OAAO,CAAC,EAAE,EAAG,EAAE,GAAK8D,EAAmB,GAAI,EAAI,EAAGkH,GAAWhL,EAAK,OAAQ,SAAU,CAC9H,OAAQ+F,EACR,SAAU1F,EAAS,WAAW0F,CAAM,EACpC,MAAO1F,EAAS,eAAed,EAAG8F,CAAc,CAC1D,EAAW,UAAY,CACb,MAAO,CAACsG,EAAgBR,EAAgB9K,EAAS,eAAe0F,CAAM,CAAC,EAAG,CAAC,CAAC,CACtF,CAAS,CAAC,EAAG,GAAIqE,EAAU,GAAI,CAAC,CAACS,CAAiB,CAAC,CAAC,CAAC,EAAG,EAAE,CAC1D,CAAO,EAAG,GAAG,GAAIzK,EAAM,cAAgB,CAACkL,GAASA,GAASA,EAAM,SAAW,IAAMhL,EAAW,EAAEC,EAAmB,KAAMX,EAAW,CAC1H,IAAK,EACL,MAASI,EAAK,GAAG,cAAc,EAC/B,KAAM,QACP,EAAEA,EAAK,IAAI,cAAc,CAAC,EAAG,CAACgL,GAAWhL,EAAK,OAAQ,cAAe,CAAA,EAAI,UAAY,CACpF,MAAO,CAAC2L,EAAgBR,EAAgB9K,EAAS,sBAAsB,EAAG,CAAC,CAAC,CACpF,CAAO,CAAC,EAAG,EAAE,GAAK,CAACL,EAAK,SAAWA,EAAK,SAAWA,EAAK,QAAQ,SAAW,GAAKM,EAAW,EAAEC,EAAmB,KAAMX,EAAW,CACzH,IAAK,EACL,MAASI,EAAK,GAAG,cAAc,EAC/B,KAAM,QACP,EAAEA,EAAK,IAAI,cAAc,CAAC,EAAG,CAACgL,GAAWhL,EAAK,OAAQ,QAAS,CAAA,EAAI,UAAY,CAC9E,MAAO,CAAC2L,EAAgBR,EAAgB9K,EAAS,gBAAgB,EAAG,CAAC,CAAC,CAC9E,CAAO,CAAC,EAAG,EAAE,GAAKyD,EAAmB,GAAI,EAAI,CAAC,EAAG,GAAIoG,EAAU,CAAC,CAChE,CAAK,EACD,EAAG,CACP,EAAK,CAAClK,EAAK,OAAO,OAAS,CACvB,KAAM,SACN,GAAIgE,EAAQ,SAAU7C,EAAO,CAC3B,IAAI0K,EAAU1K,EAAM,QACpB,MAAO,CAAC6J,GAAWhL,EAAK,OAAQ,SAAU,CACxC,QAAS6L,CACjB,CAAO,CAAC,CACR,CAAK,EACD,IAAK,GACT,EAAM,MAAS,CAAC,EAAG,KAAM,CAAC,QAAS,QAAS,WAAY,IAAI,CAAC,CAAC,EAAG,EAAE,EAAGb,GAAWhL,EAAK,OAAQ,SAAU,CACpG,MAAOA,EAAK,QACZ,QAASK,EAAS,cACnB,CAAA,EAAG,CAACL,EAAK,SAAWA,EAAK,SAAWA,EAAK,QAAQ,SAAW,GAAKM,EAAS,EAAIC,EAAmB,OAAQX,EAAW,CACnH,IAAK,EACL,KAAM,SACN,YAAa,SACb,MAAS,qBACb,EAAKI,EAAK,IAAI,oBAAoB,EAAG,CACjC,2BAA4B,EAC7B,CAAA,EAAGmL,EAAgB9K,EAAS,gBAAgB,EAAG,EAAE,GAAKyD,EAAmB,GAAI,EAAI,EAAGI,EAAmB,OAAQtE,EAAW,CACzH,KAAM,SACN,YAAa,SACb,MAAS,qBACb,EAAKI,EAAK,IAAI,uBAAuB,EAAG,CACpC,2BAA4B,EAChC,CAAG,EAAGmL,EAAgB9K,EAAS,mBAAmB,EAAG,EAAE,EAAG6D,EAAmB,OAAQtE,EAAW,CAC5F,IAAK,6BACL,KAAM,eACN,cAAe,OACf,MAAS,yCACT,SAAWI,EAAK,SAA2B,GAAhBA,EAAK,SAChC,QAASC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAAI,UAAY,CAC7C,OAAOI,EAAS,mBAAqBA,EAAS,kBAAkB,MAAMA,EAAU,SAAS,CAC1F,EACL,EAAKL,EAAK,IAAI,uBAAuB,EAAG,CACpC,2BAA4B,GAC5B,0BAA2B,EAC/B,CAAG,EAAG,KAAM,GAAIqK,EAAU,CAAC,EAAG,GAAIvK,EAAU,CAC5C,CAEAL,GAAO,OAASM,gDCthChB,IAAI+L,EAAoB,SAA2BlK,EAAO,CACzD,OAAOmK,EAAgBnK,CAAK,GACxB,CAACoK,EAAUpK,CAAK,CACpB,EAED,SAASmK,EAAgBnK,EAAO,CAC/B,MAAO,CAAC,CAACA,GAAS,OAAOA,GAAU,QACpC,CAEA,SAASoK,EAAUpK,EAAO,CACzB,IAAIqK,EAAc,OAAO,UAAU,SAAS,KAAKrK,CAAK,EAEtD,OAAOqK,IAAgB,mBACnBA,IAAgB,iBAChBC,EAAetK,CAAK,CACzB,CAGA,IAAIuK,EAAe,OAAO,QAAW,YAAc,OAAO,IACtDC,EAAqBD,EAAe,OAAO,IAAI,eAAe,EAAI,MAEtE,SAASD,EAAetK,EAAO,CAC9B,OAAOA,EAAM,WAAawK,CAC3B,CAEA,SAASC,EAAY7H,EAAK,CACzB,OAAO,MAAM,QAAQA,CAAG,EAAI,CAAA,EAAK,CAAA,CAClC,CAEA,SAAS8H,EAA8B1K,EAAOiK,EAAS,CACtD,OAAQA,EAAQ,QAAU,IAASA,EAAQ,kBAAkBjK,CAAK,EAC/D2K,EAAUF,EAAYzK,CAAK,EAAGA,EAAOiK,CAAO,EAC5CjK,CACJ,CAEA,SAAS4K,EAAkBpF,EAAQqF,EAAQZ,EAAS,CACnD,OAAOzE,EAAO,OAAOqF,CAAM,EAAE,IAAI,SAASzD,EAAS,CAClD,OAAOsD,EAA8BtD,EAAS6C,CAAO,CACrD,CAAA,CACF,CAEA,SAASa,EAAiB9J,EAAKiJ,EAAS,CACvC,GAAI,CAACA,EAAQ,YACZ,OAAOU,EAER,IAAII,EAAcd,EAAQ,YAAYjJ,CAAG,EACzC,OAAO,OAAO+J,GAAgB,WAAaA,EAAcJ,CAC1D,CAEA,SAASK,EAAgCxF,EAAQ,CAChD,OAAO,OAAO,sBACX,OAAO,sBAAsBA,CAAM,EAAE,OAAO,SAASyF,EAAQ,CAC9D,OAAO,OAAO,qBAAqB,KAAKzF,EAAQyF,CAAM,CACtD,CAAA,EACC,CAAA,CACJ,CAEA,SAASC,EAAQ1F,EAAQ,CACxB,OAAO,OAAO,KAAKA,CAAM,EAAE,OAAOwF,EAAgCxF,CAAM,CAAC,CAC1E,CAEA,SAAS2F,EAAmBC,EAAQC,EAAU,CAC7C,GAAI,CACH,OAAOA,KAAYD,CACnB,MAAU,CACV,MAAO,EACT,CACA,CAGA,SAASE,EAAiB9F,EAAQxE,EAAK,CACtC,OAAOmK,EAAmB3F,EAAQxE,CAAG,GACjC,EAAE,OAAO,eAAe,KAAKwE,EAAQxE,CAAG,GACvC,OAAO,qBAAqB,KAAKwE,EAAQxE,CAAG,EAClD,CAEA,SAASuK,EAAY/F,EAAQqF,EAAQZ,EAAS,CAC7C,IAAIuB,EAAc,CAAE,EACpB,OAAIvB,EAAQ,kBAAkBzE,CAAM,GACnC0F,EAAQ1F,CAAM,EAAE,QAAQ,SAASxE,EAAK,CACrCwK,EAAYxK,CAAG,EAAI0J,EAA8BlF,EAAOxE,CAAG,EAAGiJ,CAAO,CACxE,CAAG,EAEFiB,EAAQL,CAAM,EAAE,QAAQ,SAAS7J,EAAK,CACjCsK,EAAiB9F,EAAQxE,CAAG,IAI5BmK,EAAmB3F,EAAQxE,CAAG,GAAKiJ,EAAQ,kBAAkBY,EAAO7J,CAAG,CAAC,EAC3EwK,EAAYxK,CAAG,EAAI8J,EAAiB9J,EAAKiJ,CAAO,EAAEzE,EAAOxE,CAAG,EAAG6J,EAAO7J,CAAG,EAAGiJ,CAAO,EAEnFuB,EAAYxK,CAAG,EAAI0J,EAA8BG,EAAO7J,CAAG,EAAGiJ,CAAO,EAExE,CAAE,EACMuB,CACR,CAEA,SAASb,EAAUnF,EAAQqF,EAAQZ,EAAS,CAC3CA,EAAUA,GAAW,CAAE,EACvBA,EAAQ,WAAaA,EAAQ,YAAcW,EAC3CX,EAAQ,kBAAoBA,EAAQ,mBAAqBC,EAGzDD,EAAQ,8BAAgCS,EAExC,IAAIe,EAAgB,MAAM,QAAQZ,CAAM,EACpCa,EAAgB,MAAM,QAAQlG,CAAM,EACpCmG,EAA4BF,IAAkBC,EAElD,OAAKC,EAEMF,EACHxB,EAAQ,WAAWzE,EAAQqF,EAAQZ,CAAO,EAE1CsB,EAAY/F,EAAQqF,EAAQZ,CAAO,EAJnCS,EAA8BG,EAAQZ,CAAO,CAMtD,CAEAU,EAAU,IAAM,SAAsBiB,EAAO3B,EAAS,CACrD,GAAI,CAAC,MAAM,QAAQ2B,CAAK,EACvB,MAAM,IAAI,MAAM,mCAAmC,EAGpD,OAAOA,EAAM,OAAO,SAASC,EAAMC,EAAM,CACxC,OAAOnB,EAAUkB,EAAMC,EAAM7B,CAAO,CACtC,EAAI,CAAE,CAAA,CACL,EAED,IAAI8B,EAAcpB,EAElB,OAAAqB,GAAiBD,iCClIXE,GAAgBjN,EAAwB,CAC5C,eAAgB,CACd,UAAW,CACT,aAAc,CACZ,MAAO,UACP,KAAM,OACN,QAAS,cACX,EACA,aAAc,CACZ,MAAO,UACP,KAAM,MAAA,CACR,CAEJ,EACA,IAAK,CACH,SAAU,CACR,IAAK,CACH,IAAK,CACH,MAAO,UACP,KAAM,MAAA,CACR,CACF,CAEJ,EACA,KAAM,CACJ,SAAU,CACR,KAAM,CACJ,WAAY,CACV,MAAO,UACP,KAAM,MACR,EACA,KAAM,CACJ,MAAO,UACP,KAAM,MAAA,CACR,CACF,CACF,CAEJ,CAAC,EAED,SAASkN,GAAuBC,EAA+BC,EAAiC,CAExF,MAAAC,EAAcC,GAAUH,CAAQ,EACtC,GAAI,CAACC,EACI,OAAAC,EAET,MAAME,EAA+C,CAAC,EAC3C,UAAAvL,KAAOmL,EAAS,UAAW,CAC9B,MAAAK,EAASJ,EAAQpL,CAAG,GAAKA,EAC/BuL,EAAYC,CAAM,EAAIL,EAAS,UAAUnL,CAAG,EACxCuL,EAAYC,CAAM,EAAE,UAAY,SACtBD,EAAAC,CAAM,EAAE,QAClBJ,EAAQG,EAAYC,CAAM,EAAE,OAAO,GAAKD,EAAYC,CAAM,EAAE,QAChE,CAEE,cAAeL,IACjBE,EAAY,UAAYE,GAI1B,MAAME,EAA+D,CAAC,EAC3D,UAAAC,KAAcP,EAAS,SAAU,CAC1C,MAAMQ,EAA8C,CAAC,EACrD,UAAW3L,KAAOmL,EAAS,SAASO,CAAU,EAAG,CACzC,MAAAF,EAASJ,EAAQpL,CAAG,GAAKA,EAC/B2L,EAAWH,CAAM,EAAIL,EAAS,SAASO,CAAU,EAAE1L,CAAG,EAClD2L,EAAWH,CAAM,EAAE,UAAY,SACtBG,EAAAH,CAAM,EAAE,QACjBJ,EAAQO,EAAWH,CAAM,EAAE,OAAO,GAAKG,EAAWH,CAAM,EAAE,QAC9D,CAEFC,EAAYC,CAAU,EAAIC,CAAA,CAE5B,MAAI,aAAcR,IAChBE,EAAY,SAAWI,GAElBJ,CACT,CAEO,SAASO,IAAmB,CACjC,SAASC,EAAmBC,EAAsB,CAChD,OAAOb,GAAc,MAAMa,CAAY,GAAK,CAAC,CAAA,CAG/C,SAASC,EACPD,EACAE,EACAZ,EAAkC,CAAA,EAClC,CACM,MAAAD,EAAWU,EAAmBC,CAAY,EAChD,GAAI,CAACX,EACI,OAAAa,EAEH,MAAAX,EAAcH,GAAuBC,EAAUC,CAAO,EACrD,OAAAa,GAAUD,EAAeX,CAAW,CAAA,CAGtC,MAAA,CACL,cAAAJ,GACA,kBAAAc,EACA,mBAAAF,EACA,uBAAAX,GACA,kBAAmBvJ,EAAS,IAAM,OAAO,KAAKsJ,GAAc,KAAK,CAAC,CACpE,CACF,+PCzGM,MAAAiB,EAAUC,GAAqBvO,EAAA,SAAS,EAKxC,CAAE,kBAAAwO,EAAmB,kBAAAL,EAAmB,mBAAAF,CAAA,EAAuBD,GAAiB,EAChFS,EAAYC,GAAmB,EAErC,SAASC,GAAoB,CACvBC,EAAgB,QAClBH,EAAU,mBAAqB,CAC7B,GAAGN,EAAkBS,EAAgB,MAAOH,EAAU,mBAAoBI,EAAa,KAAK,CAC9F,EACAP,EAAQ,MAAQ,GAClB,CAGF,SAASQ,GAAwB,CACVC,EAAA,MAAQ,CAACA,EAAqB,MAEnDF,EAAa,MAAQG,GAAkBf,EAAmBW,EAAgB,KAAK,CAAC,EAAE,OAChF,CAACK,EAAKC,KACJD,EAAIC,CAAS,EAAIA,EACVD,GAET,CAAA,CACF,CAAA,CAGI,MAAAL,EAAkBxO,EAAY,EAAE,EACtCI,EACE,IAAM8N,EAAQ,MACbtM,GAAM,CACDA,IACF4M,EAAgB,MAAQ,GACxBG,EAAqB,MAAQ,GAC/B,CAEJ,EAEM,MAAAF,EAAezO,EAA4B,EAAE,EAC7C2O,EAAuB3O,EAAI,EAAK,ggDC7BtC,MAAMqO,EAAYC,GAAmB,4gCCVrC,MAAMtQ,EAAQ4B,EAKRyO,EAAYC,GAAmB,EAC/BS,EAAWC,GAAY,EAEvBC,EAAoBjP,EAAI,SAAS,EACjCkP,EAAmBlP,EAAI,EAAE,EACzBmP,EAAkBnP,EAAI,EAAK,EAC3BoP,EAAapP,EAAI,EAAK,EACtBqP,EAAarP,EAAI,WAAW,EAC5BsP,EAAiBtP,EAAgB,EACjCuP,EAAsBvP,EAAI,EAAI,EAE9BwP,EAAa7L,EAAS,IACnB0L,EAAW,QAAU,WAC7B,EAEKI,EAAoB9L,EAAS,IAC7B6L,EAAW,MACNnB,EAAU,mBAAmB,UAG/BA,EAAU,mBAAmB,SAASgB,EAAW,KAAK,CAC9D,EACKK,EAAW/L,EAAS,IAEjB,CAAC,YAAa,GAAG,OAAO,KAAK0K,EAAU,mBAAmB,QAAQ,CAAC,CAC3E,EACKsB,EAAchM,EAAS,IAAyC,CACpE,IAAIiM,EAAqB,CAAC,EAC1B,OAAIJ,EAAW,QACbI,EAAW,OAAO,KAAKvB,EAAU,mBAAmB,SAAS,GAE3DgB,EAAW,SAAShB,EAAU,mBAAmB,WACnDuB,EAAW,OAAO,KAAKvB,EAAU,mBAAmB,SAASgB,EAAW,KAAK,CAAC,GAEzEO,EAAS,IAAKC,IAAS,CAC5B,MAAOA,EACP,KAAO7R,EAAM,QAAQ,SAAS6R,CAAG,EAA+CA,EAA3C,GAAGA,CAAG,kCAAqC,EAChF,CAAA,CACH,EAED,SAASC,EAAaC,EAA+C,CAEnE,MAAMC,EAAO,OAAO,KAAKD,CAAY,EAAE,CAAC,EAClCjB,EAAYiB,EAAaC,CAAI,EAC/BR,EAAW,MAEbnB,EAAU,mBAAmB,UAAU2B,CAAI,EAAI,CAAE,GAAGlB,CAAU,EAGpDT,EAAA,mBAAmB,SAASgB,EAAW,KAAK,EAAEW,CAAI,EAAI,CAAE,GAAGlB,CAAU,EAGjFT,EAAU,mBAAqB,CAAE,GAAGA,EAAU,kBAAmB,EAEjEc,EAAgB,MAAQ,EAAA,CAG1B,MAAMc,EAAetM,EAAS,CAC5B,KAAM,CACJ,OAAIwL,EAAgB,MACX,CAAC,EAEND,EAAiB,MACZ,CACL,CAACA,EAAiB,KAAK,EAAGO,EAAkB,MAAMP,EAAiB,KAAK,CAC1E,EAEK,CAAC,CACV,EACA,IAAI7O,EAA2C,CAChC,OAAO,KAAKA,CAAQ,EAAE,CAAC,GAGxBA,EACVyP,EAAazP,CAAQ,EAErB8O,EAAgB,MAAQ,EAC1B,CACF,CACD,EAEKe,EAAiBvM,EAAS,CAC9B,KAAM,CACJ,OAAO,KAAK,UAAU0K,EAAU,mBAAoB,KAAM,CAAC,CAC7D,EACA,IAAIhO,EAAkB,CAChB,GAAA,CACaiP,EAAA,MAAQ,KAAK,MAAMjP,CAAQ,EAE1CkP,EAAoB,MAAQ,QAChB,CACZA,EAAoB,MAAQ,EAAA,CAC9B,CACF,CACD,EAED,SAASY,GAAkB,CACrBX,EAAW,OACb,QAAQ,IAAI,YAAYN,EAAiB,KAAK,gBAAgB,EAC9D,OAAOb,EAAU,mBAAmB,UAAUa,EAAiB,KAAK,IAEpE,QAAQ,IAAI,YAAYA,EAAiB,KAAK,SAASG,EAAW,KAAK,EAAE,EACzE,OAAOhB,EAAU,mBAAmB,SAASgB,EAAW,KAAK,EAAEH,EAAiB,KAAK,GAGvFb,EAAU,mBAAqB,CAAE,GAAGA,EAAU,kBAAmB,EACjEa,EAAiB,MAAQ,EAAA,CAG3B,SAASkB,GAAuB,CACdjB,EAAA,MAAQ,CAACA,EAAgB,MACzCD,EAAiB,MAAQ,EAAA,CAG3B,SAASmB,EAAWC,EAAwB,CAC1CjC,EAAU,mBAAmB,SAAW,CACtC,GAAGA,EAAU,mBAAmB,SAChC,CAACiC,CAAc,EAAG,CAAA,CACpB,EACAjB,EAAW,MAAQiB,CAAA,CAGrB,SAASC,EAAcC,EAAqB,CACnC,OAAAnC,EAAU,mBAAmB,SAASmC,CAAW,EAExDnC,EAAU,mBAAqB,CAAE,GAAGA,EAAU,kBAAmB,EACjEgB,EAAW,MAAQK,EAAS,MAAMA,EAAS,MAAM,OAAS,CAAC,CAAA,CAGpD,SAAAe,EAAcC,EAAiBC,EAAiB,CACvDtC,EAAU,mBAAmB,SAASsC,CAAO,EAAItC,EAAU,mBAAmB,SAASqC,CAAO,EACvF,OAAArC,EAAU,mBAAmB,SAASqC,CAAO,EACpDrB,EAAW,MAAQsB,CAAA,CAGrB,SAASC,GAAiB,CAExBvC,EAAU,mBAAqBf,GAAUe,EAAU,kBAAkBA,EAAU,cAAc,CAAC,CAAA,CAGhG,SAASwC,GAAuB,CAC1BvB,EAAe,QAAU,QAAaC,EAAoB,QAC5DlB,EAAU,mBAAqBiB,EAAe,MAChD,CAQF,eAAewB,GAA6B,CAC1C,GAAI/B,EAAS,UAAU,iBAAmB,CAACA,EAAS,UAAU,SAAS,SAAU,CAC/EgC,GAAU,+CAA+C,EACzD,MAAA,CAEE,GAAA,CACI,MAAAhC,EAAS,UAAU,sBAAsB,EAC3CA,EAAS,UAAU,qBACXV,EAAA,mBAAqBU,EAAS,UAAU,yBAEtC,CAEdgC,GAAU,kDAAkD,CAAA,CAC9D,CAGF,SAASC,GAAiB,CACxB3C,EAAU,qBAAqBY,EAAkB,MAAOZ,EAAU,kBAAkB,CAAA,CAGtF,SAAS4C,EAAwBnC,EAAoB,CACnDK,EAAgB,MAAQ,GAEpBL,IACWgB,EAAA,CACX,CAAChB,CAAS,EAAG,CACX,MAAOtL,GAAY,CAAA,CACrB,CACD,EACD0L,EAAiB,MAAQJ,EAC3B,CAGF1O,EAAMiP,EAAY,IAAM,CAEtBH,EAAiB,MAAQ,EAAA,CAC1B,EAED9O,EACE,IAAMiO,EAAU,eAChB,IAAM,CACJa,EAAiB,MAAQ,GAEzBD,EAAkB,MAAQZ,EAAU,cAAA,CAExC,EAEAjO,EACE,IAAMpC,EAAM,UACZ,IAAM,CACAA,EAAM,WAEEqQ,EAAA,mBAAqBf,GAAUe,EAAU,UAAU,EAC7DA,EAAU,UAAY,GACtBY,EAAkB,MAAQZ,EAAU,gBAEpCA,EAAU,UAAY,EACxB,CAEJ,EACM,MAAA6C,EAA0BlR,EAAI,EAAK,62GCrNlC,SAASmR,GACdC,EACAC,EACAC,EACAC,EACY,CACN,MAAAC,EAAUJ,EAAQ,QAAQE,CAAO,EACjCG,EAAQL,EAAQ,QAAQG,CAAK,EAC7BG,EAAiBF,EAAU,GAAKC,EAAQ,EAC9C,OAAIC,GACFN,EAAQ,KAAK,GAAGE,CAAO,IAAIC,CAAK,EAAE,EAE7BF,EAAK,IAAKM,GAAa,CAEtB,MAAAC,EAASD,EAAS,MAAM,EAC9B,GAAID,EAAgB,CAClB,MAAMG,EACJD,IAAW,MAAQA,EAAOH,CAAK,IAAM,MAAQG,EAAOJ,CAAO,IAAM,KAC7D,KACAI,EAAOH,CAAK,EAAIG,EAAOJ,CAAO,EAGpCI,EAAO,KAAKC,CAAI,CAAA,CAEX,OAAAD,CAAA,CACR,CACH,CAEO,SAASE,GAA6BC,EAAoC,CAC/E,MAAMC,EAAqB,CAAC,EAC5B,MAAI,cAAeD,GACV,OAAA,QAAQA,EAAW,SAAS,EAAE,QAAQ,CAAC,CAAC/P,EAAKhB,CAAK,IAAM,CACzDA,EAAM,SACRgR,EAAO,KAAK,CAAChQ,EAAKhB,EAAM,OAAO,CAAC,CAClC,CACD,EAEC,aAAc+Q,GAChB,OAAO,OAAOA,EAAW,QAAQ,EAAE,QAASrC,GAAa,CAChD,OAAA,QAAQA,CAAQ,EAAE,QAAQ,CAAC,CAAC1N,EAAKhB,CAAK,IAAM,CAC7CA,EAAM,SACRgR,EAAO,KAAK,CAAChQ,EAAKhB,EAAM,OAAO,CAAC,CAClC,CACD,CAAA,CACF,EAEIgR,CACT,CCrDO,MAAMC,GAAW,EACXC,GAAa,EAEbC,GAAe,EASH,SAAAC,GAAAC,EAAqBC,EAAmBC,EAAoBL,GAAY,CAC/F,MAAMM,EAASF,EAAYD,EAC3B,IAAII,EAAKF,IAAcN,GACvB,OAAIM,IAAcJ,KAChBM,EAAKD,EAASH,EAAc,GAEvBC,EAAYE,GAAUC,EAAKJ,EAAc,EAClD,CCdgB,SAAAK,GACdC,EACAC,EACAC,EACA,CACM,MAAAC,EAAgBC,GAAe,QAAS,CAAE,OAAQ,CAAC,UAAW,OAAO,EAAG,EAExEC,EAAQrP,EAAS,IAAOiP,EAAM,QAAU,OAAS,QAAU,OAAQ,EAEnEK,EAAWjT,EAAI,CAAE,EAAG,EAAG,EAAG,EAAG,EAC7BkT,EAAqB,IACrBC,EAAUnT,EAAI,EAAI,EAClBoT,EAASpT,EAAI,EAAK,EAClBqT,EAAUrT,EAAI,EAAK,EACnBsT,EAAY,GACZC,EAAW,IAEjB,SAASC,EAAQlB,EAAmB,CAClC,OAAOF,GAAeS,EAAa,MAAOP,EAAWH,EAAY,CAAA,CAGnE,SAASsB,EAAU7V,EAAiB,CAC9BuV,EAAQ,OAAS,CAACE,EAAQ,OAAYK,EAAA9V,EAAE,QAASA,EAAE,OAAO,CAAA,CAGhE,SAAS+V,EAAU/V,EAAiB,qBAC9B,GAACwV,EAAO,MAYAC,EAAQ,OAGVO,EAAA,EACRP,EAAQ,MAAQ,IAChBQ,GAAAC,EAAAnB,EAAS,QAAT,YAAAmB,EAAgB,QAAhB,MAAAD,EAAuB,QAAQ,IAAI,YAAaJ,IAChDM,GAAAC,EAAArB,EAAS,QAAT,YAAAqB,EAAgB,QAAhB,MAAAD,EAAuB,QAAQ,IAAI,YAAaJ,IALhDN,EAAQ,MAAQ,OAbC,CACjB,MAAMY,IAAcC,EAAAvB,EAAS,QAAT,YAAAuB,EAAgB,iBAAiB,CAAE,YAAa,GAAK,CACvEtW,EAAE,QACFA,EAAE,OAAA,KACE,CAAC,EAAG,CAAC,EACXqW,EAAY,CAAC,EAAIT,EAAQ,OAAOS,EAAY,CAAC,CAAC,CAAC,EAC/C,MAAME,IAAWC,EAAAzB,EAAS,QAAT,YAAAyB,EAAgB,eAAe,CAAE,YAAa,CAAE,EAAGH,KAAgB,CAAC,EAAG,CAAC,EAEhFhB,EAAA,MAAQ,CAAE,EAAGkB,EAAS,CAAC,EAAG,EAAGA,EAAS,CAAC,CAAE,GAElDE,GAAAC,EAAA3B,EAAS,QAAT,YAAA2B,EAAgB,QAAhB,MAAAD,EAAuB,QAAQ,GAAG,YAAaZ,GACrCc,EAAA,CAAA,CAQZ,CAGF,SAASA,GAAY,OACnBnB,EAAO,MAAQ,IACfc,EAAAvB,EAAS,QAAT,MAAAuB,EAAgB,UAAU,CACxB,SAAU,CAAC,CAAE,SAAU,GAAM,EAC7B,QAAS,CACP,CACE,KAAM,OACN,MAAO,CACL,EAAGjB,EAAS,MAAM,EAClB,MAAO,EACP,EAAGA,EAAS,MAAM,EAClB,OAAQ,CACV,EACA,MAAO,CACL,KAAMD,EAAM,MAEZ,QAAS,EAAA,CAEb,EACA,CAEE,KAAM,OACN,EAAG,EACH,MAAO,CACL,EAAGC,EAAS,MAAM,EAClB,MAAOM,EACP,EAAGN,EAAS,MAAM,EAClB,OAAQK,EACR,EAAG,CACL,EACA,MAAO,CACL,KAAM,UAEN,QAAS,EACX,EACA,YAAa,CACX,EAAG,GACH,MAAO,CACL,KAAM,cACN,KAAM,kBACN,KAAM,OAAA,CAEV,EACA,WAAY,CACV,SAAU,QAAA,CACZ,CACF,CACF,EACD,CAGH,SAASM,GAAU,OACjBR,EAAO,MAAQ,IACfc,EAAAvB,EAAS,QAAT,MAAAuB,EAAgB,UAAU,CACxB,SAAU,CAAC,CAAE,SAAU,GAAO,EAC9B,QAAS,CAAC,CAAE,QAAS,UAAY,CAAE,QAAS,QAAU,CAAA,CAAA,EACvD,CAGM,SAAAR,EAAKc,EAAWC,EAAW,cAClC,MAAMR,IAAcC,EAAAvB,EAAS,QAAT,YAAAuB,EAAgB,iBAAiB,CAAE,YAAa,GAAK,CACvEjB,EAAS,MAAM,EACfA,EAAS,MAAM,CAAA,KACX,CAAC,EAAG,CAAC,EACLyB,IAAYN,EAAAzB,EAAS,QAAT,YAAAyB,EAAgB,iBAAiB,CAAE,YAAa,GAAK,CAACI,EAAGC,CAAC,KAAM,CAAC,EAAG,CAAC,EACjFE,EAAa,OAAOV,EAAY,CAAC,CAAC,EAClCW,EAAW,OAAOF,EAAU,CAAC,CAAC,EAC9BG,EAAYrB,EAAQ,OAAOS,EAAY,CAAC,CAAC,CAAC,EAC1Ca,EAAUtB,EAAQ,OAAOkB,EAAU,CAAC,CAAC,CAAC,EACtCK,EAAW,KAAK,IAAIF,EAAYC,CAAO,EACvCE,IAAKV,EAAA3B,EAAS,QAAT,YAAA2B,EAAgB,eAAe,CAAE,YAAa,CAAK,EAAA,CAACQ,EAAS,CAAC,GAAG,KAAM,EAC5EG,EAAcC,GAAiBH,EAAU,CAAE,MAAO,CAAC,IAAK,IAAK,GAAG,EAAG,EACnEI,EAAM,KAAK,KAAMR,EAAaC,GAAYD,EAAc,GAAG,EAAE,QAAQ,CAAC,GAE5EN,GAAA1B,EAAS,QAAT,MAAA0B,GAAgB,UAAU,CACxB,QAAS,CACP,CAEE,MAAO,CACL,MAAOW,EAAK/B,EAAS,MAAM,EAAI,IAAMA,EAAS,MAAM,EAAI+B,GAAMA,EAAK/B,EAAS,MAAM,EAClF,OAAQwB,EAAIxB,EAAS,MAAM,EAAI,IAAMA,EAAS,MAAM,EAAIwB,GAAKA,EAAIxB,EAAS,MAAM,CAAA,CAEpF,EACA,CAEE,MAAO,CACL,EAAGA,EAAS,MAAM,GAAK+B,EAAK/B,EAAS,MAAM,GAAK,EAAIM,EAAW,EAC/D,EAAGkB,EAAIxB,EAAS,MAAM,EAAIwB,GAAKnB,EAAY,GAAKmB,EAAI,CACtD,EACA,YAAa,CACX,MAAO,CACL,UAAWD,EAAIvB,EAAS,MAAM,EAAI,OAAS,QAC3C,KAAM,GAAG8B,EAAWlC,EAAa,KAAK,UACpC8B,EAAaC,EAAWO,EAAM,IAAMA,CACtC;AAAA,GAASF,CAAW,EAAA,CACtB,CACF,CACF,CACF,GAGF9B,EAAQ,MAAQ,GAChB,WAAW,IAAM,CACfA,EAAQ,MAAQ,EAAA,EACf,IAAOD,CAAkB,CAAA,CAG9B9S,EACE,IAAM0S,EAAc,MACpB,IAAM,SACAA,EAAc,OAAS,CAACM,EAAO,SACjCgB,GAAAF,EAAAvB,EAAS,QAAT,YAAAuB,EAAgB,QAAhB,MAAAE,EAAuB,QAAQ,GAAG,YAAaT,GACjD,CAEJ,CACF,CCxKgB,SAAAyB,GAAkBhE,EAAmBC,EAAmC,CAChF,MAAAgE,EAAUjE,EAAQ,QAAQ,MAAM,EAChCkE,EAAWlE,EAAQ,QAAQ,OAAO,EAClCmE,EAAUnE,EAAQ,QAAQ,MAAM,EAChCoE,EAASpE,EAAQ,QAAQ,KAAK,EAEhC,IAAAqE,EACJ,OAAOpE,EAAK,IAAI,CAACM,EAAU+D,IAAQ,CAE3B,MAAA9D,EAASD,EAAS,MAAM,EACxBgE,EACJD,IAAQ,GACH9D,EAAOyD,CAAO,EAAIzD,EAAO0D,CAAQ,GAAK,GACtCG,EAAWJ,CAAO,EAAII,EAAWH,CAAQ,GAAK,EAC/CM,GAAShE,EAAOyD,CAAO,EAAIzD,EAAO2D,CAAO,EAAI3D,EAAO4D,CAAM,EAAI5D,EAAO0D,CAAQ,GAAK,EAClFO,EAAO,KAAK,IAAIjE,EAAO2D,CAAO,EAAG3D,EAAOyD,CAAO,EAAGzD,EAAO0D,CAAQ,CAAC,EAClEQ,EAAM,KAAK,IAAIlE,EAAO4D,CAAM,EAAG5D,EAAOyD,CAAO,EAAGzD,EAAO0D,CAAQ,CAAC,EAEtE,OAAA1D,EAAOyD,CAAO,EAAIM,EAClB/D,EAAO0D,CAAQ,EAAIM,EACnBhE,EAAO2D,CAAO,EAAIM,EAClBjE,EAAO4D,CAAM,EAAIM,EAEjBL,EAAa7D,EAAO,MAAM,EAEnBA,CAAA,CACR,CACH,CCtBO,SAASmE,GAAeC,EAA+D,CAC5F,GAAI,CAACA,EAAM,MAAO,CAAE,aAAc,GAAI,cAAe,EAAG,EACxD,KAAM,CAACC,EAAcC,CAAa,EAAIF,EAAK,MAAM,GAAG,EACpD,GAAIE,IAAkB,OAAW,CACzB,MAAAC,EAAqBD,EAAc,MAAM,GAAG,EAClD,MAAO,CAAE,aAAAD,EAA4B,cAAeE,EAAmB,CAAC,GAAKD,CAAc,CAAA,CAG7F,MAAO,CAAE,aAAcA,GAAiB,GAAI,cAAeD,GAAgB,EAAG,CAChF,CCVA,SAASG,GAAiBC,EAAwBH,EAA+B,CAC/E,MAAO,GAAGG,EAAM,gBAAkB,MAAQ,IAAM,GAAG,GAAGC,GACpD,SAAUD,EAAQA,EAAM,KAAOA,EAAM,OAASA,EAAM,WACpDH,CAAA,CACD,EACH,CAEA,SAASK,GACPC,EACAH,EACAI,EACAP,EACQ,CACR,IAAIQ,EAAU,GAAGF,EAAM,SAAW,QAAU,MAAM,IAAIC,CAAI;AAAA,IACxDE,GAAcH,EAAM,YAAY,CAAC,IACjCA,EAAM,WAAa,IAAMF,GAAoBE,EAAM,WAAYN,CAAa,EAAI,IAAM,EACxF;AAAA,IACEE,GAAiBC,EAAOH,CAAa,CAAC;AAAA,eAC3BM,EAAM,WAAa,EAAE;AAAA,iBACnBF,GAAoBD,EAAM,WAAYH,CAAa,CAAC,GACnE,OAAAQ,GAAW,GAAG,iBAAkBL,GAASA,EAAM,cAAgBG,EAAM,WAAaH,EAAM,aAAe;AAAA,aAAkBA,EAAM,aAAe,EAAE,GAChJK,GAAW,GAAGF,EAAM,YAAc;AAAA,YAAiBA,EAAM,YAAc,EAAE,GAClEE,CACT,CAEA,SAASE,GACPJ,EACAH,EACAH,EACQ,CACR,IAAIQ,EAAU,GAAGF,EAAM,SAAW,QAAU,MAAM;AAAA,IAChDJ,GAAiBC,EAAOH,CAAa,CAAC;AAAA,eAC3BM,EAAM,WAAa,EAAE,GACvB,OAAAE,GAAA,GAAG,iBAAkBL,GAASA,EAAM,aAAe;AAAA,aAAkBA,EAAM,aAAe,EAAE,GAEhGK,CACT,CAEA,MAAMG,GACJ,gPACIC,GACJ,mLAEIC,GAAc,UAEdC,GAAa,UAInB,SAASC,GAAgBC,EAAsBC,EAAiB,CAC9D,MAAMC,EAAmC,CAAC,EASpCC,EAAmBH,EAAQ,aAAeA,EAAQ,aAC/C,QAAAvY,EAAI,EAAG0C,EAAM8V,EAAO,OAAQxY,EAAI0C,EAAK1C,GAAK,EAAG,CAC9C,MAAA6X,EAAeW,EAAOxY,CAAC,EACvB2Y,EAASd,EAAM,qBAAuBA,EAAM,eAClD,IAEEpE,GAAe8E,EAAQ,cAAgB,EAAGV,EAAM,cAAc,GAAKa,GACnE,CAACb,EAAM,iBACNA,EAAM,iBAAmBA,EAAM,iBAAmBU,EAAQ,gBAEvDV,EAAM,OACR,QAAS7X,EAAI,EAAGA,EAAI6X,EAAM,OAAO,OAAQ7X,IAAK,CACtC,MAAA0X,EAAyBG,EAAM,OAAO7X,CAAC,EACvC4Y,EACJlB,EAAM,yBACL,oBAAqBA,EAAQA,EAAM,gBAAkBG,EAAM,gBACxD,CAAE,cAAAN,CAAkB,EAAAH,GAAeS,EAAM,gBAAkBA,EAAM,MAAQ,EAAE,EAE/Ee,GACAnF,GAAe8E,EAAQ,cAAgB,EAAGK,CAAO,GAAKF,GACtDE,EAAUL,EAAQ,gBAGdvY,IAAM,EACRyY,EAAU,KAAK,CACbhF,GAAe8E,EAAQ,cAAgB,EAAGI,CAAM,EAChDjB,EAAM,WACNS,GACAT,EAAM,eAAiB,OAAS,IAAM,EACtCG,EAAM,SAAWO,GAAcC,IAC9BR,EAAM,SAAW,QAAU,SACxBH,EAAM,uBAAqC,GAAZ,WACnCE,GAAaC,EAAOH,EAAO,QAASH,CAAa,CAAA,CAClD,EAEQvX,IAAM6X,EAAM,OAAO,OAAS,GAAKA,EAAM,gBAE9CpE,GAAe8E,EAAQ,cAAgB,EAAGV,EAAM,eAAe,GAC7Da,GACFb,EAAM,gBAAkBU,EAAQ,eAChCV,EAAM,UAAY,IAElBY,EAAU,KAAK,CACbhF,GAAe8E,EAAQ,cAAgB,EAAGV,EAAM,eAAe,EAC/DH,EAAM,WACNS,GACAN,EAAM,SAAW,EAAI,IACrBA,EAAM,SAAWO,GAAcC,GAC/BL,GAAcH,EAAM,aAAc,CAAC,EACnCD,GAAaC,EAAOH,EAAO,OAAQH,CAAa,CAAA,CACjD,GAMDG,EAAM,gBAAkB,YACvB,WAAYA,IAAUA,EAAM,QAAU,GAAK,IAG5Ce,EAAU,KAAK,CACbhF,GAAe8E,EAAQ,cAAgB,EAAGK,CAAO,EACjDlB,EAAM,WACNQ,GACAR,EAAM,eAAiB,OAAS,IAAM,EACtCG,EAAM,SAAWO,GAAcC,GAC/B,GACAJ,GAAuBJ,EAAOH,EAAOH,CAAa,CAAA,CACnD,EAGP,CAGN,CAEF,MAAO,CAAE,UAAAkB,CAAU,CACrB,CAMO,SAASI,GACdC,EACA7E,EACAsE,EACAC,EACqB,CACrB,KAAM,CAAE,UAAAC,CAAc,EAAAH,GAAgBC,EAASC,CAAM,EAE/CO,EAAYP,EAAO,KAAM1Y,GAAMA,EAAE,OAAO,EAExCkZ,EAAoC,CACxC,KAAMF,EACN,KAAM,UACN,WAAY,EACZ,WAAY,EACZ,OAAQ,CACN,EAAG,EACH,EAAG,EACH,MAAO,EACP,QAAS,CACX,EACA,MAAO,CACL,KAAM,GACN,SAAU,GACV,gBAAiB7E,IAAU,OAAS,OAAS,OAC7C,QAAS,EACT,MAAOA,IAAU,OAAS,OAAS,OACnC,OAAQ,GACR,OAAQ,CAAC,GAAI,CAAC,EACd,MAAO,MACT,EACA,UAAW,CAET,MAAQhR,GAAOA,EAAE,KAAOA,EAAE,KAAK,CAAC,EAAI,OACpC,QAAS,EACX,EACA,OAASA,GAAMA,EAAE,CAAC,EAClB,aAAeA,GAAMA,EAAE,CAAC,EACxB,WAAY,GACZ,KAAMwV,CACR,EAEA,GAAIM,EAAW,CAGP,MAAAlF,EAAS0E,EAAQ,aAAe,GAEtCS,EAAa,SAAW,CACtB,OAAQ,OACR,MAAO,CACL,KAAM,GACN,SAAU,QACZ,EACA,KAAM,CACJ,CACE,CACE,KAAM,WACN,MAAOD,EAAU,cACjB,UAAW,CACT,MAAO,YACP,KAAM,OACR,EACA,MACER,EAAQ,aAAe1E,EAASkF,EAAU,eACtCA,EAAU,eACVR,EAAQ,aAAe1E,CAC/B,EACA,CACE,UAAW,CACT,MAAO,YACP,KAAM,OACR,EACA,MAAOkF,EAAU,cACjB,MAAOA,EAAU,iBAAmBR,EAAQ,aAAeA,EAAQ,YAAA,CACrE,CACF,CAEJ,CAAA,CAEK,OAAAS,CACT,CAEO,SAASC,GAAiBV,EAA8D,CAC7F,OAAKA,EAAQ,YA2BN,CACL,SA1BwC,CACxC,MAAO,CACL,SAAU,WACZ,EACA,KAAMA,EAAQ,YACX,OAAQW,GAASA,EAAK,MAAQ,MAAM,EACpC,IAAKA,GACG,CACL,CACE,MAAOA,EAAK,MACZ,MAAOA,EAAK,QACZ,UAAW,CACT,MAAOA,EAAK,KACd,EACA,MAAO,CACL,UAAWA,EAAK,KAAA,CAEpB,EACA,CACE,MAAOA,EAAK,IACZ,MAAOA,EAAK,KAAA,CAEhB,CACD,CACL,CAGA,EA7BiC,CAAC,CA8BpC,CC7PO,SAASC,GACdC,EACAlI,EACA7N,EACAhB,EACAgX,EAAO,EACe,CACtB,MAAMC,EAA2B,CAC/B,KAAMjW,EACN,KAAMhB,EAAM,MAAQ,OACpB,WAAYgX,EACZ,WAAYA,EACZ,UAAW,CACT,MAAOhX,EAAM,OAASwC,GAAY,CACpC,EACA,OAAQ,CACN,EAAGuU,EACH,EAAGlI,CACL,EACA,WAAY,EACd,EACI,OAAA7O,EAAM,OAAS8C,GAAU,UACxBmU,EAAA,WAAgBjX,EAAM,mBAAqB,EAC9CiX,EAAG,SAAc,CACf,SAAU,EACZ,GAEKA,CACT,CAEO,SAASC,GACdH,EACAI,EACAnW,EACAhB,EACAgX,EAAO,EACe,CACtB,MAAMI,EAA6B,CAEjC,KAAMtU,GAAU,IAClB,EACMuU,EAAaP,GACjBC,EACAI,EACAnW,EACAoW,EACAJ,CACF,EAEMM,EAAgC,CACpC,MAAOtW,EACP,cAAe,MACf,UAAW,CACT,QAAS,CACX,EACA,WAAY,GACZ,UAAW,CACT,MAAOhB,EAAM,MACb,QAAS,EACX,EACA,QAAS,CACP,KAAM,EAAA,CAEV,EAEO,cAAA,OAAOqX,EAAYC,CAAW,EAE9BD,CACT,kCCHME,GAAU,GACVC,GAAgB,EAShBC,GAAiB,UACjBC,GAAwB,UACxBC,GAAkB,UAClBC,GAAuB,0MAvDzBC,GAAA,CACFC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEAC,GAGAC,GACAC,GACAC,GACAC,GACAC,GACAC,EAAA,CACD,EAED,MAAMhc,EAAQ4B,EAaRqa,EAActW,EAAS,IAAM3F,EAAM,YAAc,MAAM,EAEvDkc,EAAaD,EAAY,MAAQ,OAAS,KAC1CE,EAAcF,EAAY,MAAQ,KAAO,OAKzCG,EAAUpc,EAAM,QAChBqc,EAAgBrc,EAAM,QACtBsc,EAAYtc,EAAM,UAClBuc,EAAkBvc,EAAM,UAQxBwc,EAAcxa,EAAkC,EAChDya,EAAeza,EAAmB,EAAE,EAEpC0a,EAAW/W,EAAS,IACjB3F,EAAM,QAAUA,EAAM,QAAQ,SAAW,EACjD,EAEKgY,EAAOrS,EAAS,IACb3F,EAAM,QAAUA,EAAM,QAAQ,KAAO,EAC7C,EAEK2c,EAAYhX,EAAS,IAClB3F,EAAM,QAAUA,EAAM,QAAQ,UAAY,EAClD,EAEK4c,EAAUjX,EAAS,IAChB3F,EAAM,UAAY,MAAQ,OAAOA,EAAM,SAAY,QAC3D,EAEK6c,EAAiBlX,EAAS,IACvB3F,EAAM,OAAO,OAAQ8H,GAAgBA,EAAK,OAASkQ,EAAK,KAAK,CACrE,EAEK8E,EAAanX,EAAS,IACnB,GAAG+W,EAAS,KAAK,MAAM1E,EAAK,KAAK,MAAM2E,EAAU,KAAK,EAC9D,EAEKI,EAAWpX,EAAS,IACjBmO,GAA6B9T,EAAM,UAAU,CACrD,EAED0U,GACE8H,EACAQ,GAAM,IAAMhd,EAAM,KAAK,EACvBgd,GAAM,IAAMhd,EAAM,QAAQ,YAAY,CACxC,EAES,SAAAid,EAAYC,EAAU,GAAO,gBAChC,GAAA,CAACN,EAAQ,MACX,QAEE1G,GAAAuG,EAAa,QAAb,MAAAvG,GAAoB,QACtBuG,EAAa,MAAM,MAAM,CAAC,EAAE,KAAOK,EAAW,OAGhD,MAAM1J,EAAUpT,EAAM,QAAQ,QAAQ,MAAM,EAEtC+Z,EAAU3G,EAAQ,UAAWnP,GAAOA,IAAO,WAAW,EACtDkZ,EAAU/J,EAAQ,UAAWnP,GAAOA,IAAO,MAAM,EACjDmZ,EAAUhK,EAAQ,UAAWnP,GAAOA,IAAO,MAAM,EACjDoZ,EAASjK,EAAQ,UAAWnP,GAAOA,IAAO,KAAK,EAC/CqZ,EAAWlK,EAAQ,UAAWnP,GAAOA,IAAO,OAAO,EACnDsZ,EAAYnK,EAAQ,UAAWnP,GAAOA,IAAO,QAAQ,EACrDuZ,EAAepK,EAAQ,UAC1BnP,GAAOA,IAAO,qBAAuBA,IAAO,0BAC/C,EACMwZ,EAAcrK,EAAQ,UACzBnP,GAAOA,IAAO,sBAAwBA,IAAO,yBAChD,EAEMyZ,EAAoBtK,EAAQ,UAAWnP,GAAOA,IAAO,2BAA2B,EAChF0Z,EAAmBvK,EAAQ,UAAWnP,GAAOA,IAAO,0BAA0B,EAE9E2Z,GACJ,aAAc5d,EAAM,WAAa,OAAO,KAAKA,EAAM,WAAW,QAAQ,EAAE,OAAS,EAAI,EAEvF,GAAI,MAAM,SAAQoW,EAAAqG,EAAa,QAAb,YAAArG,EAAoB,QAAQ,EAE5C,GAAI8G,EAAS,CACX,MAAMW,GAAgB,EAAI,IAAM7d,EAAM,QAAQ,QAAU,IACxDyc,EAAa,MAAM,SAAS,QAAQ,CAACxY,EAAItD,KAAM,CACzC8b,EAAa,OAASA,EAAa,MAAM,WAC3CA,EAAa,MAAM,SAAS9b,EAAC,EAAE,MAAQkd,EACzC,CACD,CAAA,MAGDpB,EAAa,MAAM,SAAS,QAAQ,CAACxY,EAAItD,IAAM,CACzC8b,EAAa,OAASA,EAAa,MAAM,WAC3C,OAAOA,EAAa,MAAM,SAAS9b,CAAC,EAAE,MACtC,OAAO8b,EAAa,MAAM,SAAS9b,CAAC,EAAE,IACxC,CACD,EAGL,IAAIuY,EAAUlZ,EAAM,WAChBoX,GAAkBhE,EAASpT,EAAM,QAAQ,IAAI,EAC7CA,EAAM,QAAQ,KAAK,MAAM,EAE7B+c,EAAS,MAAM,QAAQ,CAAC,CAACzJ,EAASC,CAAK,IAAM,CAE3C2F,EAAU/F,GAAcC,EAAS8F,EAAS5F,EAASC,CAAK,CAAA,CACzD,EAEK,MAAAuK,EAAW,MAAM5E,EAAQ,OAAS,EAAIA,EAAQA,EAAQ,OAAS,CAAC,EAAE,OAAS,CAAC,EACzE4E,EAAA/D,CAAO,EAAIb,EAAQA,EAAQ,OAAS,CAAC,EAAEa,CAAO,EAAI/Z,EAAM,QAAQ,aAAe,EACxFkZ,EAAQ,KAAK4E,CAAQ,EAErB,MAAM7Q,GAAyB,CAC7B,QAAS,CACP,OAAQiM,CACV,EACA,KAAM,CACJ,CACE,KAAMgD,EACN,MAAOC,EAEP,OAAQ,GAAGyB,GAAepD,GAAgB,CAAC,GAC7C,EACA,CAEE,KAAM0B,EACN,MAAOC,EAEP,OAAQ,GAAGyB,GAAepD,EAAa,IACvC,OAAQ,GAAGA,EAAa,GAAA,CAE5B,EAEA,OAAQ,CACN,CACE,KAAM,UACN,KAAM,cACN,SAAU,MACV,UAAW,CACT,MAAO4B,EACP,OAAQE,EACR,YAAaD,EACb,aAAcE,CAChB,EACA,OAAQ,CACN,EAAGxC,EAEH,EAAG,CAACoD,EAASG,EAAUD,EAAQD,CAAO,CACxC,EACA,GAAGxD,GAAiB5Z,EAAM,OAAO,CACnC,EACA,CACE,KAAM,SACN,KAAM,MACN,WAAY,EACZ,WAAY,EACZ,UAAW,CACT,MAAO,SACT,EACA,MAAO,GACP,OAAQ,CACN,EAAG+Z,EACH,EAAGwD,CAAA,CACL,CACF,CAEJ,EAEA,GAAI,MAAM,QAAQtQ,GAAQ,MAAM,EAAG,CACjC,MAAM8Q,EAAgB,CACpB,CACE,QAASP,EACT,KAAM,QACN,OAAQ,WACR,WAAY,GACZ,MAAO/C,GACP,cAAe,YACjB,EACA,CACE,QAASgD,EACT,KAAM,OACN,OAAQ,UACR,WAAY,EACZ,MAAO9C,GACP,cAAe,WACjB,EACA,CACE,QAAS+C,EACT,KAAM,QACN,OAAQ,WACR,WAAY,GACZ,aAAc,IACd,MAAOhD,GACP,cAAe,aACjB,EACA,CACE,QAASiD,EACT,KAAM,OACN,OAAQ,MACR,WAAY,EACZ,MAAO/C,GACP,cAAe,YAAA,CAEnB,EAEA,UAAWoD,KAAUD,EACfC,EAAO,SAAW,GACpB/Q,GAAQ,OAAO,KAAK,CAClB,KAAM+Q,EAAO,KACb,KAAM,UACN,OAAQA,EAAO,OACf,WAAYA,EAAO,WACnB,aAAcA,EAAO,cAAgB,EACrC,WAAY,EACZ,WAAY,EACZ,UAAW,CACT,MAAOA,EAAO,KAChB,EACA,QAAS,CACP,eAAiBhb,IAAWA,GAAQ,GAAGgb,EAAO,aAAa,IAAIhb,EAAK,GAAK,EAC3E,EACA,OAAQ,CACN,EAAG+W,EACH,EAAGiE,EAAO,OAAA,CACZ,CACD,CAEL,CAsCE,GAlCG,OAAA,OAAOvB,EAAa,MAAOxP,EAAO,EAErC,cAAejN,EAAM,YAChB,OAAA,QAAQA,EAAM,WAAW,SAAS,EAAE,QAAQ,CAAC,CAACgE,EAAKhB,CAAK,IAAM,yBACnE,MAAM6O,GAAMuB,EAAQ,UAAWnP,IAAOA,KAAOD,CAAG,EAChD,GAAI6N,GAAM,GAIR,GAHI,CAAC,MAAM,SAAQqE,GAAAuG,EAAa,QAAb,YAAAvG,GAAoB,MAAM,KAAKI,IAAAF,EAAAqG,EAAa,QAAb,YAAArG,EAAoB,SAApB,MAAAE,GAA4B,OAC5EmG,EAAa,MAAM,OAAO,KAAK,KAAKzY,CAAG,EAErC,MAAM,SAAQqS,GAAAoG,EAAa,QAAb,YAAApG,GAAoB,MAAM,EAAG,CAG7C,IAFaP,GAAA2G,EAAA,QAAA,MAAA3G,GAAO,OAAO,KAAKgE,GAAqBC,EAASlI,GAAK7N,EAAKhB,CAAK,GAEzEA,EAAM,QAAS,CAEjB,MAAMib,GAAa,GAAGja,CAAG,IAAIhB,EAAM,OAAO,GACpCmX,GAAU/G,EAAQ,UAAWnP,IAAOA,KAAOga,EAAU,EACrD7D,GAA6B,CACjC,MAAOpX,EAAM,MACb,KAAM8C,GAAU,IAClB,EACMuU,GAAaH,GAAyBH,EAASI,GAASnW,EAAKoW,GAAW,CAAC,EAElEqC,EAAA,MAAM,OAAOA,EAAa,MAAM,OAAO,OAAS,CAAC,EAAE,MAAWzY,EAC9DyY,EAAA,MAAM,OAAO,KAAKpC,EAAU,CAAA,EAE9BrE,GAAAyG,EAAA,QAAA,MAAAzG,GAAO,OAAO,SAAOH,GAAA4G,EAAa,QAAb,YAAA5G,GAAoB,OAAO,QAAS,EAAG,EAAC,OAGpE,QAAA,IAAI,WAAW7R,CAAG,sCAAsC,CAClE,CACD,EAIC,aAAchE,EAAM,WAAY,CAClC,IAAIke,EAAY,EACT,OAAA,QAAQle,EAAM,WAAW,QAAQ,EAAE,QAAQ,CAAC,CAACgE,EAAKhB,EAAK,IAAM,CAKlE,MAAMmb,GAAcD,EAChB,MAAM,QAAQzB,EAAa,MAAM,KAAK,GAAKA,EAAa,MAAM,MAAM,QAAUyB,GACnEzB,EAAA,MAAM,MAAM,KAAK,CAC5B,MAAO,GACP,UAAW0B,GACX,KAAMna,EACN,SAAUhE,EAAM,UAChB,aAAc,SACd,QAASua,GACT,UAAW,CACT,KAAM,GACN,YAAa,EACf,EACA,SAAU,CAAE,KAAM,EAAM,EACxB,SAAU,CAAE,KAAM,EAAM,EACxB,UAAW,CAAE,KAAM,EAAM,CAAA,CAC1B,EAEC,MAAM,QAAQkC,EAAa,MAAM,KAAK,GAAKA,EAAa,MAAM,MAAM,QAAUyB,GACnEzB,EAAA,MAAM,MAAM,KAAK,CAC5B,KAAM,OACN,UAAW0B,GACX,SAAU,CAAE,OAAQ,EAAM,EAC1B,SAAU,CAAE,KAAM,EAAM,EACxB,UAAW,CAAE,KAAM,EAAM,EACzB,YAAa,CACX,MAAO,CAAE,KAAM,EAAM,CACvB,EACA,UAAW,CAAE,KAAM,EAAM,EACzB,YAAa,EAAA,CACd,EAEC,MAAM,QAAQ1B,EAAa,MAAM,QAAQ,GAC3CA,EAAa,MAAM,SAAS,QAASxY,GACnCA,EAAG,YAAc,MAAM,QAAQA,EAAG,UAAU,EAAIA,EAAG,WAAW,KAAKia,CAAS,EAAI,IAClF,EAEEzB,EAAa,MAAM,MAAQ,MAAM,QAAQA,EAAa,MAAM,IAAI,GACrDA,EAAA,MAAM,KAAK,KAAK,CAC3B,KAAMP,EACN,MAAOC,EACP,OAAQ,IAAIyB,GAAeM,EAAY,GAAK1D,EAAa,IACzD,OAAQ,GAAGA,EAAa,GAAA,CACzB,EAEI,OAAA,QAAQxX,EAAK,EAAE,QAAQ,CAAC,CAACob,EAAIC,EAAE,IAAM,cAE1C,MAAMxM,GAAMuB,EAAQ,UAAWnP,IAAOA,KAAOma,CAAE,EAC/C,GAAIvM,GAAM,GAIJ,GAHA,CAAC,MAAM,QAAQ4K,EAAa,MAAM,MAAM,KAAKvG,GAAAuG,EAAa,MAAM,SAAnB,MAAAvG,GAA2B,OAC1EuG,EAAa,MAAM,OAAO,KAAK,KAAK2B,CAAE,EAEpC3B,EAAa,MAAM,QAAU,MAAM,QAAQA,EAAa,MAAM,MAAM,EAAG,CAEzE,GADaA,EAAA,MAAM,OAAO,KAAK3C,GAAqBC,EAASlI,GAAKuM,EAAIC,GAAIH,CAAS,CAAC,EAChFG,GAAG,QAAS,CAEd,MAAMJ,GAAa,GAAGG,CAAE,IAAIC,GAAG,OAAO,GAChClE,GAAU/G,EAAQ,UAAWnP,IAAOA,KAAOga,EAAU,EACrD7D,GAA6B,CACjC,MAAOiE,GAAG,MACV,KAAMvY,GAAU,IAClB,EACMuU,GAAaH,GACjBH,EACAI,GACAiE,EACAhE,GACA8D,CACF,EAEazB,EAAA,MAAM,OAAOA,EAAa,MAAM,OAAO,OAAS,CAAC,EAAE,MAAW2B,EAC9D3B,EAAA,MAAM,OAAO,KAAKpC,EAAU,CAAA,EAE9B/D,GAAAmG,EAAA,QAAA,MAAAnG,GAAO,OAAO,SAAOF,GAAAqG,EAAa,QAAb,YAAArG,GAAoB,OAAO,QAAS,EAAG,EAAC,OAGpE,QAAA,IAAI,WAAWgI,CAAE,gCAAgC,CAC3D,CACD,EAEYF,GAAA,CAAA,CACd,CAAA,CAQC,MAAM,QAAQzB,EAAa,MAAM,IAAI,IAE1BA,EAAA,MAAM,KAAKA,EAAa,MAAM,KAAK,OAAS,CAAC,EAAE,OAAS,OAC9D,OAAAA,EAAa,MAAM,KAAKA,EAAa,MAAM,KAAK,OAAS,CAAC,EAAE,KAGrE,MAAMhD,GAAa,SACf,CAAC,MAAM,QAAQgD,EAAa,MAAM,MAAM,KAAKnG,GAAAmG,EAAa,MAAM,SAAnB,MAAAnG,GAA2B,OAE1EmG,EAAa,MAAM,OAAO,KAAK,OAAO,EAAG,EAAGhD,EAAU,EAExD,MAAME,GAAoCH,GACxCC,GACAzZ,EAAM,MACNA,EAAM,QACN6c,EAAe,KACjB,EACI,MAAM,QAAQJ,EAAa,MAAM,MAAM,GAC5BA,EAAA,MAAM,OAAO,KAAK9C,EAAY,GAIjCtD,GAAAmG,EAAA,QAAA,MAAAnG,GAAO,UAAUoG,EAAa,MAAO,CAC/C,aAAc,CAAC,SAAU,OAAQ,QAAS,QAAS,QAAQ,EAC3D,SAAUS,CAAA,EACX,CAGH,SAASoB,GAAyB,QAEhCpI,EAAAsG,EAAY,QAAZ,MAAAtG,EAAmB,UAAU,GAAI,CAAE,SAAU,KAE7CuG,EAAa,MAAQ,CACnB,MAAO,CACL,CAEE,KAAM,EAAA,CAEV,EACA,gBAAiB,mBACjB,OAAQzc,EAAM,OACd,UAAW,GACX,OAAQ,CAEN,KAAM,CAAC,UAAW,SAAU,QAAS,MAAM,EAC3C,MAAO,KACP,KAAM,SACN,cAAe,CACb,MAAOA,EAAM,QAAU,OAAS,UAAY,MAC9C,EACA,cAAeA,EAAM,QAAU,OAAS,OAAS,UACjD,sBAAuBA,EAAM,QAAU,OAAS,UAAY,MAC9D,EACA,QAAS,CACP,KAAM,GACN,QAAS,OACT,WAAY,WACZ,gBAAiB,qBACjB,YAAa,EACb,UAAW,CACT,MAAO,MACT,EACA,YAAa,CACX,KAAM,QACN,UAAW,CACT,MAAO,UACP,MAAO,EACP,QAAS,CAAA,CAEb,EAEA,SAASue,EAAKC,EAAQC,EAAK9b,EAAM+b,EAAM,CAG/B,MAAAC,EAAM,CAAE,IAAK,EAAG,EAChBC,EAAcL,EAAI,CAAC,EAAIG,EAAK,SAAS,CAAC,EAAI,EAC5C,OAAAC,EAAA,CAAC,OAAQ,OAAO,EAAE,CAACC,CAAW,CAAC,EAAIA,EAAc,EAAI,GAClDD,CAAA,CAEX,EACA,YAAa,CACX,KAAM,CAAC,CAAE,WAAY,MAAO,EAC5B,MAAO,CACL,gBAAiB,MAAA,CAErB,EACA,MAAO,CACL,CACE,KAAM,OACN,SAAU,CAAE,OAAQ,EAAM,EAC1B,SAAU,CAAE,KAAM,EAAK,EACvB,UAAW,CAAE,KAAM,EAAK,EACxB,YAAa,CACX,MAAO,CAAE,KAAM,EAAM,CACvB,EACA,SAAU,MACV,UAAW,CAAE,KAAM,EAAM,EACzB,YAAa,GACb,IAAK,UACL,IAAK,SACP,EACA,CACE,KAAM,OACN,UAAW,EACX,SAAU,CAAE,OAAQ,EAAM,EAC1B,SAAU,CAAE,KAAM,EAAM,EACxB,UAAW,CAAE,KAAM,EAAM,EACzB,YAAa,CACX,MAAO,CAAE,KAAM,EAAM,CACvB,EACA,UAAW,CAAE,KAAM,EAAM,EACzB,YAAa,GACb,IAAK,UACL,IAAK,SAAA,CAET,EACA,MAAO,CACL,CACE,MAAO,GACP,IAAM3b,GACGA,EAAM,KAAOA,EAAM,IAAMA,EAAM,KAAO,IAE/C,IAAMA,GACGA,EAAM,KAAOA,EAAM,IAAMA,EAAM,KAAO,IAE/C,SAAUhD,EAAM,SAClB,EACA,CACE,MAAO,GACP,UAAW,EACX,YAAa,EACb,KAAM,SACN,aAAc,SACd,SAAUA,EAAM,UAChB,QAASua,GACT,UAAW,CAAE,KAAM,EAAM,EACzB,SAAU,CAAE,KAAM,EAAM,EACxB,SAAU,CAAE,KAAM,EAAM,EACxB,UAAW,CAAE,KAAM,EAAM,CAAA,CAE7B,EACA,SAAU,CAER,CACE,KAAM,SACN,WAAY,CAAC,EAAG,CAAC,EACjB,MAAO,GACP,IAAK,GACP,EACA,CACE,WAAY,CAAC,EAAG,CAAC,EACjB,OAAQ,GACR,MAAO,GACP,IAAK,IACL,GAAGsE,EAAA,CACL,CAmBJ,EAEA,QAAQ,IAAI,aAAa,EACzB5B,EAAY,EAAI,CAAA,CAGlB,SAAS6B,GAAuB,CAC1B,GAAA,CAAC9e,EAAM,eAAgB,OAE3B,MAAMkI,EAAQlI,EAAM,eAAe,WAAaA,EAAM,QAAQ,aAAe,GACvEmI,EAAMnI,EAAM,eAAe,SAC7BA,EAAM,eAAe,SAAWA,EAAM,QAAQ,aAAe,GAC7DA,EAAM,eAAe,WAAaA,EAAM,QAAQ,aAAe,GAC/Dwc,EAAY,OACdA,EAAY,MAAM,eAAe,CAC/B,KAAM,WACN,cAAe,EACf,WAAYtU,EACZ,SAAUC,CAAA,CACX,CACH,CAqBF,OAAAhG,GAAU,IAAM,CACSmc,EAAA,CAAA,CACxB,EAEDlc,EAAM,CAAC,IAAMpC,EAAM,OAAQ,IAAMA,EAAM,MAAO,IAAMA,EAAM,UAAU,EAAG,IACrEse,EAAuB,CACzB,EAEMlc,EAAA,CAAC,IAAMpC,EAAM,QAAS,IAAMA,EAAM,UAAU,EAAG,IAAMid,GAAa,EAExE7a,EACE,IAAMpC,EAAM,eACZ,IAAM8e,EAAqB,CAC7B,u8CC3oBA,MAAM9e,EAAQ4B,EAeRC,EAAOC,EAIPid,EAAgBC,GAAiB,EACjCC,EAAaC,GAAc,EAC3BnO,EAAWC,GAAY,EACvBX,EAAYC,GAAmB,EAE/B6O,EAAiBnd,EAAa,EAE9BkX,EAAUvT,EAAS,IAAmB,SAC1C,OAAI3F,EAAM,cACDkW,EAAAnF,EAAS,UAAU,QAAQ,GAAGA,EAAS,UAAU,QAAQ,KAAK/Q,EAAM,SAAS,EAAE,IAA/E,YAAAkW,EAAkF,MAEpFE,EAAArF,EAAS,UAAU,WAAW,GAAGA,EAAS,UAAU,QAAQ,KAAK/Q,EAAM,SAAS,EAAE,IAAlF,YAAAoW,EAAqF,IAAA,CAC7F,EACKgJ,EAAezZ,EAAS,WAAM,OAAA3F,EAAM,YAAYkW,EAAAgD,EAAQ,QAAR,YAAAhD,EAAe,WAAY,GAAE,EAC7EmJ,EAAiB1Z,EAAS,IAC9BuT,EAAQ,MAASA,EAAQ,MAAM,aAAeA,EAAQ,MAAM,QAAW,CAAA,CACzE,EACMoG,EAAuB3Z,EAAS,IACpCuT,EAAQ,MAASA,EAAQ,MAAM,SAAWA,EAAQ,MAAM,YAAe,CAAA,CACzE,EAEMqG,EAAa5Z,EAAS,IAAMuT,EAAQ,OAASA,EAAQ,MAAM,KAAK,OAAS,CAAC,EAC1EsG,EAAmB7Z,EAAS,IAC5B3F,EAAM,aACD+Q,EAAS,UAAU,gBAAkB0O,GAAc,QAGrD1O,EAAS,UAAU,mBAAqB0O,GAAc,OAC9D,EACKC,EAAgB/Z,EAAS,IAAc,CAK3C,OAJe3F,EAAM,aACjB+Q,EAAS,UAAU,cACnBA,EAAS,UAAU,iBAEP,CACd,KAAK0O,GAAc,WACV,MAAA,kBACT,KAAKA,GAAc,QACV,MAAA,aACT,KAAKA,GAAc,QACV,MAAA,oBACT,KAAKA,GAAc,MACV,MAAA,sBACT,QACS,MAAA,SAAA,CACX,CACD,EACKE,EAAsB3d,EAAI,EAAK,EAErC,SAAS4d,GAAmB,CACtB5f,EAAM,gBACY2f,EAAA,MAAQ,CAACA,EAAoB,MAElCR,EAAA,MAAQ,CAACA,EAAe,KACzC,CAGF,SAASU,GAAU,CACjBhe,EAAK,cAAekP,EAAS,UAAU,SAAUV,EAAU,WAAW,CAAA,CAGxE,SAASyP,GAAqB,CACvBP,EAAW,OACNM,EAAA,CACV,CAGF,OAAAzd,EACE,IAAMpC,EAAM,eACZ,IAAM,CACCA,EAAM,eAAe,KAAM+f,GAAMA,IAAMhP,EAAS,UAAU,QAAQ,IACrE,CAACA,EAAS,UAAU,QAAQ,EAAI/Q,EAAM,eAC9B6f,EAAA,EACV,CAEJ,EAEAzd,EACE,IAAM2O,EAAS,UAAU,aACzB,IAAM,CACKA,EAAA,UAAU,SAAWA,EAAS,UAAU,YAAA,CAErD,EAEA3O,EACE,IAAM2O,EAAS,UAAU,SACzB,IAAM,CACC/Q,EAAM,cACD6f,EAAA,CACV,CAEJ,EAEAzd,EACE,IAAMiO,EAAU,WAChB,IAAM,CAEE,MAAA2P,EAAgB3P,EAAU,YAAY,KACzC4P,GAAMZ,EAAe,MAAM,SAASY,CAAC,GAAK,CAACX,EAAqB,MAAM,SAASW,CAAC,CACnF,EAEIlB,EAAc,qBAAuBiB,GAC/BH,EAAA,CACV,CAEJ,EAEAzd,EACE,IAAMpC,EAAM,UACZ,IAAM,CACe8f,EAAA,CAAA,CAEvB,EAEA3d,GAAU,IAAM,CACdgd,EAAe,MAAQnf,EAAM,gBACzB+Q,EAAS,UAAU,aACZA,EAAA,UAAU,SAAWA,EAAS,UAAU,aACxC/Q,EAAM,eAAe,OAAS,IACvC,CAAC+Q,EAAS,UAAU,QAAQ,EAAI/Q,EAAM,gBAExCqQ,EAAU,kBAAkB,EACTyP,EAAA,CAAA,CACpB","x_google_ignoreList":[0,1,2,4,5,6,9,10,11,12]}