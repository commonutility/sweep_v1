{"version":3,"file":"HomeView-CUhztuos.js","sources":["../../src/components/BotRename.vue","../../src/components/BotList.vue","../../src/views/HomeView.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useBotStore } from '@/stores/ftbotwrapper';\nimport type { BotDescriptor } from '@/types';\nconst props = defineProps({\n  bot: { type: Object as () => BotDescriptor, required: true },\n});\nconst emit = defineEmits<{ cancelled: []; saved: [] }>();\n\nconst botStore = useBotStore();\nconst newName = ref<string>('');\n\nonMounted(() => {\n  newName.value = props.bot.botName;\n});\n\nconst save = () => {\n  botStore.updateBot(props.bot.botId, {\n    botName: newName.value,\n  });\n\n  emit('saved');\n};\n</script>\n\n<template>\n  <form class=\"flex w-full gap-2\" @submit.prevent=\"save\">\n    <InputText v-model=\"newName\" size=\"small\" class=\"w-full\" placeholder=\"Bot name\" autofocus />\n\n    <div class=\"flex gap-1\">\n      <Button type=\"submit\" size=\"small\" severity=\"secondary\" title=\"Save\" class=\"w-8 h-8 p-0!\">\n        <i-mdi-check />\n      </Button>\n\n      <Button\n        size=\"small\"\n        severity=\"secondary\"\n        title=\"Cancel\"\n        class=\"w-8 h-8 p-0!\"\n        @click=\"$emit('cancelled')\"\n      >\n        <i-mdi-close />\n      </Button>\n    </div>\n  </form>\n</template>\n","<script setup lang=\"ts\">\nimport LoginModal from '@/components/LoginModal.vue';\n\nimport { useBotStore } from '@/stores/ftbotwrapper';\nimport type { AuthStorageWithBotId, BotDescriptor } from '@/types';\nimport { useSortable } from '@vueuse/integrations/useSortable';\n\ndefineProps({\n  small: { default: false, type: Boolean },\n});\n\nconst botStore = useBotStore();\n\nconst editingBots = ref<string[]>([]);\nconst loginModal = ref<typeof LoginModal>();\nconst sortContainer = ref<HTMLElement | null>(null);\nconst botListComp = computed<BotDescriptor[]>(() => {\n  //Convert to array\n  return botStore.availableBotsSorted;\n});\n\nuseSortable(sortContainer, botListComp, {\n  handle: '.handle',\n  onUpdate: (e) => {\n    const oldBotId = botListComp.value[e.oldIndex].botId;\n    const newBotId = botListComp.value[e.newIndex].botId;\n    botStore.updateBot(oldBotId, { sortId: e.newIndex });\n    botStore.updateBot(newBotId, { sortId: e.oldIndex });\n  },\n});\n\nconst editBot = (botId: string) => {\n  if (!editingBots.value.includes(botId)) {\n    editingBots.value.push(botId);\n  }\n};\n\nconst editBotLogin = (botId: string) => {\n  const loginInfo: AuthStorageWithBotId = {\n    ...botStore.botStores[botId].getLoginInfo(),\n    botId,\n  };\n  loginModal.value?.openLoginModal(loginInfo);\n};\n\nconst stopEditBot = (botId: string) => {\n  if (!editingBots.value.includes(botId)) {\n    return;\n  }\n\n  editingBots.value.splice(editingBots.value.indexOf(botId), 1);\n};\n</script>\n\n<template>\n  <div v-if=\"botStore.botCount > 0\">\n    <h3 v-if=\"!small\" class=\"font-bold text-2xl mb-2\">Available bots</h3>\n    <ul\n      ref=\"sortContainer\"\n      class=\"flex flex-col divide-y border-x border-surface-500 rounded-sm border-y divide-solid divide-surface-500\"\n    >\n      <li\n        v-for=\"bot in botListComp\"\n        :key=\"bot.botId\"\n        :active=\"bot.botId === botStore.selectedBot\"\n        button\n        :title=\"`${bot.botId} - ${bot.botName} - ${bot.botUrl} - ${\n          botStore.botStores[bot.botId].isBotLoggedIn ? '' : 'Login info expired!'\n        }`\"\n        class=\"flex items-center p-2\"\n        :class=\"{\n          'bg-primary-100 dark:bg-primary-800': bot.botId === botStore.selectedBot,\n        }\"\n        @click=\"botStore.selectBot(bot.botId)\"\n      >\n        <i-mdi-reorder-horizontal v-if=\"!small\" class=\"handle cursor-pointer me-2 fs-4\" />\n        <BotRename\n          v-if=\"editingBots.includes(bot.botId)\"\n          :bot=\"bot\"\n          @saved=\"stopEditBot(bot.botId)\"\n          @cancelled=\"stopEditBot(bot.botId)\"\n        />\n\n        <BotEntry\n          v-else\n          :bot=\"bot\"\n          :no-buttons=\"small\"\n          @edit=\"editBot(bot.botId)\"\n          @edit-login=\"editBotLogin(bot.botId)\"\n        />\n      </li>\n    </ul>\n    <LoginModal v-if=\"!small\" ref=\"loginModal\" class=\"mt-2\" login-text=\"Add new bot\" />\n  </div>\n</template>\n","<script setup lang=\"ts\"></script>\n\n<template>\n  <div class=\"mt-5\">\n    <div class=\"flex justify-center\">\n      <BotList />\n    </div>\n    <Divider />\n    <!-- <img alt=\"Freqtrade logo\" src=\"../assets/freqtrade-logo.png\" width=\"450px\" class=\"my-5\" /> -->\n    <div title=\"Freqtrade logo\" class=\"logo-svg my-5 mx-auto dark:bg-white bg-black\" />\n    <h1 class=\"font-bold text-4xl mb-4\">Welcome to the Freqtrade UI</h1>\n    <div>This page allows you to control your trading bot.</div>\n    <Divider />\n    <p class=\"mb-2\">\n      If you need any help, please refer to the\n      <a\n        class=\"text-primary underline cursor-pointer\"\n        href=\"https://www.freqtrade.io/en/latest/\"\n        target=\"_blank\"\n        >Freqtrade Documentation</a\n      >.\n    </p>\n\n    <p>Have fun - <i>wishes you the Freqtrade team</i></p>\n  </div>\n</template>\n\n<style lang=\"css\" scoped>\n.logo-svg {\n  -webkit-mask: url(../assets/freqtrade-logo-mask.png) no-repeat center;\n  -webkit-mask-size: 240px 240px;\n  mask: url(../assets/freqtrade-logo-mask.png) no-repeat center;\n  mask-size: contain;\n  width: 250px;\n  height: 250px;\n}\n</style>\n"],"names":["props","__props","emit","__emit","botStore","useBotStore","newName","ref","onMounted","save","editingBots","loginModal","sortContainer","botListComp","computed","useSortable","e","oldBotId","newBotId","editBot","botId","editBotLogin","loginInfo","_a","stopEditBot","_hoisted_1","_openBlock","_createElementBlock","_hoisted_2","_cache","_createElementVNode","_createTextVNode"],"mappings":"6bAGA,MAAMA,EAAQC,EAGRC,EAAOC,EAEPC,EAAWC,EAAY,EACvBC,EAAUC,EAAY,EAAE,EAE9BC,EAAU,IAAM,CACNF,EAAA,MAAQN,EAAM,IAAI,OAAA,CAC3B,EAED,MAAMS,EAAO,IAAM,CACRL,EAAA,UAAUJ,EAAM,IAAI,MAAO,CAClC,QAASM,EAAQ,KAAA,CAClB,EAEDJ,EAAK,OAAO,CACd,mtBCVA,MAAME,EAAWC,EAAY,EAEvBK,EAAcH,EAAc,EAAE,EAC9BI,EAAaJ,EAAuB,EACpCK,EAAgBL,EAAwB,IAAI,EAC5CM,EAAcC,EAA0B,IAErCV,EAAS,mBACjB,EAEDW,EAAYH,EAAeC,EAAa,CACtC,OAAQ,UACR,SAAWG,GAAM,CACf,MAAMC,EAAWJ,EAAY,MAAMG,EAAE,QAAQ,EAAE,MACzCE,EAAWL,EAAY,MAAMG,EAAE,QAAQ,EAAE,MAC/CZ,EAAS,UAAUa,EAAU,CAAE,OAAQD,EAAE,SAAU,EACnDZ,EAAS,UAAUc,EAAU,CAAE,OAAQF,EAAE,SAAU,CAAA,CACrD,CACD,EAEK,MAAAG,EAAWC,GAAkB,CAC5BV,EAAY,MAAM,SAASU,CAAK,GACvBV,EAAA,MAAM,KAAKU,CAAK,CAEhC,EAEMC,EAAgBD,GAAkB,OACtC,MAAME,EAAkC,CACtC,GAAGlB,EAAS,UAAUgB,CAAK,EAAE,aAAa,EAC1C,MAAAA,CACF,GACWG,EAAAZ,EAAA,QAAA,MAAAY,EAAO,eAAeD,EACnC,EAEME,EAAeJ,GAAkB,CAChCV,EAAY,MAAM,SAASU,CAAK,GAIrCV,EAAY,MAAM,OAAOA,EAAY,MAAM,QAAQU,CAAK,EAAG,CAAC,CAC9D,4mCC/CSK,EAAA,CAAA,MAAM,MAAqB,iEAAhC,OAAAC,EAAA,EAEMC,EAAA,MAAAF,EAAA,GADO,MAAAG,EAAA,MAEF,KAEwE,EAA9EC,EAAK,KAAiBA,EAAA,CAAA,EAAAC,EAAA,MAAA,CAAC,MAAM,qEAClC,EAAA,KAAA,EAAA,GACAD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAA4D,YAAN,yBAAA,EAAA,8BAAA,EAAA,GACtDD,EAAW,CAAA,IAAAA,EAAA,CAAA,EAAAC,EAAA,MAAA,KAAA,oDAAA,EAAA,MASP,EArBRD,EAAA,CAAA,IAAAA,EAeM,CAAA,EAAAC,EAAA,IAAA,CAAA,MAAA,QAAA,CAAAC,EAKC,6CAAA,EAJCD,EAA6C,IAAA,CAC7C,MAA0C,wCAC1C,KAAM,6CACkB,QAnBhC,EAAA,yBAqBI,gBArBJD,EAAA,CAAA,IAAAA,EAuBkB,CAAA,EAAAC,EAAA,IAAA,KAAA,CAAAC,EAAA"}